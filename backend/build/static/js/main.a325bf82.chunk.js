(this["webpackJsonpcoder-community"]=this["webpackJsonpcoder-community"]||[]).push([[0],{132:function(e,t,n){},151:function(e,t,n){e.exports=n.p+"static/media/ccLogo.0e19e0ce.svg"},160:function(e,t,n){e.exports=n.p+"static/media/user.686737aa.svg"},163:function(e,t,n){e.exports=n.p+"static/media/composeIcon.b2af7e08.svg"},164:function(e,t,n){e.exports=n.p+"static/media/plusIcon.f96e0dd6.svg"},166:function(e,t,n){e.exports=n.p+"static/media/sendIcon.f62fb785.svg"},167:function(e,t,n){e.exports=n.p+"static/media/defaultPostFeaturedImage.af665b7b.jpg"},168:function(e,t,n){e.exports=n.p+"static/media/bookmarkEmpty.3dc95b30.svg"},169:function(e,t,n){e.exports=n.p+"static/media/write_the_first_comment.e1e50607.svg"},170:function(e,t,n){e.exports=n.p+"static/media/reply.2e768d34.svg"},189:function(e,t,n){e.exports=n(245)},190:function(e,t,n){},242:function(e,t){},245:function(e,t,n){"use strict";n.r(t);n(190);var r,a=n(313),o=n(0),i=n.n(o),l=n(21),c=n.n(l),s=n(2),u=n(11),d=(n(75),n(22)),f=n(25),p=n(7),m=n(13),g=n(8),h=n(299),v=n(298),b=n(297),O=n(320),y=n(246),E=n(301),j=n(173),C=n(296),w=n(291),x=n(300),I=n(117),P=n(155),D=n.n(P),S=n(115),k=n.n(S),T=n(157),G=n.n(T),q=n(116),F=n.n(q),L=n(156),N=n.n(L),U=n(151),R=n.n(U),A=Object(w.a)({root:{backgroundColor:"#5D67E9",color:"white",width:"fit-content",height:"2em",border:"none",borderRadius:"10px",fontSize:"15px",padding:"10px",display:"flex",alignItems:"center"}}),B=function(e){var t=e.handleClick,n=(e.params,e.content),r=A();return i.a.createElement("button",{onClick:t,className:r.root},n)};!function(e){e.ProfilePic="ProfilePic",e.BannerPic="BannerPic"}(r||(r={}));var M=n(318),_={state:"abc"};function z(){_.state=Object(M.a)(),window.location.href="https://github.com/login/oauth/authorize?client_id=".concat("1172e5f10b0d169a374a","&state=").concat(_.state)}var V=n(321);function J(){var e=Object(p.a)(["\n  margin-top: 17px;\n  margin-right: 0.7em;\n  cursor: pointer;\n"]);return J=function(){return e},e}var W=Object(w.a)((function(e){var t;return{appBar:{zIndex:e.zIndex.drawer+1,color:"black",backgroundColor:"white"},toolbar:e.mixins.toolbar,drawerPaper:{width:240,boxShadow:"5px 2px 5px #cccccc"},menuButton:(t={},Object(m.a)(t,e.breakpoints.up("sm"),{display:"none"}),Object(m.a)(t,"toolbar",e.mixins.toolbar),Object(m.a)(t,"drawerPaper",{width:240}),Object(m.a)(t,"boxShadow","5px 2px 5px #cccccc"),t),search:Object(m.a)({borderRadius:e.shape.borderRadius,backgroundColor:"#FAFAFA",paddingTop:"10px",paddingBottom:"10px",marginRight:"auto",width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto",maxWidth:"120%"}),searchIcon:{width:e.spacing(7),position:"absolute",pointerEvents:"none",marginTop:"0.5em",marginLeft:"1em"},inputRoot:{color:"inherit"},inputInput:Object(m.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:550}),sectionDesktop:Object(m.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(m.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),link:{textDecoration:"none"}}}));function H(e){var t=g.a.div(J()),n=Object(s.c)((function(e){return e.isLoggedIn})),r=Object(s.c)((function(e){return e.user})),a=Object(f.g)(),o=(Object(s.b)(),W()),l=i.a.useState(null),c=Object(u.a)(l,2),p=c[0],m=c[1],w=i.a.useState(null),P=Object(u.a)(w,2),S=P[0],T=P[1],q=Boolean(p),L=Boolean(S),U=function(e){m(e.currentTarget)},A=function(){T(null)},M=function(){m(null),A()},_="primary-search-account-menu",H=i.a.createElement(j.a,{anchorEl:p,anchorOrigin:{vertical:"top",horizontal:"right"},id:_,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:q,onClose:M},i.a.createElement(C.a,{onClick:function(){a.push("/user/".concat(r.userID)),M()}},"Profile"),i.a.createElement(C.a,{onClick:function(){a.push("/logout"),M()}},"Log Out")),K=i.a.createElement(j.a,{anchorEl:S,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:L,onClose:A},i.a.createElement(C.a,null,i.a.createElement(b.a,{"aria-label":"show 2 new messages",color:"inherit"},i.a.createElement(v.a,{badgeContent:2,color:"secondary"},i.a.createElement(k.a,null))),i.a.createElement("p",null,"Messages")),i.a.createElement(C.a,null,i.a.createElement(b.a,{"aria-label":"show 1 new notifications",color:"inherit"},i.a.createElement(v.a,{badgeContent:1,color:"secondary"},i.a.createElement(F.a,null))),i.a.createElement("p",null,"Notifications")),i.a.createElement(C.a,{onClick:U},i.a.createElement(b.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},i.a.createElement(V.a,{alt:"avatar",src:null===r||void 0===r?void 0:r.profilePic})),i.a.createElement("p",null,"Profile")));return i.a.createElement("div",null,i.a.createElement(h.a,{position:"fixed",className:o.appBar,style:{display:"flex"}},i.a.createElement(x.a,null,i.a.createElement(b.a,{edge:"start",color:"inherit","aria-label":"Open drawer",onClick:e.handleDrawerToggle,className:o.menuButton},i.a.createElement(D.a,null)),i.a.createElement("img",{src:R.a,style:{width:"5em"},alt:""}),i.a.createElement("div",{className:o.search},i.a.createElement("div",{className:o.searchIcon},i.a.createElement(N.a,null)),i.a.createElement(I.a,null,i.a.createElement(O.a,{placeholder:"Search\u2026",classes:{root:o.inputRoot,input:o.inputInput},inputProps:{"aria-label":"search"},onKeyDown:function(e){if(13===e.keyCode){var t=e.target.value;a.push("/search?q=".concat(t))}}}))),i.a.createElement("div",{style:{display:"flex",flex:1}}),i.a.createElement(y.a,{style:{width:"unset"}},i.a.createElement(E.a,null,i.a.createElement(d.b,{to:"/",className:o.link},i.a.createElement("h4",{style:{marginRight:"0.7em"}},"Home")),n&&i.a.createElement(t,null,i.a.createElement(d.b,{to:"/create-post",className:o.link},i.a.createElement(B,{content:"Add a Post"}))),!n&&i.a.createElement(t,null,i.a.createElement("div",{onClick:z},i.a.createElement(B,{content:"Log In with GitHub"}))))),n&&i.a.createElement("div",{className:o.sectionDesktop},i.a.createElement(b.a,{"aria-label":"show 2 new messages",color:"inherit"},i.a.createElement(v.a,{badgeContent:2,color:"secondary"},i.a.createElement(k.a,null))),i.a.createElement(b.a,{"aria-label":"show 1 new notifications",color:"inherit"},i.a.createElement(v.a,{badgeContent:1,color:"secondary"},i.a.createElement(F.a,null))),i.a.createElement(b.a,{edge:"end","aria-label":"account of current user","aria-controls":_,"aria-haspopup":"true",onClick:U,color:"inherit"},i.a.createElement(V.a,{alt:"avatar",src:null===r||void 0===r?void 0:r.profilePic}))),i.a.createElement("div",{className:o.sectionDesktop}),i.a.createElement("div",{className:o.sectionMobile},i.a.createElement(b.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){T(e.currentTarget)},color:"inherit"},i.a.createElement(G.a,null))))),K,H)}var K=n(79),Y=n.n(K),$=Object(w.a)({root:{marginTop:"3em",display:"flex",flexDirection:"column",height:"auto",width:"40vw",backgroundColor:"white",boxShadow:"3px 3px #F2F2F2",marginBottom:"1em",borderRadius:"5px",paddingLeft:"1.5em",paddingRight:"1.5em"},button:{border:"none",outline:"none",borderRadius:"5px",margin:"2em auto",height:"7vh",backgroundColor:"#F2F2F2","&:hover":{backgroundColor:"#fafafa"},fontFamily:"Arial",fontSize:"1.5em"}});function X(e){var t=e.setImg,n=$();return i.a.createElement("div",{className:n.root},i.a.createElement("form",null,i.a.createElement(Y.a,{buttonText:"Upload Image",withPreview:!0,withIcon:!0,onChange:function(e){console.log("CREATEPOST::IMGPANEL"),console.log(e),t(e)},imgExtension:[".jpg",".jpeg",".gif",".png",".gif"],maxFileSize:5242880,singleImage:!0,buttonStyles:{backgroundColor:"#6a6a6a",boxShadow:"3px 3px #FFFFFF"}})))}var Q=Object(w.a)({cptext:{display:"flex",outline:"none",flexDirection:"column",height:"60vh",width:"40vw",backgroundColor:"white",boxShadow:"3px 3px #F2F2F2",marginBottom:"1em",borderRadius:"5px",paddingLeft:"1.5em",paddingRight:"1.5em"},cptitle:{border:"none",outline:"none","&:hover":{backgroundColor:"#F2F2F2"},margin:"0.5em auto",width:"100%",height:"10vh",fontFamily:"Arial",fontSize:"2em"},cpcontent:{border:"none",outline:"none","&:hover":{backgroundColor:"#F2F2F2"},margin:"0.5em auto",width:"100%",height:"15vh",fontFamily:"Arial",fontSize:"1em",fontWeight:"bold",display:"flex",overflow:"auto"}});function Z(e){var t=e.title,n=e.content,r=Q();return i.a.createElement("div",{className:r.cptext},i.a.createElement("form",null,i.a.createElement("input",{className:r.cptitle,type:"text",placeholder:t||"Title",onChange:function(t){e.setTitle(t.target.value)}}),i.a.createElement("br",null),i.a.createElement("textarea",{className:r.cpcontent,id:"text",onChange:function(t){e.setContent(t.target.value)},placeholder:n||"Type content"})))}var ee=n(315),te=n(319);function ne(){var e=Object(p.a)(["\n  color: ",";\n  font-size: small;\n  background-color: ",";\n  min-width: fit-content;\n  padding: 5px 10px 5px 10px;\n  border: 1px solid #5D67E9;\n  border-radius: 5px;\n  cursor: pointer;\n"]);return ne=function(){return e},e}function re(){var e=Object(p.a)(["\n  color: black;\n  font-size: small;\n"]);return re=function(){return e},e}function ae(){var e=Object(p.a)(["\n  cursor: ",";\n  font-weight: bold;\n  color: ","\n"]);return ae=function(){return e},e}var oe=Object(w.a)({account:{display:"flex",flexDirection:"row"},accountImg:{width:"3em",height:"3em",borderRadius:"50%",marginTop:"0.5em"},smallAccountImg:{width:"2.2em",height:"2.2em",borderRadius:"50%",marginTop:"1em",marginRight:"0.3em"},imgTitle:{display:"flex",flexDirection:"row"},nameTime:{display:"flex",flexDirection:"column",marginLeft:"0.5em"}}),ie=g.a.span(ae(),(function(e){return e.titleSrc?"pointer":"default"}),(function(e){var t=e.isPost,n=e.isText;return t?"#5D67E9":n?"black":"#5DCBAF"})),le=g.a.span(re()),ce=g.a.span(ne(),(function(e){return e.buttonIsClicked?"white":"#5D67E9"}),(function(e){return e.buttonIsClicked?"#5D67E9":"white"})),se=function(e){var t=e.small,n=e.pic,r=e.title,a=e.titleSrc,l=e.subtitle,c=e.extraText,s=e.extraTextOnClick,d=e.isPost,p=e.isButton,m=e.isText,g=e.subtitleIsDate,h=oe(),v=Object(o.useState)(!1),b=Object(u.a)(v,2),O=b[0],y=b[1],E=Object(f.g)();return i.a.createElement("div",{className:h.account},i.a.createElement("img",{className:t?h.smallAccountImg:h.accountImg,src:n,alt:"avatar"}),i.a.createElement("div",{className:h.nameTime},i.a.createElement("p",null,i.a.createElement(ie,{isPost:d,isText:m,onClick:a&&function(){E.push(a)},titleSrc:a},r,"\xa0\xa0\xa0"),!p&&i.a.createElement(le,{onClick:s},c),p&&i.a.createElement(ce,{buttonIsClicked:O,onClick:function(){return y((function(e){return!e}))}},c)),i.a.createElement("p",{style:{marginTop:g?"-1.1em":"-0.8em",fontSize:g?"13px":"15px",color:g?"gray":"black"}},l)))},ue=n(5),de=n(314),fe=Object(ue.a)({root:{"& label.Mui-focused":{color:"black"},"& .MuiInput-underline:after":{borderBottomColor:"black"}}})(de.a),pe=Object(w.a)((function(e){return Object(te.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},margin:{width:"97%",paddingRight:"10px",margin:e.spacing(1)}})})),me=function(e){var t=e.name,n=e.description,r=e.setName,a=e.setDescription,o=pe();return i.a.createElement(i.a.Fragment,null,i.a.createElement(fe,{className:o.margin,id:"custom-css-standard-input",label:t,onChange:function(e){r(e.target.value)},required:!0}),n&&i.a.createElement(fe,{className:o.margin,id:"custom-css-standard-input",label:n,onChange:function(e){return a(e.target.value)}}))};function ge(e){var t=e.label,n=e.options,r=e.defaultValID,a=e.imgKey,o=e.setItems,l=(e.limit,e.panelWidth),c=Object(w.a)((function(e){return Object(te.a)({root:{width:l,"& > * + *":{marginTop:e.spacing(3)}}})}))();return i.a.createElement("div",{className:c.root},i.a.createElement(ee.a,{multiple:!0,id:"tags-standard",defaultValue:null===r||void 0===r?void 0:r.map((function(e){return n[e]})),options:n,disableCloseOnSelect:!0,renderOption:a&&function(e){return i.a.createElement(se,{pic:e[a],title:e.name,subtitle:"",extraText:""})},getOptionLabel:function(e){return e.name},filterSelectedOptions:!0,renderInput:function(e){return i.a.createElement(fe,Object.assign({},e,{variant:"standard",label:t,placeholder:""}))},onChange:function(e,t){var n=t.map((function(e){return e._id}));o(n)}}))}var he=Object(w.a)({cptag:{display:"flex",flexDirection:"column",height:"50vh",width:"40vw",backgroundColor:"white",boxShadow:"3px 3px #F2F2F2",marginBottom:"1em",borderRadius:"5px",paddingLeft:"1.5em",paddingRight:"1.5em"},h4:{marginBottom:"0.5em"},display:{fontWeight:"bold",marginBottom:"1em"},input:{width:"100%",height:"2em",border:"none",outline:"none",background:"white","&:hover":{backgroundColor:"#F2F2F2"}},tags:{display:"flex",flexDirection:"row",margin:"0 0",padding:"0 0"}});function ve(e){var t=he();return console.log("CREATEPOST::TAGPANEL"),console.log(e.allTagsArr),i.a.createElement("div",{className:t.cptag},i.a.createElement("form",{id:"tagform"},i.a.createElement(ge,{label:"Add Tags",options:e.allTagsArr,setItems:e.setPostTags,panelWidth:"40vw"})))}var be=n(12),Oe=n.n(be),ye=n(15),Ee=n(29),je=n(27),Ce=n(28),we=n(175),xe=n(23),Ie=n(6);function Pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.headers||(t.headers=new Headers);try{t.headers.Authorization="Bearer "+localStorage.getItem("jwt")}catch(n){console.log(n)}return fetch(e,t)}var De="http://ec2-13-229-215-75.ap-southeast-1.compute.amazonaws.com".replace(/\/+$/,""),Se=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pe;Object(xe.a)(this,e),this.basePath=n,this.fetch=r,this.configuration=void 0,t&&(this.configuration=t,this.basePath=t.basePath||this.basePath)},ke=function(e){Object(je.a)(n,e);var t=Object(Ce.a)(n);function n(e,r){var a;return Object(xe.a)(this,n),(a=t.call(this,r)).field=e,a.name=void 0,a}return n}(Object(we.a)(Error)),Te=function(e){return{authControllerLogOut:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("body","Required parameter body was null or undefined when calling authControllerLogOut.");var n="/api/logout",r=Ie.parse(n,!0),a=Object.assign({method:"POST"},t),o={},i={};o["Content-Type"]="application/json",r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers);var l=!0;return a.body=l?JSON.stringify(e||{}):e||"",{url:Ie.format(r),options:a}},authControllerLoginGitHub:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("body","Required parameter body was null or undefined when calling authControllerLoginGitHub.");var n="/api/login/github",r=Ie.parse(n,!0),a=Object.assign({method:"POST"},t),o={},i={};o["Content-Type"]="application/json",r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers);var l=!0;return a.body=l?JSON.stringify(e||{}):e||"",{url:Ie.format(r),options:a}},authControllerLoginGoogle:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("body","Required parameter body was null or undefined when calling authControllerLoginGoogle.");var n="/api/login/google",r=Ie.parse(n,!0),a=Object.assign({method:"POST"},t),o={},i={};o["Content-Type"]="application/json",r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers);var l=!0;return a.body=l?JSON.stringify(e||{}):e||"",{url:Ie.format(r),options:a}}}},Ge=function(e){return{authControllerLogOut:function(e,t){var n=Te().authControllerLogOut(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},authControllerLoginGitHub:function(e,t){var n=Te().authControllerLoginGitHub(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},authControllerLoginGoogle:function(e,t){var n=Te().authControllerLoginGoogle(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}}}},qe=function(e){Object(je.a)(n,e);var t=Object(Ce.a)(n);function n(){return Object(xe.a)(this,n),t.apply(this,arguments)}return Object(Ee.a)(n,[{key:"authControllerLogOut",value:function(e,t){return Ge(this.configuration).authControllerLogOut(e,t)(this.fetch,this.basePath)}},{key:"authControllerLoginGitHub",value:function(e,t){return Ge(this.configuration).authControllerLoginGitHub(e,t)(this.fetch,this.basePath)}},{key:"authControllerLoginGoogle",value:function(e,t){return Ge(this.configuration).authControllerLoginGoogle(e,t)(this.fetch,this.basePath)}}]),n}(Se),Fe=function(e){return{devControllerCreateCustomUser:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("body","Required parameter body was null or undefined when calling devControllerCreateCustomUser.");var n="/api/dev/create-user",r=Ie.parse(n,!0),a=Object.assign({method:"POST"},t),o={},i={};o["Content-Type"]="application/json",r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers);var l=!0;return a.body=l?JSON.stringify(e||{}):e||"",{url:Ie.format(r),options:a}},devControllerCreatePostDev:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/api/dev/create-post",n=Ie.parse(t,!0),r=Object.assign({method:"POST"},e),a={},o={};return n.query=Object.assign({},n.query,o,e.query),delete n.search,r.headers=Object.assign({},a,e.headers),{url:Ie.format(n),options:r}},devControllerGetJwt:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("id","Required parameter id was null or undefined when calling devControllerGetJwt.");var n="/api/dev/jwt/{id}".replace("{".concat("id","}"),encodeURIComponent(String(e))),r=Ie.parse(n,!0),a=Object.assign({method:"GET"},t),o={},i={};return r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers),{url:Ie.format(r),options:a}},devControllerLoginDev:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/api/dev/login",n=Ie.parse(t,!0),r=Object.assign({method:"GET"},e),a={},o={};return n.query=Object.assign({},n.query,o,e.query),delete n.search,r.headers=Object.assign({},a,e.headers),{url:Ie.format(n),options:r}},devControllerMarco:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/api/dev/marco",n=Ie.parse(t,!0),r=Object.assign({method:"GET"},e),a={},o={};return n.query=Object.assign({},n.query,o,e.query),delete n.search,r.headers=Object.assign({},a,e.headers),{url:Ie.format(n),options:r}},devControllerMarcoPersonal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/api/dev/marco/personal",n=Ie.parse(t,!0),r=Object.assign({method:"GET"},e),a={},o={};return n.query=Object.assign({},n.query,o,e.query),delete n.search,r.headers=Object.assign({},a,e.headers),{url:Ie.format(n),options:r}}}},Le=function(e){return{devControllerCreateCustomUser:function(e,t){var n=Fe().devControllerCreateCustomUser(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},devControllerCreatePostDev:function(e){var t=Fe().devControllerCreatePostDev(e);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(n+t.url,t.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},devControllerGetJwt:function(e,t){var n=Fe().devControllerGetJwt(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},devControllerLoginDev:function(e){var t=Fe().devControllerLoginDev(e);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(n+t.url,t.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},devControllerMarco:function(e){var t=Fe().devControllerMarco(e);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(n+t.url,t.options).then((function(e){if(e.status>=200&&e.status<300)return e;throw e}))}},devControllerMarcoPersonal:function(e){var t=Fe().devControllerMarcoPersonal(e);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(n+t.url,t.options).then((function(e){if(e.status>=200&&e.status<300)return e;throw e}))}}}},Ne=function(e){Object(je.a)(n,e);var t=Object(Ce.a)(n);function n(){return Object(xe.a)(this,n),t.apply(this,arguments)}return Object(Ee.a)(n,[{key:"devControllerCreateCustomUser",value:function(e,t){return Le(this.configuration).devControllerCreateCustomUser(e,t)(this.fetch,this.basePath)}},{key:"devControllerCreatePostDev",value:function(e){return Le(this.configuration).devControllerCreatePostDev(e)(this.fetch,this.basePath)}},{key:"devControllerGetJwt",value:function(e,t){return Le(this.configuration).devControllerGetJwt(e,t)(this.fetch,this.basePath)}},{key:"devControllerLoginDev",value:function(e){return Le(this.configuration).devControllerLoginDev(e)(this.fetch,this.basePath)}},{key:"devControllerMarco",value:function(e){return Le(this.configuration).devControllerMarco(e)(this.fetch,this.basePath)}},{key:"devControllerMarcoPersonal",value:function(e){return Le(this.configuration).devControllerMarcoPersonal(e)(this.fetch,this.basePath)}}]),n}(Se),Ue=function(e){return{groupsControllerCreateGroup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("body","Required parameter body was null or undefined when calling groupsControllerCreateGroup.");var n="/api/groups",r=Ie.parse(n,!0),a=Object.assign({method:"POST"},t),o={},i={};o["Content-Type"]="application/json",r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers);var l=!0;return a.body=l?JSON.stringify(e||{}):e||"",{url:Ie.format(r),options:a}},groupsControllerGetGroups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/api/groups",n=Ie.parse(t,!0),r=Object.assign({method:"GET"},e),a={},o={};return n.query=Object.assign({},n.query,o,e.query),delete n.search,r.headers=Object.assign({},a,e.headers),{url:Ie.format(n),options:r}},groupsControllerGetMembersAndPosts:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("groupID","Required parameter groupID was null or undefined when calling groupsControllerGetMembersAndPosts.");var n="/api/groups/membersAndPosts/{groupID}".replace("{".concat("groupID","}"),encodeURIComponent(String(e))),r=Ie.parse(n,!0),a=Object.assign({method:"GET"},t),o={},i={};return r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers),{url:Ie.format(r),options:a}},groupsControllerGetPrivateGroup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("privateId","Required parameter privateId was null or undefined when calling groupsControllerGetPrivateGroup.");var n="/api/groups/{privateId}".replace("{".concat("privateId","}"),encodeURIComponent(String(e))),r=Ie.parse(n,!0),a=Object.assign({method:"GET"},t),o={},i={};return r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers),{url:Ie.format(r),options:a}},groupsControllerGetPublicGroup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("id","Required parameter id was null or undefined when calling groupsControllerGetPublicGroup.");var n="/api/groups/{id}".replace("{".concat("id","}"),encodeURIComponent(String(e))),r=Ie.parse(n,!0),a=Object.assign({method:"GET"},t),o={},i={};return r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers),{url:Ie.format(r),options:a}},groupsControllerJoinGroup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("id","Required parameter id was null or undefined when calling groupsControllerJoinGroup.");var n="/api/groups/join/{id}".replace("{".concat("id","}"),encodeURIComponent(String(e))),r=Ie.parse(n,!0),a=Object.assign({method:"POST"},t),o={},i={};return r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers),{url:Ie.format(r),options:a}},groupsControllerLeaveGroup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("id","Required parameter id was null or undefined when calling groupsControllerLeaveGroup.");var n="/api/groups/leave/{id}".replace("{".concat("id","}"),encodeURIComponent(String(e))),r=Ie.parse(n,!0),a=Object.assign({method:"DELETE"},t),o={},i={};return r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers),{url:Ie.format(r),options:a}}}},Re=function(e){return{groupsControllerCreateGroup:function(e,t){var n=Ue().groupsControllerCreateGroup(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},groupsControllerGetGroups:function(e){var t=Ue().groupsControllerGetGroups(e);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(n+t.url,t.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},groupsControllerGetMembersAndPosts:function(e,t){var n=Ue().groupsControllerGetMembersAndPosts(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},groupsControllerGetPrivateGroup:function(e,t){var n=Ue().groupsControllerGetPrivateGroup(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},groupsControllerGetPublicGroup:function(e,t){var n=Ue().groupsControllerGetPublicGroup(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},groupsControllerJoinGroup:function(e,t){var n=Ue().groupsControllerJoinGroup(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e;throw e}))}},groupsControllerLeaveGroup:function(e,t){var n=Ue().groupsControllerLeaveGroup(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e;throw e}))}}}},Ae=function(e){Object(je.a)(n,e);var t=Object(Ce.a)(n);function n(){return Object(xe.a)(this,n),t.apply(this,arguments)}return Object(Ee.a)(n,[{key:"groupsControllerCreateGroup",value:function(e,t){return Re(this.configuration).groupsControllerCreateGroup(e,t)(this.fetch,this.basePath)}},{key:"groupsControllerGetGroups",value:function(e){return Re(this.configuration).groupsControllerGetGroups(e)(this.fetch,this.basePath)}},{key:"groupsControllerGetMembersAndPosts",value:function(e,t){return Re(this.configuration).groupsControllerGetMembersAndPosts(e,t)(this.fetch,this.basePath)}},{key:"groupsControllerGetPrivateGroup",value:function(e,t){return Re(this.configuration).groupsControllerGetPrivateGroup(e,t)(this.fetch,this.basePath)}},{key:"groupsControllerGetPublicGroup",value:function(e,t){return Re(this.configuration).groupsControllerGetPublicGroup(e,t)(this.fetch,this.basePath)}},{key:"groupsControllerJoinGroup",value:function(e,t){return Re(this.configuration).groupsControllerJoinGroup(e,t)(this.fetch,this.basePath)}},{key:"groupsControllerLeaveGroup",value:function(e,t){return Re(this.configuration).groupsControllerLeaveGroup(e,t)(this.fetch,this.basePath)}}]),n}(Se),Be=function(e){return{messagesControllerCreateMessage:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null===e||void 0===e)throw new ke("body","Required parameter body was null or undefined when calling messagesControllerCreateMessage.");if(null===t||void 0===t)throw new ke("conversationID","Required parameter conversationID was null or undefined when calling messagesControllerCreateMessage.");var r="/api/messages/{conversationID}".replace("{".concat("conversationID","}"),encodeURIComponent(String(t))),a=Ie.parse(r,!0),o=Object.assign({method:"POST"},n),i={},l={};i["Content-Type"]="application/json",a.query=Object.assign({},a.query,l,n.query),delete a.search,o.headers=Object.assign({},i,n.headers);var c=!0;return o.body=c?JSON.stringify(e||{}):e||"",{url:Ie.format(a),options:o}},messagesControllerGetMessagesInConversation:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("conversationID","Required parameter conversationID was null or undefined when calling messagesControllerGetMessagesInConversation.");var n="/api/messages/{conversationID}".replace("{".concat("conversationID","}"),encodeURIComponent(String(e))),r=Ie.parse(n,!0),a=Object.assign({method:"GET"},t),o={},i={};return r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers),{url:Ie.format(r),options:a}}}},Me=function(e){return{messagesControllerCreateMessage:function(e,t,n){var r=Be().messagesControllerCreateMessage(e,t,n);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+r.url,r.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},messagesControllerGetMessagesInConversation:function(e,t){var n=Be().messagesControllerGetMessagesInConversation(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}}}},_e=function(e){Object(je.a)(n,e);var t=Object(Ce.a)(n);function n(){return Object(xe.a)(this,n),t.apply(this,arguments)}return Object(Ee.a)(n,[{key:"messagesControllerCreateMessage",value:function(e,t,n){return Me(this.configuration).messagesControllerCreateMessage(e,t,n)(this.fetch,this.basePath)}},{key:"messagesControllerGetMessagesInConversation",value:function(e,t){return Me(this.configuration).messagesControllerGetMessagesInConversation(e,t)(this.fetch,this.basePath)}}]),n}(Se),ze=function(e){return{postsControllerCreatePost:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("body","Required parameter body was null or undefined when calling postsControllerCreatePost.");var n="/api/posts",r=Ie.parse(n,!0),a=Object.assign({method:"POST"},t),o={},i={};o["Content-Type"]="application/json",r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers);var l=!0;return a.body=l?JSON.stringify(e||{}):e||"",{url:Ie.format(r),options:a}},postsControllerDeletePostByPostID:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("postID","Required parameter postID was null or undefined when calling postsControllerDeletePostByPostID.");var n="/api/posts/{postID}".replace("{".concat("postID","}"),encodeURIComponent(String(e))),r=Ie.parse(n,!0),a=Object.assign({method:"DELETE"},t),o={},i={};return r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers),{url:Ie.format(r),options:a}},postsControllerGetPostByID:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("postID","Required parameter postID was null or undefined when calling postsControllerGetPostByID.");var n="/api/posts/byID/{postID}".replace("{".concat("postID","}"),encodeURIComponent(String(e))),r=Ie.parse(n,!0),a=Object.assign({method:"GET"},t),o={},i={};return r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers),{url:Ie.format(r),options:a}},postsControllerGetPostBySlug:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null===e||void 0===e)throw new ke("slug","Required parameter slug was null or undefined when calling postsControllerGetPostBySlug.");if(null===t||void 0===t)throw new ke("getAuthor","Required parameter getAuthor was null or undefined when calling postsControllerGetPostBySlug.");var r="/api/posts/{slug}".replace("{".concat("slug","}"),encodeURIComponent(String(e))),a=Ie.parse(r,!0),o=Object.assign({method:"GET"},n),i={},l={};return void 0!==t&&(l["get-author"]=t),a.query=Object.assign({},a.query,l,n.query),delete a.search,o.headers=Object.assign({},i,n.headers),{url:Ie.format(a),options:o}},postsControllerIncrementView:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("postID","Required parameter postID was null or undefined when calling postsControllerIncrementView.");var n="/api/posts/increment-view/{postID}".replace("{".concat("postID","}"),encodeURIComponent(String(e))),r=Ie.parse(n,!0),a=Object.assign({method:"PUT"},t),o={},i={};return r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers),{url:Ie.format(r),options:a}},postsControllerLikePost:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("postID","Required parameter postID was null or undefined when calling postsControllerLikePost.");var n="/api/posts/like",r=Ie.parse(n,!0),a=Object.assign({method:"PUT"},t),o={},i={};return void 0!==e&&(i.postID=e),r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers),{url:Ie.format(r),options:a}},postsControllerUnlikePost:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("postID","Required parameter postID was null or undefined when calling postsControllerUnlikePost.");var n="/api/posts/unlike",r=Ie.parse(n,!0),a=Object.assign({method:"PUT"},t),o={},i={};return void 0!==e&&(i.postID=e),r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers),{url:Ie.format(r),options:a}},postsControllerUpdatePostBySlug:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null===e||void 0===e)throw new ke("body","Required parameter body was null or undefined when calling postsControllerUpdatePostBySlug.");if(null===t||void 0===t)throw new ke("slug","Required parameter slug was null or undefined when calling postsControllerUpdatePostBySlug.");var r="/api/posts/{slug}".replace("{".concat("slug","}"),encodeURIComponent(String(t))),a=Ie.parse(r,!0),o=Object.assign({method:"PUT"},n),i={},l={};i["Content-Type"]="application/json",a.query=Object.assign({},a.query,l,n.query),delete a.search,o.headers=Object.assign({},i,n.headers);var c=!0;return o.body=c?JSON.stringify(e||{}):e||"",{url:Ie.format(a),options:o}},tagsControllerGetPostsByTag:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(null===e||void 0===e)throw new ke("tagID","Required parameter tagID was null or undefined when calling tagsControllerGetPostsByTag.");var o="/api/tags/posts",i=Ie.parse(o,!0),l=Object.assign({method:"GET"},a),c={},s={};return void 0!==e&&(s.tagID=e),void 0!==t&&(s.requestedCount=t),void 0!==n&&(s.startIdx=n),void 0!==r&&(s.excludePostIDs=r),i.query=Object.assign({},i.query,s,a.query),delete i.search,l.headers=Object.assign({},c,a.headers),{url:Ie.format(i),options:l}}}},Ve=function(e){return{postsControllerCreatePost:function(e,t){var n=ze().postsControllerCreatePost(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},postsControllerDeletePostByPostID:function(e,t){var n=ze().postsControllerDeletePostByPostID(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e;throw e}))}},postsControllerGetPostByID:function(e,t){var n=ze().postsControllerGetPostByID(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},postsControllerGetPostBySlug:function(e,t,n){var r=ze().postsControllerGetPostBySlug(e,t,n);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+r.url,r.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},postsControllerIncrementView:function(e,t){var n=ze().postsControllerIncrementView(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e;throw e}))}},postsControllerLikePost:function(e,t){var n=ze().postsControllerLikePost(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e;throw e}))}},postsControllerUnlikePost:function(e,t){var n=ze().postsControllerUnlikePost(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e;throw e}))}},postsControllerUpdatePostBySlug:function(e,t,n){var r=ze().postsControllerUpdatePostBySlug(e,t,n);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+r.url,r.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},tagsControllerGetPostsByTag:function(e,t,n,r,a){var o=ze().tagsControllerGetPostsByTag(e,t,n,r,a);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+o.url,o.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}}}},Je=function(e){Object(je.a)(n,e);var t=Object(Ce.a)(n);function n(){return Object(xe.a)(this,n),t.apply(this,arguments)}return Object(Ee.a)(n,[{key:"postsControllerCreatePost",value:function(e,t){return Ve(this.configuration).postsControllerCreatePost(e,t)(this.fetch,this.basePath)}},{key:"postsControllerDeletePostByPostID",value:function(e,t){return Ve(this.configuration).postsControllerDeletePostByPostID(e,t)(this.fetch,this.basePath)}},{key:"postsControllerGetPostByID",value:function(e,t){return Ve(this.configuration).postsControllerGetPostByID(e,t)(this.fetch,this.basePath)}},{key:"postsControllerGetPostBySlug",value:function(e,t,n){return Ve(this.configuration).postsControllerGetPostBySlug(e,t,n)(this.fetch,this.basePath)}},{key:"postsControllerIncrementView",value:function(e,t){return Ve(this.configuration).postsControllerIncrementView(e,t)(this.fetch,this.basePath)}},{key:"postsControllerLikePost",value:function(e,t){return Ve(this.configuration).postsControllerLikePost(e,t)(this.fetch,this.basePath)}},{key:"postsControllerUnlikePost",value:function(e,t){return Ve(this.configuration).postsControllerUnlikePost(e,t)(this.fetch,this.basePath)}},{key:"postsControllerUpdatePostBySlug",value:function(e,t,n){return Ve(this.configuration).postsControllerUpdatePostBySlug(e,t,n)(this.fetch,this.basePath)}},{key:"tagsControllerGetPostsByTag",value:function(e,t,n,r,a){return Ve(this.configuration).tagsControllerGetPostsByTag(e,t,n,r,a)(this.fetch,this.basePath)}}]),n}(Se),We=function(e){return{searchControllerSearch:function(e,t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("q","Required parameter q was null or undefined when calling searchControllerSearch.");var n="/api/search",r=Ie.parse(n,!0),a=Object.assign({method:"GET"},t),o={},i={};return void 0!==e&&(i.q=e),r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers),{url:Ie.format(r),options:a}}(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}}}},He=function(e){Object(je.a)(n,e);var t=Object(Ce.a)(n);function n(){return Object(xe.a)(this,n),t.apply(this,arguments)}return Object(Ee.a)(n,[{key:"searchControllerSearch",value:function(e,t){return We(this.configuration).searchControllerSearch(e,t)(this.fetch,this.basePath)}}]),n}(Se),Ke=function(e){return{trendingControllerGetTrending:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("fetchCount","Required parameter fetchCount was null or undefined when calling trendingControllerGetTrending.");var n="/api/trending/fetchCount",r=Ie.parse(n,!0),a=Object.assign({method:"GET"},t),o={},i={};return void 0!==e&&(i.fetchCount=e),r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers),{url:Ie.format(r),options:a}},trendingControllerGetTrendingLoggedIn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("fetchCount","Required parameter fetchCount was null or undefined when calling trendingControllerGetTrendingLoggedIn.");var n="/api/trending/loggedIn",r=Ie.parse(n,!0),a=Object.assign({method:"GET"},t),o={},i={};return void 0!==e&&(i.fetchCount=e),r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers),{url:Ie.format(r),options:a}}}},Ye=function(e){return{trendingControllerGetTrending:function(e,t){var n=Ke().trendingControllerGetTrending(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},trendingControllerGetTrendingLoggedIn:function(e,t){var n=Ke().trendingControllerGetTrendingLoggedIn(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}}}},$e=function(e){Object(je.a)(n,e);var t=Object(Ce.a)(n);function n(){return Object(xe.a)(this,n),t.apply(this,arguments)}return Object(Ee.a)(n,[{key:"trendingControllerGetTrending",value:function(e,t){return Ye(this.configuration).trendingControllerGetTrending(e,t)(this.fetch,this.basePath)}},{key:"trendingControllerGetTrendingLoggedIn",value:function(e,t){return Ye(this.configuration).trendingControllerGetTrendingLoggedIn(e,t)(this.fetch,this.basePath)}}]),n}(Se),Xe=function(e){return{userControllerAddFollowing:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("id","Required parameter id was null or undefined when calling userControllerAddFollowing.");var n="/api/user/addFollowing/{id}".replace("{".concat("id","}"),encodeURIComponent(String(e))),r=Ie.parse(n,!0),a=Object.assign({method:"PUT"},t),o={},i={};return r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers),{url:Ie.format(r),options:a}},userControllerEditProfile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("body","Required parameter body was null or undefined when calling userControllerEditProfile.");var n="/api/user/edit-profile",r=Ie.parse(n,!0),a=Object.assign({method:"PUT"},t),o={},i={};o["Content-Type"]="application/json",r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers);var l=!0;return a.body=l?JSON.stringify(e||{}):e||"",{url:Ie.format(r),options:a}},userControllerGetUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/api/user",n=Ie.parse(t,!0),r=Object.assign({method:"GET"},e),a={},o={};return n.query=Object.assign({},n.query,o,e.query),delete n.search,r.headers=Object.assign({},a,e.headers),{url:Ie.format(n),options:r}},userControllerGetUserByUsername:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("username","Required parameter username was null or undefined when calling userControllerGetUserByUsername.");var n="/api/user/byUsername/{username}".replace("{".concat("username","}"),encodeURIComponent(String(e))),r=Ie.parse(n,!0),a=Object.assign({method:"GET"},t),o={},i={};return r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers),{url:Ie.format(r),options:a}},userControllerGetUsersByIDs:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("ids","Required parameter ids was null or undefined when calling userControllerGetUsersByIDs.");var n="/api/user/byIds",r=Ie.parse(n,!0),a=Object.assign({method:"GET"},t),o={},i={};return void 0!==e&&(i.ids=e),r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers),{url:Ie.format(r),options:a}},userControllerRemoveFollowing:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("id","Required parameter id was null or undefined when calling userControllerRemoveFollowing.");var n="/api/user/removeFollowing/{id}".replace("{".concat("id","}"),encodeURIComponent(String(e))),r=Ie.parse(n,!0),a=Object.assign({method:"PUT"},t),o={},i={};return r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers),{url:Ie.format(r),options:a}},userControllerSavePost:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("postID","Required parameter postID was null or undefined when calling userControllerSavePost.");var n="/api/user/save-post/{postID}".replace("{".concat("postID","}"),encodeURIComponent(String(e))),r=Ie.parse(n,!0),a=Object.assign({method:"PUT"},t),o={},i={};return r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers),{url:Ie.format(r),options:a}}}},Qe=function(e){return{userControllerAddFollowing:function(e,t){var n=Xe().userControllerAddFollowing(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},userControllerEditProfile:function(e,t){var n=Xe().userControllerEditProfile(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e;throw e}))}},userControllerGetUser:function(e){var t=Xe().userControllerGetUser(e);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(n+t.url,t.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},userControllerGetUserByUsername:function(e,t){var n=Xe().userControllerGetUserByUsername(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},userControllerGetUsersByIDs:function(e,t){var n=Xe().userControllerGetUsersByIDs(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},userControllerRemoveFollowing:function(e,t){var n=Xe().userControllerRemoveFollowing(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},userControllerSavePost:function(e,t){var n=Xe().userControllerSavePost(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e;throw e}))}}}},Ze=function(e){Object(je.a)(n,e);var t=Object(Ce.a)(n);function n(){return Object(xe.a)(this,n),t.apply(this,arguments)}return Object(Ee.a)(n,[{key:"userControllerAddFollowing",value:function(e,t){return Qe(this.configuration).userControllerAddFollowing(e,t)(this.fetch,this.basePath)}},{key:"userControllerEditProfile",value:function(e,t){return Qe(this.configuration).userControllerEditProfile(e,t)(this.fetch,this.basePath)}},{key:"userControllerGetUser",value:function(e){return Qe(this.configuration).userControllerGetUser(e)(this.fetch,this.basePath)}},{key:"userControllerGetUserByUsername",value:function(e,t){return Qe(this.configuration).userControllerGetUserByUsername(e,t)(this.fetch,this.basePath)}},{key:"userControllerGetUsersByIDs",value:function(e,t){return Qe(this.configuration).userControllerGetUsersByIDs(e,t)(this.fetch,this.basePath)}},{key:"userControllerRemoveFollowing",value:function(e,t){return Qe(this.configuration).userControllerRemoveFollowing(e,t)(this.fetch,this.basePath)}},{key:"userControllerSavePost",value:function(e,t){return Qe(this.configuration).userControllerSavePost(e,t)(this.fetch,this.basePath)}}]),n}(Se),et=function(e){return{videoControllerCreateVideo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e)throw new ke("body","Required parameter body was null or undefined when calling videoControllerCreateVideo.");var n="/api/video",r=Ie.parse(n,!0),a=Object.assign({method:"POST"},t),o={},i={};o["Content-Type"]="application/json",r.query=Object.assign({},r.query,i,t.query),delete r.search,a.headers=Object.assign({},o,t.headers);var l=!0;return a.body=l?JSON.stringify(e||{}):e||"",{url:Ie.format(r),options:a}},videoControllerGetAllVideos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/api/video",n=Ie.parse(t,!0),r=Object.assign({method:"GET"},e),a={},o={};return n.query=Object.assign({},n.query,o,e.query),delete n.search,r.headers=Object.assign({},a,e.headers),{url:Ie.format(n),options:r}}}},tt=function(e){return{videoControllerCreateVideo:function(e,t){var n=et().videoControllerCreateVideo(e,t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},videoControllerGetAllVideos:function(e){var t=et().videoControllerGetAllVideos(e);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return e(n+t.url,t.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}}}},nt=function(e){Object(je.a)(n,e);var t=Object(Ce.a)(n);function n(){return Object(xe.a)(this,n),t.apply(this,arguments)}return Object(Ee.a)(n,[{key:"videoControllerCreateVideo",value:function(e,t){return tt(this.configuration).videoControllerCreateVideo(e,t)(this.fetch,this.basePath)}},{key:"videoControllerGetAllVideos",value:function(e){return tt(this.configuration).videoControllerGetAllVideos(e)(this.fetch,this.basePath)}}]),n}(Se),rt=n(9),at=Object(rt.b)("submitPost",function(){var e=Object(ye.a)(Oe.a.mark((function e(t){var n,r,a,o;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Je).postsControllerCreatePost(t);case 2:return n=e.sent,r=n._id,a=n.slug,o={featuredImg:t.featuredImg,likes:0,tags:t.tags,title:t.title,views:0,_id:r,slug:a,author:t.author,comments:[],commentsCount:0,content:t.content,createdAt:Date.now().toString()},e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ot=Object(rt.b)("updatePost",function(){var e=Object(ye.a)(Oe.a.mark((function e(t){var n,r,a,o,i;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.update,r=t.slug,console.log(n),console.log(r),e.next=5,(new Je).postsControllerUpdatePostBySlug(n,r);case 5:return a=e.sent,o=a._id,i=a.slug,e.abrupt("return",{update:n,_id:o,slug:i,oldSlug:r});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());function it(e){return lt(e,"public/asset")}function lt(e,t){return ct.apply(this,arguments)}function ct(){return(ct=Object(ye.a)(Oe.a.mark((function e(t,n){var r,a;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Array.isArray(t)&&(t=t[0]),(r=new FormData).append("file",t),e.next=5,fetch("http://ec2-13-229-215-75.ap-southeast-1.compute.amazonaws.com/".concat(n),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")},method:"POST",body:r}).then((function(e){return e.json()}));case 5:return a=e.sent,e.abrupt("return",a.url);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var st=Object(w.a)({operation:{display:"flex",flexDirection:"row",flex:0,marginTop:"20px"}});function ut(e){var t=st(),n=Object(s.b)(),r=Object(f.g)(),a=Object(s.c)((function(e){return e.user})),o=function(){var e=Object(ye.a)(Oe.a.mark((function e(t,n,r,a){var o,i;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.img){e.next=4;break}return e.next=3,it(t.img);case 3:o=e.sent;case 4:i={title:t.title,content:t.content,tags:t.tags,featuredImg:o,author:n},t.isUpdate?r(ot({update:i,slug:t.isUpdate})).then(rt.e).then((function(e){a.push("/post/".concat(e.slug))})):r(at(i)).then(rt.e).then((function(e){console.log("CREATEPOST::SUBMIT"),console.log(e),a.push("/post/".concat(e.slug))}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();return console.log("CREATEPOST::SUBMIT"),console.log(e.tags),i.a.createElement("div",{className:t.operation},i.a.createElement("div",{onClick:function(t){!function(e,t){var n={title:e.title,content:e.content,tags:e.tags,featuredImg:e.img};console.log("SUBMIT"+n)}(e)}},i.a.createElement(B,{content:"Cancel"})),i.a.createElement("div",{style:{width:"15px"}}),i.a.createElement("div",{onClick:function(t){o(e,a,n,r)}},i.a.createElement(B,{content:"Submit"})))}function dt(){var e=Object(p.a)(["\n  background-color: white;\n  width: 49em;\n  height: 20vh;\n  display: flex;\n  box-shadow: 3px 3px #F2F2F2;\n  border-radius: 5px;\n  padding-left: 2em;\n  padding-top: 1em;\n"]);return dt=function(){return e},e}var ft=Object(w.a)({createPost:{paddingTop:"7vh",paddingBottom:"7vh",display:"flex",flex:1,flexDirection:"column",height:"110vh",alignItems:"center"}}),pt=g.a.div(dt());function mt(){var e=ft(),t=Object(o.useState)(""),n=Object(u.a)(t,2),r=n[0],a=n[1],l=Object(o.useState)(""),c=Object(u.a)(l,2),d=c[0],f=c[1],p=Object(o.useState)([]),m=Object(u.a)(p,2),g=m[0],h=m[1],v=Object(o.useState)(""),b=Object(u.a)(v,2),O=b[0],y=b[1],E=Object(s.c)((function(e){return e.tags.entities})),j=Object.values(E);return i.a.createElement("div",{className:e.createPost},i.a.createElement(X,{setImg:y}),i.a.createElement(Z,{setTitle:a,setContent:f}),i.a.createElement(ve,{setPostTags:h,allTagsArr:j}),i.a.createElement(ut,{title:r,content:d,tags:g,img:O}))}var gt,ht=Object(rt.c)({selectId:function(e){return e._id}}),vt=Object(rt.d)({name:"comments",initialState:ht.getInitialState({isLoading:!1}),reducers:{getCommentsByPostIDSuccess:function(e,t){ht.upsertMany(e,t.payload.comments)},createCommentPending:function(e){e.isLoading=!0},createCommentSuccess:function(e,t){e.isLoading=!1,ht.addOne(e,t.payload.comment);var n=t.payload.comment.parentComment;n&&e.entities[n].replies.push(t.payload.comment._id)}},extraReducers:{}}),bt=vt.reducer,Ot=vt.actions,yt=Ot.createCommentPending,Et=Ot.createCommentSuccess,jt=Ot.getCommentsByPostIDSuccess,Ct=n(36),wt=n.n(Ct),xt=Object(rt.c)({selectId:function(e){return e._id}}),It=Object(rt.b)("fetchTrendingPosts",function(){var e=Object(ye.a)(Oe.a.mark((function e(t,n){var r,a,o,i,l,c;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fetchCount,a=n.getState,o=n.rejectWithValue,i=new $e,c=a().isLoggedIn,console.log("fetchTrendingPosts... isLoggedIn:",c),e.prev=5,!c){e.next=12;break}return e.next=9,i.trendingControllerGetTrendingLoggedIn(r);case 9:l=e.sent,e.next=15;break;case 12:return e.next=14,i.trendingControllerGetTrending(r);case 14:l=e.sent;case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(5),console.log("Got err from fetchTrendingPosts api call",e.t0),e.abrupt("return",o(null));case 21:return e.abrupt("return",l);case 22:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t,n){return e.apply(this,arguments)}}()),Pt=Object(rt.b)("fetchPostsByTag",function(){var e=Object(ye.a)(Oe.a.mark((function e(t,n){var r,a,o,i;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.tagID,a=t.startIdx,o=n.rejectWithValue,e.prev=2,e.next=5,(new Je).tagsControllerGetPostsByTag(r,void 0,a);case 5:i=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",o(r));case 11:return e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}()),Dt=Object(rt.b)("fetchPostBySlug",(function(e){var t=e.slug,n=e.getAuthor;return(new Je).postsControllerGetPostBySlug(t,n)})),St=Object(rt.b)("fetchPostByID",(function(e){var t=e.id,n=e.getAuthor;return(new Je).postsControllerGetPostByID(t,n)})),kt=Object(rt.d)({name:"posts",initialState:xt.getInitialState({trendingPosts:[],trendingPostsSet:{},slugToID:{},trendingPostFetchCount:0,fetchedComments:{},hasMorePosts:!0}),reducers:{deletePost:function(e,t){xt.removeOne(e,t.payload.postID),delete e.trendingPostsSet[t.payload.postID],wt.a.pull(e.trendingPosts,t.payload.postID)}},extraReducers:(gt={},Object(m.a)(gt,It.pending.type,(function(e,t){e.trendingPostFetchCount++})),Object(m.a)(gt,It.fulfilled.type,(function(e,t){t.payload.posts.forEach((function(t){e.slugToID[t.slug]=t._id,e.trendingPostsSet[t._id]||(e.trendingPostsSet[t._id]=!0,e.trendingPosts.push(t._id))})),xt.upsertMany(e,t.payload.posts)})),Object(m.a)(gt,It.rejected.type,(function(e,t){e.hasMorePosts=!1})),Object(m.a)(gt,Dt.fulfilled.type,(function(e,t){var n=t.payload.post,r=n._id;e.slugToID[n.slug]=r,xt.upsertOne(e,n)})),Object(m.a)(gt,St.fulfilled.type,(function(e,t){var n=t.payload.post,r=n._id;e.slugToID[n.slug]=r,xt.upsertOne(e,n)})),Object(m.a)(gt,Pt.fulfilled.type,(function(e,t){xt.upsertMany(e,t.payload.posts)})),Object(m.a)(gt,"user/toggleLikePost",(function(e,t){t.payload.increment?e.entities[t.payload.postID].likes++:e.entities[t.payload.postID].likes--})),Object(m.a)(gt,at.fulfilled.type,(function(e,t){var n=t.payload;xt.addOne(e,n)})),Object(m.a)(gt,ot.fulfilled.type,(function(e,t){e.slugToID[t.payload.slug]=e.slugToID[t.payload.oldSlug],console.log("POSTSLICE::UPDATEPOST"),console.log(t.payload),xt.updateOne(e,{id:t.payload._id,changes:t.payload}),console.log("** UPDATE DONE **")})),Object(m.a)(gt,jt.type,(function(e,t){e.fetchedComments[t.payload.postID]=!0})),Object(m.a)(gt,Et.type,(function(e,t){"post"===t.payload.comment.commentRoot&&e.entities[t.payload.comment.parentPost].comments.push(t.payload.comment._id)})),gt)}),Tt=kt.reducer,Gt=kt.actions.deletePost,qt=n(304);function Ft(){return i.a.createElement(qt.a,null)}var Lt=n(67),Nt=n.n(Lt);function Ut(){return i.a.createElement("div",{style:{display:"flex",width:"100vw",height:"100vh",position:"absolute",justifyContent:"center"}},i.a.createElement("img",{src:Nt.a,alt:"Not Found!"}))}function Rt(){return i.a.createElement("div",{style:{display:"flex",width:"100vw",height:"100vh",position:"absolute",justifyContent:"center"}},i.a.createElement("img",{src:Nt.a,alt:"No Accessibility!"}))}function At(){return i.a.createElement("div",{style:{display:"flex",width:"100vw",height:"100vh",position:"absolute",justifyContent:"center"}},i.a.createElement("img",{src:Nt.a,alt:"Please log in first to see this page!"}))}var Bt=Object(w.a)({cptag:{display:"flex",flexDirection:"column",height:"50vh",width:"40vw",backgroundColor:"white",boxShadow:"3px 3px #F2F2F2",marginBottom:"1em",borderRadius:"5px",paddingLeft:"1.5em",paddingRight:"1.5em"},h4:{marginBottom:"0.5em"},display:{fontWeight:"bold",marginBottom:"1em"},input:{width:"100%",height:"2em",border:"none",outline:"none",background:"white","&:hover":{backgroundColor:"#F2F2F2"}},tags:{display:"flex",flexDirection:"row",margin:"0 0",padding:"0 0"}});function Mt(e){var t=Bt();return i.a.createElement("div",{className:t.cptag},i.a.createElement("form",{id:"tagform"},i.a.createElement(ge,{label:"Add Tags",options:e.allTagsArr,defaultValID:e.oldTagsID,setItems:e.setPostTags,panelWidth:"40vw"})))}var _t=Object(w.a)({operation:{display:"flex",flexDirection:"row",flex:0,marginTop:"20px"}});function zt(e){var t=_t(),n=Object(s.b)(),r=Object(f.g)(),a=Object(s.c)((function(e){return e.user})),o=function(){var t=Object(ye.a)(Oe.a.mark((function t(){var o,i;return Oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("UPDATEPOST::INDEX::ONSUBMIT"),!e.img){t.next=5;break}return t.next=4,it(e.img);case 4:o=t.sent;case 5:console.log(e.tags),i={title:e.title,content:e.content,tags:e.tags,featuredImg:o,author:a._id},e.isUpdate?n(ot({update:i,slug:e.isUpdate})).then(rt.e).then((function(e){r.push("/post/".concat(e.slug))})):n(at(i)).then(rt.e).then((function(e){r.push("/post/".concat(e.slug))}));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return i.a.createElement("div",{className:t.operation},i.a.createElement("div",{onClick:function(t){!function(e,t){e.title,e.content,e.tags,e.img}(e)}},i.a.createElement(B,{content:"Cancel"})),i.a.createElement("div",{style:{width:"15px"}}),i.a.createElement(B,{content:"Submit",handleClick:o}))}var Vt=Object(w.a)({createPost:{paddingTop:"7vh",paddingBottom:"7vh",display:"flex",flex:1,flexDirection:"column",height:"110vh",alignItems:"center"}});function Jt(){for(var e=Object(f.i)().slug,t=Vt(),n=Object(s.b)(),r=Object(s.c)((function(e){return e.tags.entities})),a=Object.values(r),l=Object(s.c)((function(t){var n=t.posts.slugToID[e];return n?{post:t.posts.entities[n]}:{post:null}})).post,c=Object(s.c)((function(e){return e.tags.entities})),d=Object.values(c),p=[],m=new Set(l.tags),g=0;g<d.length;g++)m.has(d[g]._id)&&p.push(g);var h=Object(s.c)((function(e){return e.user})),v=Object(o.useState)(null===l||void 0===l?void 0:l.title),b=Object(u.a)(v,2),O=b[0],y=b[1],E=Object(o.useState)(null===l||void 0===l?void 0:l.content),j=Object(u.a)(E,2),C=j[0],w=j[1],x=Object(o.useState)(null===l||void 0===l?void 0:l.tags),I=Object(u.a)(x,2),P=I[0],D=I[1],S=Object(o.useState)(null===l||void 0===l?void 0:l.featuredImg),k=Object(u.a)(S,2),T=k[0],G=k[1],q=Object(o.useState)(null),F=Object(u.a)(q,2),L=F[0],N=F[1];return Object(o.useEffect)((function(){null!=e&&""!==e&&((null===l||void 0===l?void 0:l.content)||n(Dt({slug:e,getAuthor:!1})).then(rt.e).then((function(e){y(e.post.title),w(e.post.content),D(e.post.tags)})).catch(N))}),[]),null==e||""===e?i.a.createElement(f.a,{to:"/"}):(null===l||void 0===l?void 0:l.content)?L?i.a.createElement(Ut,null):h?h._id!==l.author?i.a.createElement(Rt,null):i.a.createElement("div",{className:t.createPost},i.a.createElement(X,{setImg:G}),i.a.createElement(Z,{setTitle:y,setContent:w,title:null===l||void 0===l?void 0:l.title,content:null===l||void 0===l?void 0:l.content}),i.a.createElement(Mt,{setPostTags:D,allTagsArr:a,oldTagsID:p}),i.a.createElement(zt,{title:O,content:C,tags:P,img:T,isUpdate:null===l||void 0===l?void 0:l.slug})):i.a.createElement(At,null):i.a.createElement(Ft,null)}var Wt,Ht,Kt=Object(w.a)({root:{width:"14vw",display:"flex",flexDirection:"column",height:"93vh",cursor:"pointer",paddingLeft:"7em",position:"fixed",marginLeft:"8vw",marginTop:"4vh"},diplayAccount:{display:"flex",flexDirection:"row"},displayImg:{width:"5em",height:"5em",borderRadius:"50%",marginTop:"2em",marginRight:"1em"},displayName:{marginTop:"4em",color:"#5DCBAF"},groupLinks:{marginTop:"2em"},showPostsText:{marginTop:"1em",borderBottom:"solid 1px lightgray",fontSize:"large",fontFamily:"Passion One, cursive",color:"#707070"},link:{textDecoration:"none"}}),Yt=function(){var e=Kt(),t=Object(s.c)((function(e){return e.user})),n=Object(s.c)((function(e){return e.isLoggedIn})),r=Object(f.g)();return t?i.a.createElement("div",{className:e.root},n&&i.a.createElement("div",{className:e.diplayAccount},i.a.createElement("img",{className:e.displayImg,src:t.profilePic,alt:""}),i.a.createElement(d.b,{to:"/user/".concat(t.userID),className:e.link},i.a.createElement("h3",{className:e.displayName},t.name))),i.a.createElement("div",{className:e.groupLinks},i.a.createElement("h3",null,"Daily Challenge"),n&&i.a.createElement(d.b,{to:"/messages",className:e.link},i.a.createElement("h3",null,"Messages")),i.a.createElement("h3",null,"Hacker News"),i.a.createElement("h3",null,"Posts"),i.a.createElement("h3",null,"Videos"),i.a.createElement("h3",{onClick:function(){r.push("/home/groups")}},"Groups"))):i.a.createElement(Ft,null)},$t=n(160),Xt=n.n($t),Qt=n(94),Zt=n.n(Qt),en=n(95),tn=n.n(en),nn=n(96),rn=n.n(nn),an=n(53),on=function(e){return e.reduce((function(e,t){return e[t._id]=t,e}),{})},ln=function(e,t){var n=[];return t.followers.concat(t.following).forEach((function(t){e[t]&&n.push(e[t])})),Object.values(on(n))},cn=Object(rt.d)({name:"isLoggedIn",initialState:!!localStorage.getItem("jwt"),reducers:{loginSuccess:{reducer:function(e,t){return!0},prepare:function(e){var t=e.jwt;return localStorage.setItem("jwt",t),{payload:null}}},logOut:{reducer:function(e,t){return!1},prepare:function(){return localStorage.removeItem("jwt"),{payload:null}}}}}),sn=cn.reducer,un=cn.actions,dn=un.loginSuccess,fn=un.logOut,pn=n(174),mn=Object(rt.c)({selectId:function(e){return e._id}}),gn=new Ae,hn=Object(rt.b)("fetchGroups",function(){var e=Object(ye.a)(Oe.a.mark((function e(t,n){var r;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,e.next=3,gn.groupsControllerGetGroups();case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),vn=Object(rt.b)("fetchGroupById",function(){var e=Object(ye.a)(Oe.a.mark((function e(t){var n;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn.groupsControllerGetPrivateGroup(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),bn=Object(rt.b)("fetchGroupMembersAndPosts",function(){var e=Object(ye.a)(Oe.a.mark((function e(t){var n;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn.groupsControllerGetMembersAndPosts(t);case 2:return n=e.sent,console.log(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),On=Object(rt.b)("createGroup",function(){var e=Object(ye.a)(Oe.a.mark((function e(t,n){var r,a,o;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,a=r().user,e.next=4,gn.groupsControllerCreateGroup(t);case 4:return o=e.sent,e.abrupt("return",Object(an.a)(Object(an.a)({},t),{},{_id:o._id,admins:[a._id]}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),yn=Object(rt.b)("leaveGroup",function(){var e=Object(ye.a)(Oe.a.mark((function e(t,n){var r,a;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,a=r().user,e.next=4,gn.groupsControllerLeaveGroup(t,a._id);case 4:return e.abrupt("return",{groupID:t,userID:a._id});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),En=Object(rt.b)("joinGroup",function(){var e=Object(ye.a)(Oe.a.mark((function e(t,n){var r,a;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,a=r().user,e.next=4,gn.groupsControllerJoinGroup(t,a._id);case 4:return e.abrupt("return",{groupID:t,userID:a._id});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),jn=Object(rt.d)({name:"groups",initialState:mn.getInitialState({currentGroupID:""}),reducers:{selectGroup:function(e,t){e.currentGroupID=t.payload.groupID}},extraReducers:(Wt={},Object(m.a)(Wt,hn.fulfilled.type,(function(e,t){mn.addMany(e,t.payload.groups)})),Object(m.a)(Wt,vn.fulfilled.type,(function(e,t){mn.upsertOne(e,t.payload)})),Object(m.a)(Wt,On.fulfilled.type,(function(e,t){var n=t.payload,r=n._id,a=n.name,o=n.private,i=n.description,l=n.profileBanner,c=n.profilePic,s=n.admins,u=n.users;mn.addOne(e,{_id:r,name:a,private:o,description:i,profileBanner:l,profilePic:c,admins:s,users:[s[0]].concat(Object(pn.a)(u)),createdAt:Date.now().toLocaleString(),posts:[],updatedAt:Date.now().toLocaleString(),videos:[]})})),Object(m.a)(Wt,yn.fulfilled.type,(function(e,t){wt.a.pull(e.entities[t.payload.groupID].users,t.payload.userID)})),Object(m.a)(Wt,En.fulfilled.type,(function(e,t){e.entities[t.payload.groupID].users.push(t.payload.userID)})),Wt)}),Cn=jn.reducer,wn=(jn.actions.selectGroup,new Ze),xn=(Object(rt.b)("getLoggedInUser",Object(ye.a)(Oe.a.mark((function e(){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wn.userControllerGetUser();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),Object(rt.b)("loginStatus",function(){var e=Object(ye.a)(Oe.a.mark((function e(t){var n,r;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.code,r=t.state,e.next=3,(new qe).authControllerLoginGitHub({code:n,state:r});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(rt.b)("updateProfile",function(){var e=Object(ye.a)(Oe.a.mark((function e(t){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wn.userControllerEditProfile(t);case 2:return e.abrupt("return",{update:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),In=Object(rt.d)({name:"user",initialState:null,reducers:{loginSuccess:{reducer:function(e,t){return null},prepare:function(e){var t=e.jwt;return localStorage.setItem("jwt",t),{payload:null}}},logOut:{reducer:function(e,t){return null},prepare:function(){return localStorage.removeItem("jwt"),{payload:null}}},savePost:{reducer:function(e,t){return e&&(e.savedPosts.push(t.payload.postID),e.savedPostsSet[t.payload.postID]=!0),e},prepare:function(e){return(new Ze).userControllerSavePost(e.postID).then((function(e){return console.log("Optimistic update (SAVE POST) finished in back end")})).catch((function(e){return console.log("Optimistic update (SAVE POST) rejected! ",e)})),{payload:e}}},toggleLikePost:{reducer:function(e,t){if(e){var n=t.payload.postID;e.likedPostsSet[n]?(e.likedPostsSet[n]=!1,wt.a.pull(e.likedPosts,t.payload.postID)):(e.likedPostsSet[n]=!0,e.likedPosts.push(t.payload.postID))}return e},prepare:function(e){var t=e.postID,n=e.increment;return n?(new Je).postsControllerLikePost(t).then((function(e){return console.log("Optimistic update (LIKE POST) finished in back end for Post ID")})).catch((function(e){return console.log("Optimistic update (LIKE POST) rejected! ",e)})):(new Je).postsControllerUnlikePost(t).then((function(e){return console.log("Optimistic update (UNLIKE POST) finished in back end for Post ID")})).catch((function(e){return console.log("Optimistic update (UNLIKE POST) rejected! ",e)})),{payload:{postID:t,increment:n}}}},follow:{reducer:function(e,t){var n=t.payload.userID;e.followingSet[n]||(e.followingSet[n]=!0,e.following.push(n))},prepare:function(e){return wn.userControllerAddFollowing(e.userID).then((function(e){return console.log("Optimistic update (FOLLOW) finished in back end")})).catch((function(e){return console.log("Optimistic update (FOLLOW) rejected! ",e)})),{payload:e}}},unfollow:{reducer:function(e,t){var n=t.payload.userID;e.followingSet[n]&&(e.followingSet[n]=!1,wt.a.pull(e.following,n))},prepare:function(e){return wn.userControllerRemoveFollowing(e.userID).then((function(e){return console.log("Optimistic update (UNFOLLOW) finished in back end")})).catch((function(e){return console.log("Optimistic update (UNFOLLOW) rejected! ",e)})),{payload:e}}}},extraReducers:(Ht={},Object(m.a)(Ht,It.fulfilled.type,(function(e,t){if(t.payload.user){var n,r,a,o,i=t.payload.user;if(e)return null===(n=i.likedPosts)||void 0===n||n.forEach((function(t){return e.likedPostsSet[t]=!0})),null===(r=i.savedPosts)||void 0===r||r.forEach((function(t){return e.savedPostsSet[t]=!0})),null===(a=i.followers)||void 0===a||a.forEach((function(t){return e.followersSet[t]=!0})),null===(o=i.following)||void 0===o||o.forEach((function(t){return e.followingSet[t]=!0})),Object(an.a)(Object(an.a)({},e),i);if(i){var l,c,s,u,d=Object(an.a)(Object(an.a)({},i),{},{likedPostsSet:{},savedPostsSet:{},followersSet:{},followingSet:{}});return null===(l=i.likedPosts)||void 0===l||l.forEach((function(e){return d.likedPostsSet[e]=!0})),null===(c=i.savedPosts)||void 0===c||c.forEach((function(e){return d.savedPostsSet[e]=!0})),null===(s=i.followers)||void 0===s||s.forEach((function(e){return d.followersSet[e]=!0})),null===(u=i.following)||void 0===u||u.forEach((function(e){return d.followingSet[e]=!0})),d}}return e})),Object(m.a)(Ht,On.fulfilled.type,(function(e,t){e.groups.push(t.payload._id)})),Object(m.a)(Ht,yn.fulfilled.type,(function(e,t){wt.a.pull(e.groups,t.payload.groupID)})),Object(m.a)(Ht,En.fulfilled.type,(function(e,t){e.groups.push(t.payload.groupID)})),Object(m.a)(Ht,cn.actions.logOut.type,(function(){return null})),Object(m.a)(Ht,xn.fulfilled.type,(function(e,t){if(!e)return null;t.payload.name&&(e.name=t.payload.name),t.payload.status&&(e.status=t.payload.status),Array.isArray(t.payload.tags)&&(e.tags=t.payload.tags)})),Object(m.a)(Ht,Gt.type,(function(e,t){wt.a.pull(e.posts,t.payload.postID)})),Ht)}),Pn=In.reducer,Dn=In.actions,Sn=Dn.savePost,kn=Dn.toggleLikePost,Tn=Dn.follow,Gn=Dn.unfollow;Dn.loginSuccess,Dn.logOut;function qn(e){var t=Object(s.c)((function(e){return e.user})),n=Object(s.b)();if(!e)return{postIsLikedByUser:null,handleToggleLike:function(){}};if(t){var r=!!t.likedPostsSet[e];return{postIsLikedByUser:r,handleToggleLike:function(){return n(kn({postID:e,increment:!r}))}}}return{postIsLikedByUser:!1,handleToggleLike:z}}var Fn=Object(w.a)({root:{minHeight:"fit-content",display:"flex",flexDirection:"column",width:"40vw",backgroundColor:"white",boxShadow:"3px 3px #F2F2F2",marginBottom:"1em",borderRadius:"5px",paddingLeft:"1.5em",paddingRight:"1.5em"},account:{display:"flex",flexDirection:"row",paddingTop:"1em"},accountImg:{width:"3em",height:"3em",borderRadius:"50%",marginTop:"0.5em"},imgTitle:{display:"flex",flexDirection:"row"},nameTime:{display:"flex",flexDirection:"column",marginLeft:"0.5em"},interactions:{display:"flex",flexDirection:"row"},commentIcon:{marginLeft:"2em",width:"2em",marginBottom:"-1.5em"},heartIcon:{width:"2em"},interactionsIcons:{display:"flex",justifyContent:"flex-end",flexDirection:"row"},readSave:{marginLeft:"2em",display:"flex",flexDirection:"row"},link:{textDecoration:"none"},tagText:{fontFamily:"Overpass Mono, monospace"}}),Ln=function(e){var t=e.postID,n=Fn(),r=Object(s.b)(),a=Object(s.c)((function(e){return e.posts.entities[t]})),l=qn(null===a||void 0===a?void 0:a._id),c=l.postIsLikedByUser,u=l.handleToggleLike,f=null===a||void 0===a?void 0:a.author,p=Object(s.c)((function(e){return e.users.entities[f]}));Object(s.c)((function(e){return e.tags.entities}));return Object(o.useEffect)((function(){a||r(St({id:t,getAuthor:!p}))}),[]),a?i.a.createElement("div",{className:n.root},i.a.createElement("div",{className:n.account},i.a.createElement("img",{className:n.accountImg,src:p.profilePic||Xt.a,alt:""}),i.a.createElement("div",{className:n.nameTime},i.a.createElement("p",null,i.a.createElement(d.b,{to:"/user/".concat(p.userID),className:n.link},i.a.createElement("span",{style:{fontWeight:"bold",color:"#5DCBAF"}},p.name,"\xa0")),"posted\xa0",i.a.createElement("span",{style:{fontWeight:"bolder"}},i.a.createElement(d.b,{to:"/post/".concat(a.slug),className:n.link,onClick:function(){}},a.title))),i.a.createElement("p",{style:{marginTop:"-0.8em"}},a.createdAt))),i.a.createElement("div",{className:n.imgTitle},i.a.createElement("img",{src:a.featuredImg,style:{marginTop:"10px",width:"200px",height:"200px",objectFit:"cover"},alt:""}),i.a.createElement("div",null,i.a.createElement("p",{style:{marginLeft:"2em"}},a.previewContent),i.a.createElement("div",{className:n.readSave},i.a.createElement(d.b,{to:"/post/".concat(a._id),className:n.link,onClick:function(){}},i.a.createElement("h4",{style:{marginRight:"2em",color:"#5D67E9",textDecoration:"none"}},"Read more")),i.a.createElement("h4",{style:{color:"#5D67E9",cursor:"pointer"},onClick:function(){r(Sn({postID:a._id}))}},"Save for later")))),i.a.createElement("div",{className:n.interactions},a.tags.length>0&&a.tags.map((function(e){return i.a.createElement("p",{key:e,className:n.tagText})})),i.a.createElement("div",{style:{display:"flex",flex:1}}),i.a.createElement("div",{className:n.interactionsIcons},i.a.createElement("img",{className:n.heartIcon,src:c?rn.a:tn.a,alt:"",onClick:u}),i.a.createElement("p",null,"\xa0",a.likes),i.a.createElement(d.b,{to:"/post/".concat(a.slug),className:n.link},i.a.createElement("img",{className:n.commentIcon,src:Zt.a,alt:""})),i.a.createElement("p",null,"\xa0",a.commentsCount)))):i.a.createElement(Ft,null)},Nn=n(161),Un=n(316),Rn=n(305);n(132);function An(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var Bn=Object(w.a)((function(e){return{root:{flexGrow:1,width:"50%",backgroundColor:e.palette.background.paper}}})),Mn=function(e){var t=e.value,n=e.setValue,r=Bn(),a=Object(s.c)((function(e){return e.tags.entities})),o=[null].concat(Object.values(a));return i.a.createElement("div",{className:r.root},i.a.createElement(h.a,{position:"relative",color:"default"},i.a.createElement(Un.a,{value:t,onChange:function(e,t){n(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example"},o.map((function(e,t){return 0===t?i.a.createElement(Rn.a,Object.assign({label:"all"},An({idx:t}),{key:t})):i.a.createElement(Rn.a,Object.assign({label:e.name},An({idx:t}),{key:t}))})))))},_n=function(){var e,t=Object(s.c)((function(e){return e.posts.trendingPosts})),n=Object(s.b)(),r=Object(o.useState)(t),a=Object(u.a)(r,2),l=a[0],c=a[1],d=Object(s.c)((function(e){return e.posts.trendingPostFetchCount})),f=Object(s.c)((function(e){return e.posts.hasMorePosts})),p=i.a.useState(0),m=Object(u.a)(p,2),g=m[0],h=m[1],v=Object(s.c)((function(e){return e.tags.entities})),b=Object(s.c)((function(e){return e.tags.hasMorePostsInTags})),O=Object.values(v),y=O[g-1],E=null===y||void 0===y?void 0:y._id;e=0===g?f:b[E];return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{display:"flex",position:"fixed",justifyContent:"center",width:"50%",zIndex:10,marginTop:"-40px"}},i.a.createElement(Mn,{value:g,setValue:function(e){if(h(e),0!==e){var r=O[e-1];console.log(r),c(Object.keys(r.postsSet));var a=l.length;n(Pt({tagID:E,startIdx:a})).then(rt.e).then((function(e){c((function(t){return t.concat(e.posts.map((function(e){return e._id})))}))})).catch((function(e){return console.log(e)}))}else c(t)}})),i.a.createElement("div",{style:{marginTop:"50px"}},i.a.createElement(Nn.a,{dataLength:l.length,next:function(){if(0===g){if(!f)return;n(It({fetchCount:d})).then(rt.e).then((function(e){c((function(t){return t.concat(e.posts.map((function(e){return e._id})))}))})).catch((function(e){return console.log(e)}))}var e=l.length,t=E;b[t]&&n(Pt({tagID:t,startIdx:e})).then(rt.e).then((function(e){c((function(t){return t.concat(e.posts.map((function(e){return e._id})))}))})).catch((function(e){return console.log(e)}))},hasMore:e,key:g.toString(),loader:i.a.createElement(Ft,null),endMessage:i.a.createElement("p",{style:{textAlign:"center"}},i.a.createElement("b",null,"You've seen it all!"))},l.map((function(e,t){return i.a.createElement(Ln,{postID:e,key:t})})))))},zn=n(162),Vn=Object(w.a)({root:{width:"20vw",display:"flex",flexDirection:"column",cursor:"pointer",paddingLeft:"2em",paddingTop:"10vh",marginRight:"5vw",position:"fixed",right:0},savePostSection:{display:"flex",flexDirection:"column",height:"50vh",overflowY:"scroll"},savePostText:{marginBottom:"-1px",borderBottom:"solid 1px lightgray",fontSize:"large",fontFamily:"Passion One, cursive",color:"#707070"},link:{textDecoration:"none"}});function Jn(){var e=Vn(),t=Object(s.c)((function(e){return e.isLoggedIn})),n=Object(s.c)((function(e){return e.posts.trendingPosts})),r=Object(s.c)((function(e){return e.posts.entities})),a=Object(s.c)((function(e){return e.users.entities}));return i.a.createElement("div",{className:e.root},t&&i.a.createElement("div",null,i.a.createElement("p",{className:e.savePostText},"# POPULAR"),i.a.createElement("div",{className:e.savePostSection},n.map((function(e,t){return i.a.createElement("div",{key:t},i.a.createElement(se,{pic:a[r[e].author].profilePic,title:r[e].title,subtitle:r[e].content.substr(0,60).concat("..."),isButton:!1,isPost:!0,extraText:r[e].createdAt}))}))),i.a.createElement("p",{className:e.savePostText},"# WHO TO FOLLOW"),i.a.createElement(zn.TinyButton,null)))}var Wn,Hn=function(e){var t=e.error;return i.a.createElement("h3",{style:{position:"absolute",height:"500px",top:"200px"}},"Error: ",JSON.stringify(t))},Kn=n(99),Yn=n(310),$n=n(308),Xn=n(309),Qn=n(68),Zn=n.n(Qn),er=new Ze,tr=Object(rt.c)({selectId:function(e){return e._id}}),nr=Object(rt.b)("fetchUsersByIDs",function(){var e=Object(ye.a)(Oe.a.mark((function e(t){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,er.userControllerGetUsersByIDs(t.join());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),rr=Object(rt.b)("fetchUserByUsername",function(){var e=Object(ye.a)(Oe.a.mark((function e(t){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,er.userControllerGetUserByUsername(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ar=Object(rt.d)({name:"users",initialState:tr.getInitialState({usernameToID:{}}),reducers:{},extraReducers:(Wn={},Object(m.a)(Wn,It.fulfilled.type,(function(e,t){tr.addMany(e,t.payload.users),t.payload.users.forEach((function(t){return e.usernameToID[t.userID]=t._id}))})),Object(m.a)(Wn,Dt.fulfilled.type,(function(e,t){t.payload.author&&(tr.upsertOne(e,t.payload.author),e.usernameToID[t.payload.author.userID]=t.payload.author._id)})),Object(m.a)(Wn,nr.fulfilled.type,(function(e,t){tr.upsertMany(e,t.payload.users),t.payload.users.forEach((function(t){return e.usernameToID[t.userID]=t._id}))})),Object(m.a)(Wn,rr.fulfilled.type,(function(e,t){tr.upsertOne(e,t.payload),e.usernameToID[t.payload.userID]=t.payload._id})),Object(m.a)(Wn,yn.fulfilled.type,(function(e,t){e.entities[t.payload.userID]&&wt.a.pull(e.entities[t.payload.userID].groups,t.payload.groupID)})),Object(m.a)(Wn,En.fulfilled.type,(function(e,t){e.entities[t.payload.userID].groups&&e.entities[t.payload.userID].groups.push(t.payload.groupID)})),Object(m.a)(Wn,"getConversationsAndUsers",(function(e,t){tr.upsertMany(e,t.payload.users)})),Object(m.a)(Wn,jt.type,(function(e,t){tr.upsertMany(e,t.payload.authors)})),Wn)}).reducer,or=n(4),ir=n(317),lr=n(322),cr=n(306),sr=n(302),ur=n(303),dr=Object(w.a)({root:{"&:hover":{backgroundColor:"transparent"}},icon:{borderRadius:"50%",width:16,height:16,boxShadow:"inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)",backgroundColor:"#f5f8fa",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))","$root.Mui-focusVisible &":{outline:"2px auto rgba(19,124,189,.6)",outlineOffset:2},"input:hover ~ &":{backgroundColor:"#ebf1f5"},"input:disabled ~ &":{boxShadow:"none",background:"rgba(206,217,224,.5)"}},checkedIcon:{backgroundColor:"#137cbd",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))","&:before":{display:"block",width:16,height:16,backgroundImage:"radial-gradient(#fff,#fff 28%,transparent 32%)",content:'""'},"input:hover ~ &":{backgroundColor:"#106ba3"}}});function fr(e){var t=dr();return i.a.createElement(ir.a,Object.assign({className:t.root,disableRipple:!0,color:"default",checkedIcon:i.a.createElement("span",{className:Object(or.a)(t.icon,t.checkedIcon)}),icon:i.a.createElement("span",{className:t.icon})},e))}function pr(e){var t=e.setItem;return i.a.createElement(sr.a,{component:"fieldset",required:!0},i.a.createElement(ur.a,{component:"legend",focused:!1},"Privacy"),i.a.createElement(lr.a,{row:!0,defaultValue:"public",name:"customized-radios",onChange:function(e){t(e)}},i.a.createElement(cr.a,{value:"public",control:i.a.createElement(fr,null),label:"Public"}),i.a.createElement(cr.a,{value:"private",control:i.a.createElement(fr,null),label:"Private"})))}var mr=n(307);function gr(){var e=Object(p.a)(["\n  margin-left: 10px;\n  margin-right: 10px;\n"]);return gr=function(){return e},e}var hr=g.a.div(gr()),vr=Object(ue.a)((function(e){return{root:{padding:e.spacing(1)}}}))(mr.a),br=function(e){var t=e.handleClose,n=Object(o.useState)([]),r=Object(u.a)(n,2),a=r[0],l=r[1],c=Object(o.useState)(null),d=Object(u.a)(c,2),f=d[0],p=d[1],m=Object(o.useState)(null),g=Object(u.a)(m,2),h=g[0],v=g[1],b=Object(o.useState)(""),O=Object(u.a)(b,2),y=O[0],E=O[1],j=Object(o.useState)(""),C=Object(u.a)(j,2),w=C[0],x=C[1],I=Object(o.useState)(!1),P=Object(u.a)(I,2),D=P[0],S=P[1],k=Object(s.c)((function(e){return e.users.entities})),T=Object(s.c)((function(e){return e.user})),G=ln(k,T),q=Object(o.useState)(!1),F=Object(u.a)(q,2),L=F[0],N=F[1],U=Object(o.useState)(null),R=Object(u.a)(U,2),A=R[0],M=R[1],_=Object(o.useState)(!1),z=Object(u.a)(_,2),V=z[0],J=z[1],W=Object(s.b)();if(Object(o.useEffect)((function(){(T.followers.length>0||T.following.length>0)&&(N(!0),W(nr(T.following.concat(T.followers))).then(rt.e).then((function(){N(!1)})).catch((function(e){console.log(e),M(e),N(!1)})))}),[]),!G||L)return i.a.createElement(Ft,null);if(A)return i.a.createElement(Hn,{error:A});var H=function(){var e=Object(ye.a)(Oe.a.mark((function e(n){var r,o;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!h){e.next=5;break}return e.next=4,it(h);case 4:r=e.sent;case 5:if(!f){e.next=9;break}return e.next=8,it(f);case 8:o=e.sent;case 9:W(On({name:y,description:w,private:D,users:a,profilePic:r,profileBanner:o})).then(rt.e).then((function(){J(!0)})).catch((function(e){N(!1),M(e)})),t();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,V?i.a.createElement(Ft,null):i.a.createElement("form",{onSubmit:H},i.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},i.a.createElement(Y.a,{buttonText:"Upload cover photo",withPreview:!0,withIcon:!0,onChange:function(e){p(e[0])},imgExtension:[".jpg",".jpeg",".gif",".png",".gif"],maxFileSize:5242880,singleImage:!0,buttonStyles:{backgroundColor:"#6a6a6a"}}),i.a.createElement(Y.a,{buttonText:"Upload profile pic",withPreview:!0,withIcon:!1,onChange:function(e){v(e[0])},imgExtension:[".jpg",".jpeg",".gif",".png",".gif"],maxFileSize:5242880,style:{width:"50%"},singleImage:!0,buttonStyles:{backgroundColor:"#6a6a6a"}})),i.a.createElement(me,{name:"Add Group Name",description:"Add Group Description",setName:E,setDescription:x}),i.a.createElement(hr,null,i.a.createElement(ge,{label:"Add People",options:G,imgKey:"profilePic",setItems:l,panelWidth:500})),i.a.createElement("div",{style:{height:"25px"}}),i.a.createElement(hr,null,i.a.createElement(pr,{setItem:S})),i.a.createElement(vr,null,i.a.createElement("div",null,i.a.createElement(B,{content:"Create group"})))))};function Or(){var e=Object(p.a)(["\n  margin-top: 10px;\n  color: #5D67E9; \n  font-weight: bold;\n  padding-top: 20px;\n  cursor: pointer;\n"]);return Or=function(){return e},e}var yr=g.a.p(Or()),Er=Object(ue.a)((function(e){return Object(te.a)({root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}})}))((function(e){var t=e.children,n=e.classes,r=e.onClose,a=Object(Kn.a)(e,["children","classes","onClose"]);return i.a.createElement($n.a,Object.assign({disableTypography:!0,className:n.root},a),i.a.createElement(I.a,{variant:"h6"},t),r?i.a.createElement(b.a,{"aria-label":"close",className:n.closeButton,onClick:r},i.a.createElement(Zn.a,null)):null)})),jr=Object(ue.a)((function(e){return{root:{padding:e.spacing(2)}}}))(Xn.a),Cr=function(){var e=Object(o.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],a=function(){r(!1)};return i.a.createElement("div",null,i.a.createElement(yr,{onClick:function(){r(!0)}},"Create Group"),i.a.createElement(Yn.a,{onClose:a,"aria-labelledby":"customized-dialog-title",open:n},i.a.createElement(Er,{id:"customized-dialog-title",onClose:a},"Create a Group"),i.a.createElement(jr,{dividers:!0},i.a.createElement(br,{handleClose:a}))))};function wr(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  padding-left: 30px;\n  padding-right: 30px;\n  overflow-y: scroll;\n  margin-bottom: 5vh;\n"]);return wr=function(){return e},e}function xr(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: row;\n  padding-left: 30px;\n  padding-right: 30px;\n  padding-top: 10px;\n  border-bottom: solid 1px lightgray;\n"]);return xr=function(){return e},e}function Ir(){var e=Object(p.a)(["\n  width: 40%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  background-color: white;\n\n"]);return Ir=function(){return e},e}var Pr=g.a.div(Ir()),Dr=g.a.div(xr()),Sr=g.a.div(wr()),kr=function(e){var t=e.currentGroup,n=e.isUserAMember,r=Object(s.b)();return t?i.a.createElement("div",null,i.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.a.createElement(d.b,{to:"/group/".concat(t._id),style:{textDecoration:"none"}},i.a.createElement(se,{pic:t.profilePic,title:t.name,subtitle:t.description,extraText:""})),i.a.createElement("div",{style:{flex:1}}),i.a.createElement("div",{style:{marginTop:"30px"}},!n&&i.a.createElement("div",{onClick:function(){r(En(t._id))}},i.a.createElement(B,{content:"Join Group"})," "),n&&i.a.createElement("div",{onClick:function(){r(yn(t._id))}}," ",i.a.createElement(B,{content:"Leave Group"})," ")))):i.a.createElement("div",null,i.a.createElement("h1",null,"NULL GROUP"))};function Tr(){var e=Object(s.c)((function(e){return e.user})),t=Object(s.c)((function(e){return e.groups.entities})),n=Object(s.b)(),r=Object(o.useState)(!0),a=Object(u.a)(r,2),l=a[0],c=a[1],d=Object(o.useState)(null),f=Object(u.a)(d,2),p=f[0],m=f[1];if(Object(o.useEffect)((function(){c(!0),n(hn()).then(rt.e).then((function(){c(!1)})).catch((function(e){c(!1),m(e)}))}),[]),l||!t)return i.a.createElement(Ft,null);if(p)return i.a.createElement(Hn,{error:p});var g=e.groups,h=Object.keys(t).filter((function(e){return!g.includes(e)}));return i.a.createElement(Pr,null,i.a.createElement(Dr,null,i.a.createElement("span",null,i.a.createElement("h2",null,"Groups")),i.a.createElement("div",{style:{flex:1}}),i.a.createElement("span",null,i.a.createElement(Cr,null))),i.a.createElement("hr",{style:{color:"black"}}),i.a.createElement(Sr,null,g.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null,"Your groups"),g.map((function(e){return i.a.createElement(kr,{currentGroup:t[e],key:e,isUserAMember:!0})}))),0===g.length&&i.a.createElement("h3",null,"Groups you may be interested in"),g.length>0&&i.a.createElement("h3",null,"Other groups"),h.map((function(e){return i.a.createElement(kr,{currentGroup:t[e],key:e,isUserAMember:!1})}))))}var Gr=Object(w.a)({home:{paddingTop:"7vh",display:"flex"},main:{marginTop:"5vh",display:"flex",flex:1,marginBottom:"1vh",height:"86vh",flexDirection:"column",alignItems:"center",width:"100%"}});function qr(){var e=Gr(),t=Object(f.j)().path;return i.a.createElement("div",{className:e.home},i.a.createElement(Yt,null),i.a.createElement("div",{className:e.main},i.a.createElement(f.d,null,i.a.createElement(f.b,{path:"".concat(t,"/groups")},i.a.createElement(Tr,null)),i.a.createElement(f.b,{exact:!0,path:t},i.a.createElement(_n,null)))),i.a.createElement(Jn,null))}function Fr(){var e=Object(f.g)(),t=Object(s.b)();return Object(o.useEffect)((function(){fetch("http://ec2-13-229-215-75.ap-southeast-1.compute.amazonaws.com/api/dev/login").then((function(e){return e.json()})).then((function(n){var r=n.jwt;t(dn({jwt:r})),e.push("/")}))}),[]),i.a.createElement("h1",null,"Logging in...")}var Lr,Nr=n(163),Ur=n.n(Nr),Rr=Object(rt.c)({selectId:function(e){return e._id}}),Ar=Object(rt.b)("fetchMessagesInConversation",function(){var e=Object(ye.a)(Oe.a.mark((function e(t){var n;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.conversationID,e.next=3,(new _e).messagesControllerGetMessagesInConversation(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Br=Object(rt.d)({name:"messages",initialState:Rr.getInitialState({isSending:!1,isTyping:!1,isError:null,pendingMessages:[]}),reducers:{createMessagePending:function(e,t){e.isSending=!0,e.isError=null;var n={conversationID:t.payload.conversationID,text:t.payload.text,createdAt:t.payload.createdAt};e.pendingMessages.push(n)},createMessageSuccess:function(e,t){e.isSending=!1,Rr.addOne(e,t.payload),wt.a.remove(e.pendingMessages,(function(e){return e.createdAt===t.payload.createdAt})),e.isError=null},createMessageError:function(e,t){e.isSending=!1,e.isError=t.payload},receiveNewMessage:function(e,t){Rr.addOne(e,t.payload)}},extraReducers:Object(m.a)({},Ar.fulfilled.type,(function(e,t){Rr.upsertMany(e,t.payload)}))}),Mr=Br.reducer,_r=Br.actions,zr=_r.createMessagePending,Vr=_r.createMessageSuccess,Jr=(_r.createMessageError,_r.receiveNewMessage),Wr=Object(rt.c)({selectId:function(e){return e._id}}),Hr=Object(rt.d)({name:"conversations",initialState:Wr.getInitialState({currentConversationID:"",isGroupConversation:!1,isDirectConversation:!0,isLoading:!1}),reducers:{addConversation:function(e,t){Wr.addOne(e,t.payload)},setNewConversation:function(e){e.currentConversationID=""},selectConversation:function(e,t){var n=t.payload.conversationID;e.entities[n].users.length>2?(e.isDirectConversation=!1,e.isGroupConversation=!0):(e.isDirectConversation=!0,e.isGroupConversation=!1),e.isLoading=!0,e.currentConversationID=n},createDirectConversationPending:function(e){e.isLoading=!0,e.isDirectConversation=!0,e.isGroupConversation=!1},createGroupConversationPending:function(e){e.isLoading=!0,e.isGroupConversation=!0,e.isDirectConversation=!1},createConversationSuccess:function(e,t){Wr.addOne(e,t.payload),e.isLoading=!0,e.currentConversationID=t.payload._id}},extraReducers:(Lr={getConversationsAndUsers:function(e,t){Wr.upsertMany(e,t.payload.conversations)}},Object(m.a)(Lr,Ar.fulfilled.type,(function(e){e.isLoading=!1})),Object(m.a)(Lr,Vr.type,(function(e,t){e.entities[e.currentConversationID].messages.push(t.payload._id)})),Object(m.a)(Lr,Jr.type,(function(e,t){e.entities[t.payload.conversationID].messages.push(t.payload._id)})),Lr)}),Kr=Hr.reducer,Yr=Hr.actions,$r=Yr.addConversation,Xr=Yr.selectConversation,Qr=Yr.createDirectConversationPending,Zr=Yr.createGroupConversationPending,ea=Yr.createConversationSuccess,ta=Yr.setNewConversation;function na(){var e=Object(p.a)(["\n  margin-left: 10px;\n  margin-right: 10px;\n"]);return na=function(){return e},e}var ra=g.a.div(na()),aa=Object(ue.a)((function(e){return{root:{padding:e.spacing(1)}}}))(mr.a),oa=function(e){var t=e.handleClose,n=Object(o.useState)([]),r=Object(u.a)(n,2),a=r[0],l=r[1],c=Object(o.useState)(""),d=Object(u.a)(c,2),f=d[0],p=d[1],m=Object(s.c)((function(e){return e.users.entities})),g=Object(s.c)((function(e){return e.user})),h=[];g.followers.concat(g.following).forEach((function(e){m[e]&&h.push(m[e])})),h=Object.values(on(h));var v=Object(o.useState)(!1),b=Object(u.a)(v,2),O=b[0],y=b[1],E=Object(o.useState)(null),j=Object(u.a)(E,2),C=j[0],w=j[1],x=Object(o.useState)(!1),I=Object(u.a)(x,2),P=I[0],D=(I[1],Object(o.useContext)(Ul)),S=Object(s.b)();if(Object(o.useEffect)((function(){(g.followers.length>0||g.following.length>0)&&(y(!0),S(nr(g.following.concat(g.followers))).then(rt.e).then((function(){y(!1)})).catch((function(e){console.log(e),w(e),y(!1)})))}),[]),!h||O)return i.a.createElement(Ft,null);if(C)return i.a.createElement(Hn,{error:C});var k=function(){var e=Object(ye.a)(Oe.a.mark((function e(n){var r;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),r={otherUsers:a,name:f},D.current.emit("newConversation",r),S(Zr()),t();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,P?i.a.createElement(Ft,null):i.a.createElement("form",{onSubmit:k},i.a.createElement(me,{name:"Add Name",setName:p}),i.a.createElement(ra,null,i.a.createElement(ge,{label:"Add People",options:h,imgKey:"profilePic",setItems:l})),i.a.createElement("div",{style:{height:"25px"}}),i.a.createElement(aa,null,i.a.createElement(B,{content:"Done"}))))},ia=n(164),la=n.n(ia),ca=Object(ue.a)((function(e){return Object(te.a)({root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}})}))((function(e){var t=e.children,n=e.classes,r=e.onClose,a=Object(Kn.a)(e,["children","classes","onClose"]);return i.a.createElement($n.a,Object.assign({disableTypography:!0,className:n.root},a),i.a.createElement(I.a,{variant:"h6"},t),r?i.a.createElement(b.a,{"aria-label":"close",className:n.closeButton,onClick:r},i.a.createElement(Zn.a,null)):null)})),sa=Object(ue.a)((function(e){return{root:{padding:e.spacing(2)}}}))(Xn.a),ua=function(e){var t=e.setOpen,n=Object(s.c)((function(e){return e.conversations.entities})),r=Object.values(n).filter((function(e){return e.users.length>2})),a=Object(s.b)();return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{paddingTop:"20px"}},i.a.createElement("span",null,i.a.createElement("img",{src:la.a,alt:"",style:{float:"right"},onClick:t})),i.a.createElement("span",null,i.a.createElement(ga,null,"GROUP CONVERSATIONS")),r.length>0&&r.map((function(e){return i.a.createElement("p",{style:{fontWeight:"bold",color:"#333333"},onClick:function(){return t=e._id,a(Xr({conversationID:t})),void a(Ar({conversationID:t}));var t}},"#",e.name)}))))},da=function(){var e=Object(o.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],a=function(){r(!1)};return i.a.createElement("div",null,i.a.createElement(ua,{setOpen:function(){r(!0)}}),i.a.createElement(Yn.a,{onClose:a,"aria-labelledby":"customized-dialog-title",open:n,disableBackdropClick:!0},i.a.createElement(ca,{id:"customized-dialog-title",onClose:a},"Create a Group Chat"),i.a.createElement(sa,{dividers:!0},i.a.createElement(oa,{handleClose:a}))))};function fa(){var e=Object(p.a)(["\n  font-size: larger;\n  font-family: Passion One, cursive;\n  color: #707070;\n"]);return fa=function(){return e},e}function pa(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 17%;\n  height: 92vh;\n  cursor: pointer;\n  box-shadow: 2px 2px 3px #F5F5F5;\n  z-index: 1;\n"]);return pa=function(){return e},e}var ma=g.a.div(pa()),ga=g.a.div(fa()),ha=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.conversations.entities})),n=Object.values(t).filter((function(e){return 2===e.users.length})),r=Object(s.c)((function(e){return e.user._id})),a=Object(s.c)((function(e){return e.users.entities}));return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",null,i.a.createElement("img",{src:Ur.a,alt:"",style:{float:"right"},onClick:function(){e(ta())}})),i.a.createElement("span",null,i.a.createElement(ga,null,"DIRECT MESSAGES")),i.a.createElement("div",{style:{overflowY:"scroll"}},n.length>0&&n.map((function(t){var n=t.users.filter((function(e){return e!==r}))[0],o=a[n];return i.a.createElement("div",{onClick:function(){return n=t._id,e(Xr({conversationID:n})),void e(Ar({conversationID:n}));var n}},i.a.createElement(se,{isText:!0,pic:o.profilePic,title:o.name}))}))))},va=function(){return i.a.createElement(ma,null,i.a.createElement("div",{style:{paddingLeft:"30px",paddingRight:"30px",marginTop:"20%"}},i.a.createElement(ha,null),i.a.createElement(da,null)))};function ba(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  height: 15vh;\n"]);return ba=function(){return e},e}function Oa(){var e=Object(p.a)(["\n  margin-bottom: -1px;\n"]);return Oa=function(){return e},e}function ya(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 20%;\n  height: 92vh;\n  box-shadow: 1px 1px 2px 4px #F5F5F5;\n"]);return ya=function(){return e},e}var Ea=g.a.div(ya()),ja=g.a.h2(Oa()),Ca=g.a.div(ba()),wa=function(){var e=Object(s.c)((function(e){return e.conversations.isGroupConversation})),t=Object(s.c)((function(e){return e.conversations.entities}))[Object(s.c)((function(e){return e.conversations.currentConversationID}))],n=Object(s.c)((function(e){return e.users.entities}));return t?i.a.createElement(Ea,null,i.a.createElement(Ca,null,i.a.createElement("div",{style:{paddingLeft:"30px"}},e?i.a.createElement(ja,null,"Group info"):i.a.createElement(ja,null,"Chat info"),i.a.createElement("span",null,"Created Jul 17, 2020"))),i.a.createElement("div",{style:{paddingLeft:"30px",paddingTop:"10px"}},i.a.createElement(ga,null,"PEOPLE"),t.users.map((function(e){return i.a.createElement(se,{isText:!0,pic:n[e].profilePic,title:n[e].name})})))):i.a.createElement(i.a.Fragment,null)},xa=n(165),Ia=n.n(xa),Pa=n(166),Da=n.n(Pa);function Sa(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  position: absolute;\n  bottom: 0;\n  width: 63%;\n  background-color: #D3D3D3;\n  padding-left: 30px;\n"]);return Sa=function(){return e},e}function ka(){var e=Object(p.a)(["\n  max-height: 50%;\n  height: fit-content;\n  width: 63%;\n  position: absolute;\n  bottom: 50px;\n  background-color: white;\n  overflow: scroll;\n  font-size: medium;\n"]);return ka=function(){return e},e}var Ta=g.a.div(ka()),Ga=g.a.div(Sa()),qa=function(e){var t=e.newMessageSelectedUserIDs,n=Object(o.useRef)(null),r=Object(o.useContext)(Ul),a=Object(s.c)((function(e){return e.user._id})),l=Object(s.c)((function(e){return e.conversations.entities})),c=Object(s.c)((function(e){return e.conversations.currentConversationID})),u=Object(s.b)(),d=Object(o.useRef)(null);return Object(o.useEffect)((function(){d.current=function(){var e=n.current.root.innerHTML;if(""!==c){var o={userID:a,conversationID:c,text:e,createdAt:Date.now()};console.log(o),r.current.emit("newMessage",o),u(zr(o)),n.current.setText("")}else{var i={otherUsers:t,initialMessage:e};if(t.length>1)r.current.emit("newConversation",i),u(Zr());else{for(var s=!1,d=0,f=Object.values(l);d<f.length;d++){var p=f[d];if(2===p.users.length&&p.users.includes(t[0])){console.log("Found existing conversation!"),u(Xr({conversationID:p._id})),u(Ar({conversationID:p._id}));var m={conversationID:p._id,text:e,userID:a,createdAt:Date.now()};r.current.emit("newMessage",m),u(zr(m)),s=!0;break}}s||(r.current.emit("newConversation",i),u(Qr()))}}}}),[c,t]),Object(o.useEffect)((function(){n.current=new Ia.a("#editor",{modules:{toolbar:"#toolbar",keyboard:{bindings:{enter:{key:13,handler:function(){return d.current()}}}}},placeholder:"Send message",theme:"snow"})}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(Ta,{id:"editor"}),i.a.createElement(Ga,{id:"toolbar"},i.a.createElement("button",{className:"ql-bold"}),i.a.createElement("button",{className:"ql-italic"}),i.a.createElement("button",{className:"ql-underline"}),i.a.createElement("button",{className:"ql-strike"}),i.a.createElement("button",{className:"ql-image"}),i.a.createElement("button",{className:"ql-code-block"}),i.a.createElement("button",{className:"ql-link"}),i.a.createElement("button",{className:"ql-blockquote"}),i.a.createElement("button",{className:"ql-list",value:"ordered"}),i.a.createElement("button",{className:"ql-list",value:"bullet"}),i.a.createElement("div",{style:{flex:1}}),i.a.createElement("p",{style:{fontSize:"small",fontStyle:"italic"}},i.a.createElement("strong",null,"Enter")," to send\xa0\xa0\xa0\xa0\xa0\xa0",i.a.createElement("strong",null,"Shift")," + ",i.a.createElement("strong",null,"Enter")," to add a new line\xa0\xa0\xa0\xa0\xa0\xa0"),i.a.createElement("div",{style:{marginRight:"15px",marginTop:"10px"}},i.a.createElement("img",{src:Da.a,alt:"send",onClick:d.current}))))};function Fa(){var e=Object(p.a)(["\n  margin-left: 2.6em;\n  margin-top: ",";\n  "]);return Fa=function(){return e},e}var La=g.a.div(Fa(),(function(e){return e.isUser?"-1em":"-0.5em"})),Na=function(e){var t=e.content,n=e.isUser,r=Object(o.useRef)(null);return Object(o.useEffect)((function(){r.current.innerHTML+=t}),[t]),i.a.createElement("div",{className:"ql-snow"},i.a.createElement("div",{className:"ql-editor"},i.a.createElement(La,{ref:r,isUser:n})))},Ua=n(58),Ra=n.n(Ua),Aa=function(e){var t=e.setPeople,n=Object(s.c)((function(e){return e.users.entities})),r=Object(s.c)((function(e){return e.user})),a=ln(n,r);return i.a.createElement(za,null,i.a.createElement("div",{style:{paddingLeft:"30px",display:"flex",flexDirection:"row",alignItems:"center"}},i.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginLeft:"20px"}},i.a.createElement(ja,null,"New message"),i.a.createElement(ge,{label:"To: Select names to send message",options:a,imgKey:"profilePic",setItems:t}))))};function Ba(){var e=Object(p.a)(["\n  border-bottom: 1px solid #F2F2F2;\n"]);return Ba=function(){return e},e}function Ma(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 63%;\n  height: 80vh;\n  background-color: white;\n"]);return Ma=function(){return e},e}var _a=g.a.div(Ma()),za=Object(g.a)(Ca)(Ba()),Va=function(e){var t=e.conversation;return i.a.createElement(za,null,i.a.createElement("div",{style:{paddingLeft:"30px"}},i.a.createElement(ja,null,t.name),i.a.createElement("span",null,t.users.length," members\xa0\xa0\xa0\xa0"),i.a.createElement("span",null,"+ Add member")))},Ja=function(e){var t=e.currentConversation,n=Object(s.c)((function(e){return e.user._id})),r=Object(s.c)((function(e){return e.users.entities}))[t.users.filter((function(e){return e!==n}))[0]];return i.a.createElement(za,null,i.a.createElement("div",{style:{paddingLeft:"30px",display:"flex",flexDirection:"row",alignItems:"center"}},i.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginLeft:"20px"}},i.a.createElement(ja,null,r.name),i.a.createElement("p",null,"ViewProfile"))))},Wa=function(){var e=Object(s.c)((function(e){return e.user})),t=Object(s.c)((function(e){return e.users.entities})),n=Object(s.c)((function(e){return e.conversations.isGroupConversation})),r=Object(s.c)((function(e){return e.conversations.isDirectConversation})),a=Object(s.c)((function(e){return e.conversations.entities})),l=Object(s.c)((function(e){return e.conversations.currentConversationID})),c=a[l],d=Object(s.c)((function(e){return e.messages.entities})),f=Object.values(d).filter((function(e){if(c)return c.messages.includes(e._id)})),p=Object(s.c)((function(e){return e.messages.pendingMessages})).filter((function(e){return e.conversationID===l})),m=Object(o.useState)([]),g=Object(u.a)(m,2),h=g[0],v=g[1];return Object(s.c)((function(e){return e.conversations.isLoading}))?i.a.createElement(Ft,null):i.a.createElement(_a,null,!c&&i.a.createElement(Aa,{setPeople:v}),c&&n&&i.a.createElement(Va,{conversation:c}),c&&r&&i.a.createElement(Ja,{currentConversation:c}),c&&i.a.createElement("div",{style:{paddingTop:"20px",overflowY:"scroll"}},f.map((function(n){return i.a.createElement("div",{style:{margin:"10px 40px 10px 40px"}},n.author===e._id?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"textBlock",style:{display:"flex",flexDirection:"column"}},i.a.createElement(se,{pic:e.profilePic,title:e.name,isText:!0,extraText:Ra()(n.createdAt).calendar()}),i.a.createElement(Na,{content:n.text,isUser:!0}))):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"textBlock",style:{display:"flex",flexDirection:"column"}},i.a.createElement(se,{pic:t[n.author].name,title:t[n.author].name,isText:!0,extraText:Ra()(n.createdAt).calendar()}),i.a.createElement(Na,{content:n.text,isUser:!1}))))}))),i.a.createElement("div",{style:{paddingTop:"20px",overflowY:"scroll"}},p.map((function(t){return i.a.createElement("div",{style:{margin:"10px 40px 10px 40px"}},i.a.createElement(se,{pic:e.profilePic,title:e.name,subtitle:t.text,isText:!0}),i.a.createElement("em",{style:{fontSize:"smaller",paddingLeft:"50px"}},"Sending..."))}))),i.a.createElement(qa,{newMessageSelectedUserIDs:h}))};function Ha(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: row;\n  padding-top: 8vh;\n"]);return Ha=function(){return e},e}var Ka=g.a.div(Ha()),Ya=function(){return i.a.createElement(Ka,null,i.a.createElement(va,null),i.a.createElement(Wa,null),i.a.createElement(wa,null))},$a=Object(w.a)({root:{marginTop:"1em"},name:{fontSize:"medium",border:"none",borderRadius:"5px",width:"60%",paddingLeft:"2em",height:"3em",marginBottom:"1em"},comment:{alignContent:"",height:"5em"}}),Xa=function(e){var t=e.postID,n=Object(o.useContext)(Ul),r=$a(),a=Object(o.useRef)(null),l=Object(s.b)(),c=Object(s.c)((function(e){return e.comments.isLoading}));return c?i.a.createElement(Ft,null):i.a.createElement("form",{className:r.root,onSubmit:function(e){return function(e){if(e.preventDefault(),""!==a.current.value.trim()){var r={content:a.current.value.trim(),parentPost:t,commentRoot:"post"};n.current.emit("createComment",r),l(yt())}}(e)}},i.a.createElement("input",{className:"".concat(r.name," ").concat(r.comment),placeholder:"Type comment",ref:a}),i.a.createElement(B,{content:"Post comment"}))};var Qa=function(e){var t=Object(f.g)();return i.a.createElement(B,{handleClick:function(){console.log("POSTDETAIL::UPDATE"),console.log(e),console.log(e.slug),t.push("/update-post/".concat(e.slug))},content:"Update Post"})},Za=n(167),eo=n.n(Za),to=n(168),no=n.n(to),ro=n(169),ao=n.n(ro);function oo(){var e=Object(p.a)(["\n  margin-left: 3.5em;\n  margin-top: -0.35em;\n"]);return oo=function(){return e},e}function io(){var e=Object(p.a)(["\n\n"]);return io=function(){return e},e}var lo=g.a.div(io()),co=g.a.p(oo());function so(e){var t=e.commentID,n=Object(s.c)((function(e){return e.comments.entities[t]})),r=Object(s.c)((function(e){return e.users.entities[null===n||void 0===n?void 0:n.author]}));return i.a.createElement(lo,null,i.a.createElement(se,{pic:r.profilePic,small:!0,title:r.userID,titleSrc:"/user/".concat(r.userID),subtitle:Ra()(n.createdAt).calendar(),subtitleIsDate:!0}),i.a.createElement(co,null,n.content))}var uo=n(249),fo=n(170),po=n.n(fo),mo=n(247),go=n(179);function ho(){var e=Object(p.a)(["\n  width: 300px;\n  font-size: medium;\n  padding: 1em;\n"]);return ho=function(){return e},e}function vo(){var e=Object(p.a)(["\n  font-style: italic;\n  color: gray;\n"]);return vo=function(){return e},e}function bo(){var e=Object(p.a)(["\n  background-color: white;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  padding: 1em;\n  text-align: center;\n"]);return bo=function(){return e},e}function Oo(){var e=Object(p.a)(["\n  margin-left: 5em;\n"]);return Oo=function(){return e},e}function yo(){var e=Object(p.a)(["\n\n"]);return yo=function(){return e},e}function Eo(){var e=Object(p.a)(["\n  margin-left: 3.5em;\n  margin-top: -0.35em;\n"]);return Eo=function(){return e},e}var jo=g.a.p(Eo()),Co=g.a.div(yo()),wo=g.a.div(Oo()),xo=g.a.div(bo()),Io=g.a.p(vo()),Po=g.a.input(ho());function Do(e){var t=e.commentID,n=Object(s.c)((function(e){return e.comments.entities[t]})),r=Object(s.c)((function(e){return e.users.entities[null===n||void 0===n?void 0:n.author]})),a=Object(o.useState)(!1),l=Object(u.a)(a,2),c=l[0],d=l[1],f=Object(o.useState)(!1),p=Object(u.a)(f,2),m=p[0],g=p[1],h=Object(o.useRef)(null),v=Object(s.c)((function(e){return e.user})),b=Object(o.useContext)(Ul);if(!n)return console.log("TopLevelComment.tsx.. Comment does not exist in Redux store for ID: ",t),i.a.createElement(i.a.Fragment,null);return i.a.createElement("div",{style:{backgroundColor:c?"white":"inherit",borderRadius:"20px",paddingLeft:"1em",paddingBottom:"1.5em",cursor:"pointer"}},i.a.createElement(Co,{onClick:function(){return d((function(e){return!e}))}},i.a.createElement(se,{pic:r.profilePic,title:r.userID,titleSrc:"/user/".concat(r.userID),subtitle:Ra()(n.createdAt).calendar(),subtitleIsDate:!0,extraText:"Reply",extraTextOnClick:function(e){v?g(!0):z()}})),i.a.createElement(jo,null,n.content),c&&i.a.createElement(wo,null,n.replies.map((function(e){return i.a.createElement(so,{commentID:e})}))),i.a.createElement(uo.a,{open:m,onClose:function(){return g(!1)},closeAfterTransition:!0,BackdropComponent:mo.a,BackdropProps:{timeout:500}},i.a.createElement(go.a,{in:m},i.a.createElement(xo,null,i.a.createElement("img",{height:80,src:po.a,alt:"Reply"}),i.a.createElement(Io,null,"Reply to ",r.userID),i.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),""!==h.current.value.trim()){var r=h.current.value.trim(),a={commentRoot:"post",parentPost:n.parentPost,parentComment:t,content:r};b.current.emit("createComment",a),g(!1)}}},i.a.createElement(Po,{ref:h,placeholder:"Type comment"}))))))}function So(){var e=Object(p.a)(["\n  color: gray;\n  font-style: italic;\n"]);return So=function(){return e},e}function ko(){var e=Object(p.a)(["\n  text-align: center;\n"]);return ko=function(){return e},e}function To(){var e=Object(p.a)(["\n\n"]);return To=function(){return e},e}var Go=g.a.div(To()),qo=g.a.div(ko()),Fo=g.a.p(So());function Lo(e){var t=e.postID,n=Object(s.c)((function(e){return e.posts.entities[t]})),r=Object(s.c)((function(e){return e.posts.fetchedComments[t]})),a=Object(o.useContext)(Ul);Object(o.useEffect)((function(){if(console.log("post_detail/Comments.tsx useEffect, postID:",t),t&&!r){var e={postID:t};a.current.emit("getCommentsByPostID",e),console.log("post_detail/Comments.tsx useEffect -- emitting ","getCommentsByPostID")}}),[t]);var l=Object(s.c)((function(e){var t,r=[];return null===n||void 0===n||null===(t=n.comments)||void 0===t||t.forEach((function(t){var n=e.comments.entities[t];n&&!n.parentComment&&r.push(t)})),r}));return(null===n||void 0===n?void 0:n.content)?0===n.comments.length?i.a.createElement(qo,null,i.a.createElement(Fo,null,"No comments yet..."),i.a.createElement("img",{height:150,src:ao.a,alt:"Write the first comment"}),i.a.createElement(Fo,null,"Write the first comment below!")):i.a.createElement(Go,null,l.map((function(e){return i.a.createElement(Do,{commentID:e})}))):(console.log("post_detail/Comments.tsx render .. post is not loaded"),i.a.createElement(Ft,null))}var No=Object(w.a)({root:{backgroundColor:"red",color:"white",width:"fit-content",height:"2em",border:"none",borderRadius:"10px",fontSize:"15px",padding:"10px",display:"flex",alignItems:"center"}}),Uo=function(e){var t=e.handleClick,n=(e.params,e.content),r=No();return i.a.createElement("button",{onClick:t,className:r.root},n)},Ro=n(311),Ao=n(312);var Bo=function(e){var t=e.postID,n=Object(f.g)(),r=Object(o.useState)(!1),a=Object(u.a)(r,2),l=a[0],c=a[1],d=Object(s.b)(),p=function(){c(!1)};return t?i.a.createElement(i.a.Fragment,null,i.a.createElement(Uo,{handleClick:function(){c(!0)},content:"Delete Post"}),i.a.createElement(Yn.a,{open:l,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement($n.a,{id:"alert-dialog-title"},"Delete this post?"),i.a.createElement(Xn.a,null,i.a.createElement(Ro.a,{id:"alert-dialog-description"},"Note: this action is irreversible")),i.a.createElement(mr.a,null,i.a.createElement(Ao.a,{onClick:function(){p(),(new Je).postsControllerDeletePostByPostID(t).then((function(){console.log("Confirmed optimistic post deletion from backend!")})).catch(console.log),d(Gt({postID:t})),n.push("/")},color:"secondary",autoFocus:!0},"Confirm Delete")))):i.a.createElement(Ft,null)},Mo=Object(w.a)({root:{display:"flex",flexDirection:"column"},postDetail:{paddingTop:"10vh",width:"60vw",margin:"0 auto"},interactions:{display:"flex",flexDirection:"row"},shareIcon:{marginLeft:"2em",width:"1.5em"},heartIcon:{width:"1.3em"},interactionsIcons:{display:"flex",justifyContent:"flex-start",flexDirection:"row",alignContent:"center",marginTop:"6vh"}}),_o=function(){return i.a.createElement(i.a.Fragment,null," ")},zo=function(){var e=Object(f.i)().slug,t=Mo(),n=Object(s.b)(),r=Object(s.c)((function(e){return e.user})),a=Object(s.c)((function(t){var n=t.posts.slugToID[e];if(!n)return{post:null,author:null};var r=t.posts.entities[n];return{post:r,author:t.users.entities[r.author]}})),l=a.post,c=a.author,d=qn(null===l||void 0===l?void 0:l._id),p=d.postIsLikedByUser,m=d.handleToggleLike,g=!1;null!==c&&(g=null!==r&&r._id===c._id);var h,v=Object(o.useState)(null),b=Object(u.a)(v,2),O=b[0],y=b[1];return h=(null===l||void 0===l?void 0:l.featuredImg)?l.featuredImg:eo.a,Object(o.useEffect)((function(){null!=e&&""!==e&&((null===l||void 0===l?void 0:l.content)?(new Je).postsControllerIncrementView(l._id).then((function(){return console.log("Already had post. Incremented view count.")})).catch(console.log):n(Dt({slug:e,getAuthor:!c})).catch(y))}),[]),null==e||""===e?i.a.createElement(f.a,{to:"/"}):(null===l||void 0===l?void 0:l.content)&&c?O?i.a.createElement(Ut,null):i.a.createElement("div",{className:t.root},i.a.createElement("div",{className:t.postDetail},i.a.createElement("img",{src:h,style:{height:"20em",objectFit:"cover",width:"100%"},alt:"featured"}),i.a.createElement("h1",null,l.title),i.a.createElement(se,{pic:c.profilePic,title:c.userID,subtitle:l.createdAt,isPost:!0,extraText:"follow",isButton:!0}),i.a.createElement("p",null,l.content),i.a.createElement(_o,null),i.a.createElement("div",{className:t.interactionsIcons},i.a.createElement("span",null,i.a.createElement("img",{className:t.heartIcon,src:p?rn.a:tn.a,alt:"",onClick:function(){m()}}),"\xa0\xa0",l.likes),i.a.createElement("span",null,i.a.createElement("img",{className:t.shareIcon,src:Zt.a,alt:""}),"\xa0\xa0",l.commentsCount),i.a.createElement("span",null,i.a.createElement("img",{className:t.shareIcon,src:no.a,alt:""}),"\xa0\xa0Save")),i.a.createElement("hr",null),i.a.createElement(Lo,{postID:l._id}),i.a.createElement(Xa,{postID:l._id}),i.a.createElement("div",{style:{height:"20px"}}),g&&i.a.createElement(Qa,{params:e}),i.a.createElement("div",{style:{height:"20px"}}),g&&i.a.createElement(Bo,{postID:null===l||void 0===l?void 0:l._id}))):i.a.createElement(Ft,null)},Vo=Object(w.a)((function(e){return{button:{margin:e.spacing(1)}}}));function Jo(){var e=Vo();return i.a.createElement("div",null,i.a.createElement(Ao.a,{variant:"contained",color:"secondary",className:e.button,endIcon:i.a.createElement(Zn.a,null)},"Cpp"))}var Wo=Object(w.a)({rightbar:{width:"20vw",display:"flex",flexDirection:"column",cursor:"pointer",paddingLeft:"2em",paddingTop:"5vh",marginRight:"5vw"},title:{fontSize:"1em"},search:{display:"flex",flexDirection:"column",height:"40vh",overflowY:"auto"},searchoption:{fontSize:"1em"},filter:{height:"56vh",display:"flex"},display:{fontWeight:"bold",marginBottom:"1em"},filtertags:{}});function Ho(){var e=Wo();return i.a.createElement("div",{className:e.rightbar},i.a.createElement("div",{className:e.search},i.a.createElement("p",{className:e.title},"# Search"),i.a.createElement("hr",{className:e.display}),i.a.createElement("div",{className:e.searchoption},i.a.createElement("input",{type:"checkbox",checked:!0}),i.a.createElement("label",null,"posts"),i.a.createElement("br",null),i.a.createElement("input",{type:"checkbox"}),i.a.createElement("label",null,"users"),i.a.createElement("br",null),i.a.createElement("input",{type:"checkbox"}),i.a.createElement("label",null,"videos"))),i.a.createElement("div",{className:e.filter},i.a.createElement("p",{className:e.title},"# Filter by"),i.a.createElement("hr",{className:e.display}),i.a.createElement("div",{className:e.filtertags},i.a.createElement(Jo,null))))}var Ko=Object(w.a)({home:{paddingTop:"7vh",display:"flex"}});function Yo(){var e=Ko();return i.a.createElement("div",{className:e.home},i.a.createElement(_n,null),i.a.createElement(Ho,null))}var $o=n(45),Xo=function(e){Object(je.a)(n,e);var t=Object(Ce.a)(n);function n(e){var r;return Object(xe.a)(this,n),(r=t.call(this,e)).state={name:"",path:"",preview:null,data:null},r.changePath=r.changePath.bind(Object($o.a)(r)),r.upload=r.upload.bind(Object($o.a)(r)),r.cancel=r.cancel.bind(Object($o.a)(r)),r}return Object(Ee.a)(n,[{key:"changePath",value:function(e){console.log(e.target.files.length);for(var t=0;t<e.target.files.length;t++){var n=e.target.files[t];if(console.log(n),!n)return;var r=n.src,a=n.preview;r=URL.createObjectURL(n),a=o.createElement("video",{src:r,height:450,width:800,autoPlay:!0,controls:!0}),this.setState({path:n.name,data:n,preview:a})}}},{key:"upload",value:function(e){e.preventDefault();it(this.state.data).then((function(e){console.log(e)})),alert(this.state.path.toString()+" is successfully uploaded!")}},{key:"cancel",value:function(){this.props.closeOverlay()}},{key:"render",value:function(){var e=this.state,t=e.path,n=e.preview;return o.createElement("div",null,o.createElement("div",{className:"row"},o.createElement("div",{className:"row-input"},o.createElement("span",{style:{fontFamily:"Arial"}},t||"Choose files"),o.createElement("br",null),o.createElement("input",{type:"file",accept:"video",multiple:!0,onChange:this.changePath,style:{fontFamily:"Arial"}}))),o.createElement("button",{className:"primary upload",onClick:this.upload,style:{fontFamily:"Arial"}},"upload"),"\xa0",o.createElement("button",{className:"primary cancel",onClick:this.cancel,style:{fontFamily:"Arial"}},"cancel"),o.createElement("div",{className:"media",style:{alignItems:"center",display:"flex",flex:1,flexDirection:"column"}},n)," ",o.createElement("br",null))}}]),n}(o.Component),Qo=function(e){},Zo=function(e){Object(je.a)(n,e);var t=Object(Ce.a)(n);function n(e){var r;return Object(xe.a)(this,n),(r=t.call(this,e)).state={overlayActive:!0},r.closeOverlay=r.closeOverlay.bind(Object($o.a)(r)),r.showOverlay=r.showOverlay.bind(Object($o.a)(r)),r}return Object(Ee.a)(n,[{key:"closeOverlay",value:function(){this.setState({overlayActive:!1})}},{key:"showOverlay",value:function(){this.setState({overlayActive:!0})}},{key:"render",value:function(){return o.createElement("div",{className:"root",style:{marginTop:"3em",display:"flex",flexDirection:"column",height:"30vh",width:"40vw",backgroundColor:"white",boxShadow:"3px 3px #F2F2F2",marginBottom:"1em",borderRadius:"5px",paddingLeft:"1.5em",paddingRight:"1.5em"}},o.createElement("form",{onSubmit:Qo},o.createElement("button",{className:"button",onClick:this.showOverlay,style:{border:"none",outline:"none",borderRadius:"5px",margin:"1em auto",width:"100%",height:"7vh",backgroundColor:"#F2F2F2",fontFamily:"Arial",fontSize:"1.5em"}},"Upload Video"),this.state.overlayActive&&o.createElement(Xo,{closeOverlay:this.closeOverlay})))}}]),n}(o.Component),ei=Object(w.a)({createPost:{paddingTop:"7vh",paddingBottom:"7vh",display:"flex",flex:1,flexDirection:"column",height:"110vh",alignItems:"center"}});function ti(){var e=ei(),t=Object(o.useState)(""),n=Object(u.a)(t,2),r=n[0],a=n[1],l=Object(o.useState)(""),c=Object(u.a)(l,2),d=c[0],f=c[1],p=Object(o.useState)([]),m=Object(u.a)(p,2),g=m[0],h=m[1],v=Object(s.c)((function(e){return e.tags.entities})),b=Object.values(v);return i.a.createElement("div",{className:e.createPost},i.a.createElement(Zo,null),i.a.createElement(Z,{setTitle:a,setContent:f}),i.a.createElement(pt,null,i.a.createElement(ge,{label:"Add Tags",options:b,setItems:h})),i.a.createElement(ut,{title:r,content:d,tags:g}))}var ni=Object(w.a)((function(){return Object(te.a)({bannerImg:{maxHeight:"284px",marginLeft:"10%",width:"80%",objectFit:"none"}})}));function ri(e){var t=e.imgSrc,n=ni();return i.a.createElement("div",{style:{height:"284px"}},i.a.createElement("img",{className:n.bannerImg,src:t,alt:"banner"}))}var ai=n(69),oi=n.n(ai);function ii(){var e=Object(p.a)(["\n  margin-bottom: 23px;\n  margin-left: 73px;\n  margin-right: 73px;\n  background: #FFFFFF;\n  border: 1px solid #000000;\n  box-sizing: border-box;\n  width: 141px;\n  height: 38px;\n  border-radius: 10px;\n  font-family: Roboto, sans-serif;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 18px;\n  line-height: 21px;\n"]);return ii=function(){return e},e}function li(){var e=Object(p.a)(["\n  flex: 1;\n"]);return li=function(){return e},e}function ci(){var e=Object(p.a)(["\n  width: 87px;\n"]);return ci=function(){return e},e}function si(){var e=Object(p.a)(["\n  padding: 0;\n  margin: 0;\n  font-family: Roboto, sans-serif;;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 24px;\n  line-height: 28px;\n  color: #000000;\n"]);return si=function(){return e},e}function ui(){var e=Object(p.a)(["\n  font-family: Roboto, sans-serif;;\n  font-style: normal;\n  font-weight: 300;\n  font-size: 18px;\n  line-height: 21px;\n  padding: 0;\n  margin: 0;\n\n  color: #000000;\n"]);return ui=function(){return e},e}function di(){var e=Object(p.a)(["\n  display: flex;\n\n"]);return di=function(){return e},e}function fi(){var e=Object(p.a)(["\n  margin-top: 4px;\n  padding: 0;\n  font-family: Roboto, sans-serif;;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 20px;\n  line-height: 23px;\n  color: #000000;\n  text-align: center;\n"]);return fi=function(){return e},e}function pi(){var e=Object(p.a)(["\n  padding: 0;\n  margin-top: 16px;\n  margin-bottom: 0;\n  font-family: Roboto, sans-serif;;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 24px;\n  color: #000000;\n  text-align: center;\n"]);return pi=function(){return e},e}function mi(){var e=Object(p.a)(["\n  margin-top: 19px;\n  margin-left: 98px;\n  margin-right: 98px;\n  width: 92px;\n  height: 92px;\n  border-radius: 100px;\n"]);return mi=function(){return e},e}function gi(){var e=Object(p.a)(["\n  height: 450px;\n  width: 288px;\n  background-color: white;\n  border-radius: 20px;\n  display: flex;\n  flex-direction: column;\n"]);return gi=function(){return e},e}var hi=g.a.div(gi()),vi=g.a.img(mi()),bi=g.a.h3(pi()),Oi=g.a.h4(fi()),yi=g.a.div(di()),Ei=g.a.div(ui()),ji=Ei,Ci=g.a.p(si()),wi=g.a.div(ci()),xi=g.a.div(li()),Ii=g.a.button(ii());function Pi(e){var t=e.user,n=e.isCurrentUser,r=e.followHook;return i.a.createElement(hi,null,i.a.createElement(vi,{src:t.profilePic}),i.a.createElement(bi,null,t.name.toUpperCase()),i.a.createElement(Oi,null,t.status),i.a.createElement(yi,null,i.a.createElement(xi,null),i.a.createElement(Ei,null,i.a.createElement(Ci,null,t.followers.length),1!==t.followers.length?"followers":"follower"),i.a.createElement(wi,null),i.a.createElement(ji,null,i.a.createElement(Ci,null,t.posts.length),"posts"),i.a.createElement(xi,null)),i.a.createElement(xi,null),n?i.a.createElement(Ii,{onClick:function(){return console.log("edit profile button clicked!")}},"Edit profile"):r.followsOtherUser&&r.isFollowedByOtherUser||r.followsOtherUser?i.a.createElement(Ii,{onClick:function(e){return r.handleToggleFollow(e)}},"Unfollow"):(!r.followsOtherUser&&r.isFollowedByOtherUser,i.a.createElement(Ii,{onClick:function(e){return r.handleToggleFollow(e)}},"Follow")))}function Di(){var e=Object(p.a)(["\n  margin-top: 34px;\n  \n"]);return Di=function(){return e},e}function Si(){var e=Object(p.a)(["\n  width: 816px; // to match the Card.tsx width\n  align-content: center;\n"]);return Si=function(){return e},e}var ki=g.a.div(Si()),Ti=g.a.div(Di()),Gi=Ti;function qi(e){var t=e.user,n=Object(o.useState)(0),r=Object(u.a)(n,2),a=r[0],l=r[1];return i.a.createElement(ki,null,i.a.createElement(Un.a,{value:a,onChange:function(e,t){l(t)},indicatorColor:"primary",textColor:"inherit",variant:"fullWidth"},i.a.createElement(Rn.a,{label:"Posts",style:{fontFamily:"Roboto",textTransform:"none",fontWeight:0===a?"bold":"lighter",fontSize:"1.2rem"}}),i.a.createElement(Rn.a,{label:"Saved",style:{fontFamily:"Roboto",textTransform:"none",fontWeight:1===a?"bold":"lighter",fontSize:"1.2rem"}})),0===a?i.a.createElement(Ti,null,t.posts.map((function(e){return i.a.createElement(Ln,{postID:e})}))):i.a.createElement(Gi,null,t.savedPosts.map((function(e){return i.a.createElement(Ln,{postID:e})}))))}function Fi(){var e=Object(p.a)(["\n  height: ",";\n"]);return Fi=function(){return e},e}function Li(){var e=Object(p.a)(["\n  width: ",";\n"]);return Li=function(){return e},e}function Ni(){var e=Object(p.a)(["\n  flex: ",";\n"]);return Ni=function(){return e},e}function Ui(){var e=Object(p.a)(["\n  display: flex;\n"]);return Ui=function(){return e},e}var Ri=g.a.div(Ui()),Ai=g.a.div(Ni(),(function(e){return e.flex||1})),Bi=g.a.div(Li(),(function(e){return e.width})),Mi=g.a.div(Fi(),(function(e){return e.height}));function _i(){var e=Object(s.c)((function(e){return e.user})),t=e.profileBanner||oi.a;return i.a.createElement(i.a.Fragment,null,i.a.createElement(ri,{imgSrc:t}),i.a.createElement(Mi,{height:"26px"}),i.a.createElement(Ri,null,i.a.createElement(Ai,{flex:1}),i.a.createElement(Pi,{user:e,isCurrentUser:!0}),i.a.createElement(Bi,{width:"47px"}),i.a.createElement(qi,{user:e}),i.a.createElement(Ai,{flex:3})))}function zi(){var e=Object(p.a)(["\n  margin-top: 34px;\n  \n"]);return zi=function(){return e},e}function Vi(){var e=Object(p.a)(["\n  width: 816px; // to match the Card.tsx width\n  align-content: center;\n"]);return Vi=function(){return e},e}var Ji=g.a.div(Vi()),Wi=g.a.div(zi());function Hi(e){var t=e.user,n=Object(s.b)();return Object(o.useEffect)((function(){(null===t||void 0===t?void 0:t.posts)||n(rr(t.userID))}),[]),(null===t||void 0===t?void 0:t.posts)?i.a.createElement(Ji,null,i.a.createElement(Wi,null,t.posts.map((function(e){return i.a.createElement(Ln,{postID:e})})))):i.a.createElement(Ft,null)}function Ki(){var e=Object(p.a)(["\n  height: ",";\n"]);return Ki=function(){return e},e}function Yi(){var e=Object(p.a)(["\n  width: ",";\n"]);return Yi=function(){return e},e}function $i(){var e=Object(p.a)(["\n  flex: ",";\n"]);return $i=function(){return e},e}function Xi(){var e=Object(p.a)(["\n  display: flex;\n"]);return Xi=function(){return e},e}var Qi=g.a.div(Xi()),Zi=g.a.div($i(),(function(e){return e.flex})),el=g.a.div(Yi(),(function(e){return e.width})),tl=g.a.div(Ki(),(function(e){return e.height}));function nl(e){var t=e.username,n=Object(s.c)((function(e){return e.users.usernameToID[t]})),r=Object(s.c)((function(e){return e.users.entities[n]})),a=Object(o.useState)(!1),l=Object(u.a)(a,2),c=l[0],d=l[1],f=function(e){var t=Object(s.c)((function(e){return e.user})),n=Object(s.b)();if(!t)return{followsOtherUser:!1,isFollowedByOtherUser:!1,handleToggleFollow:z};if(!t.followersSet)return null;if(t._id===e)return null;var r,a=!!t.followingSet[e];return r=a?function(t){t&&t.preventDefault(),n(Gn({userID:e}))}:function(t){t&&t.preventDefault(),n(Tn({userID:e}))},{followsOtherUser:a,isFollowedByOtherUser:!!t.followersSet[e],handleToggleFollow:r}}(null===r||void 0===r?void 0:r._id),p=Object(s.b)();if(Object(o.useEffect)((function(){(null===r||void 0===r?void 0:r.followers)||p(rr(t)).then(rt.e).catch((function(e){return d(!0)}))}),[]),c)return i.a.createElement(Ut,null);if(!(null===r||void 0===r?void 0:r.followers))return i.a.createElement(Ft,null);var m=r.profileBanner||oi.a;return i.a.createElement(i.a.Fragment,null,i.a.createElement(ri,{imgSrc:m}),i.a.createElement(tl,{height:"26px"}),i.a.createElement(Qi,null,i.a.createElement(Zi,{flex:1}),i.a.createElement(Pi,{user:r,isCurrentUser:!1,followHook:f}),i.a.createElement(el,{width:"47px"}),i.a.createElement(Hi,{user:r}),i.a.createElement(Zi,{flex:3})))}function rl(){var e=Object(p.a)(["\n  margin-top: 9.5vh;\n"]);return rl=function(){return e},e}var al=g.a.div(rl());Object(w.a)((function(){return Object(te.a)({container:{display:"g rid",gridTemplateAreas:'\n        "banner banner banner"\n        "card board space"\n      ',gridTemplateColumns:"1fr 1.5fr 1fr",gridTemplateRows:"min-content auto",backgroundColor:"#E5E5E5",height:"100%"},banner:{gridArea:"banner",marginBottom:"1rem"},card:{gridArea:"card"},board:{gridArea:"board"}})}));function ol(){var e=Object(f.i)().username,t=Object(s.c)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.userID}));return i.a.createElement(al,null,e?e===t?i.a.createElement(_i,null):t&&t===e?void 0:i.a.createElement(nl,{username:e}):i.a.createElement(f.a,{to:"/"}))}function il(){var e=Object(s.b)(),t=Object(f.g)();return Object(o.useEffect)((function(){e(fn()),t.push("/")}),[]),i.a.createElement(i.a.Fragment,null)}function ll(){var e=Object(o.useState)("..."),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(o.useEffect)((function(){(new Ne).devControllerMarcoPersonal().then((function(e){return e.json()})).then((function(e){return r(JSON.stringify(e))}))}),[]),i.a.createElement("h1",{style:{height:"500px",marginTop:"200px",zIndex:500}},n)}var cl=n(98),sl=n.n(cl);function ul(){var e=Object(f.h)(),t=Object(f.g)(),n=Object(s.b)(),r=sl.a.parse(e.search),a=r["?code"],l=r.state,c=_.state;return l!==c&&console.log("Got back different state from GitHub OAuth!"),Object(o.useEffect)((function(){(new qe).authControllerLoginGitHub({code:a,state:l}).then((function(e){n(dn(e)),t.push("/")})).catch((function(e){console.log(e)}))}),[]),a&&l||t.push("/"),i.a.createElement("h1",null,"Hello... we are waiting for the back end to respond!")}function dl(){var e=Object(p.a)(["\n  margin-top: 8vh;\n  display: flex;\n  flex-direction: column;\n  height: 85vh;\n"]);return dl=function(){return e},e}var fl=g.a.div(dl());function pl(){return i.a.createElement(fl,null)}var ml=Object(rt.b)("search",function(){var e=Object(ye.a)(Oe.a.mark((function e(t){var n,r,a;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,r=new He,e.next=4,r.searchControllerSearch(n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());function gl(){var e=Object(p.a)(["\n  display: flex;\n"]);return gl=function(){return e},e}function hl(){var e=Object(p.a)(["\n  margin-top: 10vh;\n  height: 90vh;\n"]);return hl=function(){return e},e}function vl(){var e=Object(p.a)(["\n  text-align: center;\n"]);return vl=function(){return e},e}var bl=g.a.h2(vl()),Ol=g.a.div(hl()),yl=g.a.div(gl());function El(e){var t=e.query,n=Object(o.useState)(null),r=Object(u.a)(n,2),a=r[0],l=r[1],c=Object(o.useState)(!1),d=Object(u.a)(c,2),f=d[0],p=d[1],m=Object(o.useState)(null),g=Object(u.a)(m,2),h=g[0],v=g[1],b=Object(s.b)();return Object(o.useEffect)((function(){p(!0),b(ml({query:t})).then(rt.e).then((function(e){p(!1),l(e.posts)})).catch((function(e){p(!1),v(e)}))}),[t]),!a||f?i.a.createElement(Ft,null):0===a.length?i.a.createElement(Ut,null):h?i.a.createElement(Hn,{error:h}):i.a.createElement(Ol,null,i.a.createElement(bl,null,a.length," results for: ",t),i.a.createElement(yl,null,i.a.createElement(Ai,null),i.a.createElement("div",null,a.map((function(e,t){return i.a.createElement(Ln,{postID:e._id,key:t})}))),i.a.createElement(Ai,null)))}function jl(){var e=Object(f.h)(),t=sl.a.parse(e.search)["?q"];return t?i.a.createElement(El,{query:t.toString()}):i.a.createElement(pl,null)}function Cl(){var e=Object(p.a)(["\n  margin-top: 4px;\n  padding: 0;\n  font-family: 'Fira Mono', monospace;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 1em;\n  line-height: 23px;\n  color: #606060;\n  text-align: center;\n"]);return Cl=function(){return e},e}function wl(){var e=Object(p.a)(["\n  text-align: center;\n"]);return wl=function(){return e},e}g.a.div(wl());var xl=g.a.h4(Cl());function Il(e){var t=e.group,n=t.admins.length+t.users.length,r=Object(s.c)((function(e){return e.user}));return i.a.createElement(hi,null,i.a.createElement(vi,{src:t.profilePic}),i.a.createElement(bi,null,t.name.toUpperCase()),i.a.createElement(xl,null,t.description||"<Coder Community Group/>"),i.a.createElement(yi,null,i.a.createElement(xi,null),i.a.createElement(Ei,null,i.a.createElement(Ci,null,n),1===n?"member":"members"),i.a.createElement(wi,null),i.a.createElement(ji,null,i.a.createElement(Ci,null,t.posts.length),1===t.posts.length?"post":"posts"),i.a.createElement(xi,null)),i.a.createElement(xi,null),i.a.createElement("hr",{style:{marginTop:"20px",width:"60%"}}),r?r&&t.admins.includes(r._id)?i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement("h3",null,"You are Admin ",i.a.createElement("span",{role:"img","aria-label":"crown"},"\ud83d\udc51")),i.a.createElement(Ii,{onClick:function(){console.log("admin button clicked!")}},"Settings")):r&&t.users.includes(r._id)?i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement("h3",null,"You're a Member ",i.a.createElement("span",{role:"img","aria-label":"sunglasses"},"\ud83d\ude0e"))):void 0:i.a.createElement(Ii,{onClick:z},"Login to Join"))}function Pl(e){var t=e.user,n=e.isAdmin;return i.a.createElement(se,{pic:t.profilePic,subtitle:n?"Admin":"Member",title:t.name,extraText:t.userID})}function Dl(){var e=Object(p.a)(["\n  margin-top: 34px;\n\n"]);return Dl=function(){return e},e}function Sl(){var e=Object(p.a)(["\n  width: 816px; // to match the Card.tsx width\n  align-content: center;\n"]);return Sl=function(){return e},e}var kl=g.a.div(Sl()),Tl=g.a.div(Dl()),Gl=Tl;function ql(e){var t=e.group,n=Object(o.useState)(!0),r=Object(u.a)(n,2),a=r[0],l=r[1],c=Object(o.useState)(0),d=Object(u.a)(c,2),f=d[0],p=d[1],m=Object(s.b)(),g=Object(s.c)((function(e){return e.users.entities}));Object(s.c)((function(e){return e.posts.entities}));Object(o.useEffect)((function(){m(bn(t._id)).then(rt.e).then((function(){l(!1)})).catch(console.log)}),[t._id]);var h=Object(o.useMemo)((function(){if(a)return[];var e=[];return t.admins.forEach((function(t){e.push(g[t])})),e}),[a]),v=Object(o.useMemo)((function(){if(a)return[];var e=[];return t.users.forEach((function(t){e.push(g[t])})),e}),[a]);if(a)return i.a.createElement(Ft,null);return i.a.createElement(kl,null,i.a.createElement(Un.a,{value:f,onChange:function(e,t){p(t)},indicatorColor:"primary",textColor:"inherit",variant:"fullWidth"},i.a.createElement(Rn.a,{label:"Members",style:{fontFamily:"Roboto",textTransform:"none",fontWeight:0===f?"bold":"lighter",fontSize:"1.2rem"}}),i.a.createElement(Rn.a,{label:"Posts",style:{fontFamily:"Roboto",textTransform:"none",fontWeight:1===f?"bold":"lighter",fontSize:"1.2rem"}})),0===f?i.a.createElement(Tl,null,h.map((function(e){return i.a.createElement(Pl,{user:e,isAdmin:!0})})),v.map((function(e){return i.a.createElement(Pl,{user:e})}))):1===f?i.a.createElement(Gl,null,t.posts.map((function(e){return i.a.createElement(Ln,{postID:e})}))):void 0)}function Fl(){var e=Object(f.i)().groupID,t=(Object(s.c)((function(e){return e.user})),Object(s.c)((function(t){return t.groups.entities[e]}))),n=Object(s.b)(),r=Object(o.useState)(!1),a=Object(u.a)(r,2),l=a[0],c=a[1];if(Object(o.useEffect)((function(){t||n(vn(e)).then(rt.e).catch((function(){c(!0)}))}),[e]),l)return i.a.createElement(Ut,null);if(!t)return i.a.createElement(Ft,null);var d=t.profileBanner||oi.a;return i.a.createElement(i.a.Fragment,null,i.a.createElement(ri,{imgSrc:d}),i.a.createElement(Mi,{height:"26px"}),i.a.createElement(Ri,null,i.a.createElement(Ai,{flex:1}),i.a.createElement("div",null,i.a.createElement(Il,{group:t})),i.a.createElement(Bi,{width:"47px"}),i.a.createElement(ql,{group:t}),i.a.createElement(Ai,{flex:3})))}var Ll=n(171),Nl=n.n(Ll),Ul=i.a.createContext(null);function Rl(){var e=Object(o.useState)(!0),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)(null),l=Object(u.a)(a,2),c=l[0],p=l[1],m=Object(s.c)((function(e){return e.isLoggedIn})),g=Object(s.b)(),h=Object(o.useRef)(null);return console.log("App.tsx render"),Object(o.useEffect)((function(){console.log("App.tsx useEffect (creating new socket)"),h.current=Nl()(""),h.current.on("connection",(function(){console.log("Connected to ".concat("",": ")+h.current.connected),console.log("Authenticating..."),h.current.emit("authenticate",{jwt:localStorage.getItem("jwt")})})),h.current.on("authenticate",(function(){console.log("Auth passed! emitting getcConversationsAndUsers..."),h.current.emit("getConversationsAndUsers",{})})),h.current.on("getConversationsAndUsers",(function(e){g({type:"getConversationsAndUsers",payload:e})})),h.current.on("newMessage",(function(e){h.current.id===e.id?g(Vr(e)):g(Jr(e))})),h.current.on("newConversation",(function(e){e.isCreator?(g(ea(e.conversation)),g(Ar({conversationID:e.conversation._id}))):g($r(e.conversation))})),h.current.on("getCommentsByPostID",(function(e){g(jt(e))})),h.current.on("createComment",(function(e){g(Et(e))}))}),[]),Object(o.useEffect)((function(){r(!0),g(It({fetchCount:0})).then(rt.e).then((function(){r(!1)})).catch((function(e){console.log(e),p(e),r(!1)}))}),[m]),n?i.a.createElement(Ft,null):c?i.a.createElement(Hn,{error:c}):i.a.createElement(Ul.Provider,{value:h},i.a.createElement(d.a,null,i.a.createElement(H,null),i.a.createElement(f.d,null,i.a.createElement(f.b,{path:"/user/:username"},i.a.createElement(ol,null)),i.a.createElement(f.b,{path:"/group/:groupID"},i.a.createElement(Fl,null)),i.a.createElement(f.b,{path:"/create-post"},i.a.createElement(mt,null)),i.a.createElement(f.b,{path:"/update-post/:slug"},i.a.createElement(Jt,null)),i.a.createElement(f.b,{exact:!0,path:"/post"},i.a.createElement(qr,null)),i.a.createElement(f.b,{path:"/post/:slug"},i.a.createElement(zo,null)),i.a.createElement(f.b,{path:"/messages"},i.a.createElement(Ya,null)),i.a.createElement(f.b,{path:"/search"},i.a.createElement(jl,null)),i.a.createElement(f.b,{path:"/result"},i.a.createElement(Yo,null)),i.a.createElement(f.b,{path:"/video_management"},i.a.createElement(ti,null)),i.a.createElement(f.b,{path:"/login/github"},i.a.createElement(ul,null)),i.a.createElement(f.b,{path:"/login"},i.a.createElement(Fr,null)),i.a.createElement(f.b,{path:"/logout"},i.a.createElement(il,null)),i.a.createElement(f.b,{path:"/test"},i.a.createElement(ll,null)),i.a.createElement(f.b,{path:"/home"},i.a.createElement(qr,null)),i.a.createElement(f.b,{exact:!0,path:"/"},i.a.createElement(f.a,{to:"/home"})))))}var Al,Bl,Ml=n(100),_l=n(172),zl=Object(_l.a)({palette:{primary:{main:"#FFFFFF"},textPrimary:{main:"#000000"},text:{main:"#000000"},error:{main:Ml.a.A400},background:{default:"#fff"}}}),Vl=n(35),Jl=Object(rt.c)({selectId:function(e){return e._id}}),Wl=Object(rt.d)({name:"users",initialState:Jl.getInitialState({hasMorePostsInTags:{CPP:!0}}),reducers:{},extraReducers:(Al={},Object(m.a)(Al,It.fulfilled.type,(function(e,t){Jl.upsertMany(e,t.payload.tags.map((function(e){var t=e;return t.postsSet={},t}))),t.payload.posts.forEach((function(t){t.tags.forEach((function(n){Jl.updateOne(e,{id:n,changes:{postsSet:Object(m.a)({},t._id,!0)}})}))})),t.payload.tags.forEach((function(t){e.hasMorePostsInTags[t._id]=!0}))})),Object(m.a)(Al,Dt.fulfilled.type,(function(e,t){t.payload.post.tags.forEach((function(n){Jl.updateOne(e,{id:n,changes:{postsSet:Object(m.a)({},t.payload.post._id,!0)}})}))})),Object(m.a)(Al,Pt.fulfilled.type,(function(e,t){var n={};t.payload.posts.forEach((function(e){n[e._id]=!0})),Jl.updateOne(e,{id:t.payload.tagID,changes:{postsSet:n}})})),Object(m.a)(Al,Pt.rejected.type,(function(e,t){e.hasMorePostsInTags[t.payload]=!1})),Al)}).reducer,Hl=Object(rt.c)({selectId:function(e){return e._id}}),Kl=Object(rt.b)("getAllVideosStatus",Object(ye.a)(Oe.a.mark((function e(){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new nt).videoControllerGetAllVideos();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),Yl=Object(rt.b)("createVideoStatus",function(){var e=Object(ye.a)(Oe.a.mark((function e(t){var n;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:t.name,description:t.description},e.next=3,(new nt).videoControllerCreateVideo(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),$l=Object(rt.d)({name:"video",initialState:Hl.getInitialState(),reducers:{},extraReducers:(Bl={},Object(m.a)(Bl,Kl.fulfilled.type,(function(e,t){var n=t.payload.videos;Hl.upsertMany(e,n)})),Object(m.a)(Bl,Yl.fulfilled.type,(function(e,t){var n=t.payload;Hl.addOne(e,n)})),Bl)}).reducer,Xl=Object(Vl.c)({isLoggedIn:sn,user:Pn,users:ar,posts:Tt,tags:Wl,groups:Cn,comments:bt,conversations:Kr,videos:$l,messages:Mr}),Ql=Object(rt.a)({reducer:Xl}),Zl=function(){return i.a.createElement(i.a.StrictMode,null,i.a.createElement(a.a,{theme:zl},i.a.createElement(s.a,{store:Ql},i.a.createElement(Rl,null))))};c.a.render(i.a.createElement(Zl,null),document.querySelector("#root"))},67:function(e,t,n){e.exports=n.p+"static/media/404.6695af99.svg"},69:function(e,t,n){e.exports=n.p+"static/media/defaultUserProfileBannerImg.5cb40d28.jpg"},75:function(e,t,n){},94:function(e,t,n){e.exports=n.p+"static/media/commentIcon.1b5b0267.svg"},95:function(e,t,n){e.exports=n.p+"static/media/heartIcon.7746f5e4.svg"},96:function(e,t,n){e.exports=n.p+"static/media/heartIconRed.095cbef3.svg"}},[[189,1,2]]]);
//# sourceMappingURL=main.a325bf82.chunk.js.map