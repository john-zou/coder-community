{"version":3,"sources":["assets/ccLogo.svg","assets/user.svg","icons/composeIcon.svg","icons/plusIcon.svg","icons/sendIcon.svg","assets/defaultPostFeaturedImage.jpg","icons/bookmarkEmpty.svg","assets/write_the_first_comment.svg","assets/reply.svg","constants.ts","pages/common/PurpleButton.tsx","pages/login/login.ts","containers/header/Header.tsx","pages/create_post/ImgPanel.tsx","pages/create_post/TextPanel.tsx","pages/common/Avatar.tsx","pages/group/TextFields.tsx","pages/group/AddMuliple.tsx","pages/create_post/TagPanel.tsx","api-auth/fetch-container.ts","api/api.ts","reducers/postsCreationSlice.ts","api-upload/index.ts","pages/create_post/Submit.tsx","pages/create_post/CreatePost.tsx","api/configuration.ts","reducers/commentsSlice.ts","reducers/postsSlice.ts","pages/common/Loading.tsx","pages/common/NotFoundError.tsx","pages/common/NoAccessibilityError.tsx","pages/common/NotLoggedInError.tsx","pages/update_post/TagPanel.tsx","pages/update_post/Submit.tsx","pages/update_post/index.tsx","pages/home/LeftSideBar.tsx","util/helperFunctions.ts","reducers/isLoggedInSlice.ts","reducers/groupsSlice.ts","reducers/userSlice.ts","hooks/useLikePost.ts","pages/home/Card.tsx","pages/home/TagsCarousel.tsx","pages/home/Main.tsx","pages/home/RightSideBar.tsx","pages/common/ErrorPage.tsx","reducers/usersSlice.ts","pages/group/RadioButtons.tsx","pages/group/CreateGroupForm.tsx","pages/group/CreateGroupModal.tsx","pages/group/index.tsx","pages/home/index.tsx","pages/login/DevLogin.tsx","reducers/messagesSlice.ts","reducers/conversationsSlice.ts","pages/messenger/CreateGroupChatForm.tsx","pages/messenger/CreateGroupChatModal.tsx","pages/messenger/SideBar.tsx","pages/messenger/ChatInfo.tsx","pages/messenger/ChatInput.tsx","pages/messenger/ChatMessage.tsx","pages/messenger/NewConversation.tsx","pages/messenger/ChatArea.tsx","pages/messenger/index.tsx","pages/post_detail/NewComment.tsx","pages/post_detail/UpdateButton.tsx","pages/post_detail/ChildComment.tsx","pages/post_detail/TopLevelComment.tsx","ws-dto/comments/dto/createComment.ws.dto.ts","pages/post_detail/Comments.tsx","ws-dto/comments/dto/getCommentsByPostID.ws.dto.ts","pages/common/RedButton.tsx","pages/post_detail/DeletePostButton.tsx","pages/post_detail/index.tsx","pages/search_result/TagCard.tsx","pages/search_result/RightSideBar.tsx","pages/search_result/SearchResult.tsx","pages/create_video_post/VideoUpload.tsx","pages/create_video_post/VideoPanel.tsx","pages/create_video_post/index.tsx","pages/view_profile/ProfileBanner.tsx","pages/view_profile/TradingCard.tsx","pages/view_profile/OwnPostsBoard.tsx","pages/view_profile/OwnProfile.tsx","pages/view_profile/OtherPostsBoard.tsx","pages/view_profile/OtherProfile.tsx","hooks/useFollow.ts","pages/view_profile/ViewProfile.tsx","pages/login/Logout.tsx","pages/experimental/Experimental.tsx","pages/login/LoginGitHub.tsx","pages/search/SearchHomePage.tsx","reducers/search.ts","pages/search/Search.tsx","pages/search/SearchPage.tsx","pages/group_profile/GroupTradingCard.tsx","pages/group_profile/MemberCard.tsx","pages/group_profile/GroupProfileTabs.tsx","pages/group_profile/ViewGroupProfile.tsx","reducers/questionsSlice.ts","pages/daily_challenge/QuestionTab.tsx","reducers/discussionsSlice.ts","pages/daily_challenge/DiscussionCard.tsx","pages/daily_challenge/DiscussionTab.tsx","pages/daily_challenge/CenteredTabs.tsx","pages/daily_challenge/index.tsx","App.tsx","theme.js","reducers/tagsSlice.ts","reducers/videosSlice.ts","reducers/rootReducer.ts","store/index.ts","index.tsx","assets/404.svg","assets/defaultUserProfileBannerImg.jpg","icons/commentIcon.svg","icons/heartIcon.svg","icons/heartIconRed.svg"],"names":["module","exports","ImageType","useStyles","makeStyles","root","backgroundColor","color","width","height","border","borderRadius","fontSize","padding","display","alignItems","PurpleButton","handleClick","content","params","classes","onClick","className","stateContainer","state","initializeGitHubOAuth","uuid","window","location","href","theme","appBar","zIndex","drawer","toolbar","mixins","drawerPaper","boxShadow","menuButton","breakpoints","up","search","shape","paddingTop","paddingBottom","marginRight","marginLeft","spacing","maxWidth","searchIcon","position","pointerEvents","marginTop","inputRoot","inputInput","transition","transitions","create","sectionDesktop","sectionMobile","link","textDecoration","Header","props","ListItemDiv","styled","div","isLoggedIn","useSelector","user","history","useHistory","useDispatch","React","useState","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","handleProfileMenuOpen","event","currentTarget","handleMobileMenuClose","handleMenuClose","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","id","keepMounted","transformOrigin","open","onClose","MenuItem","push","userID","renderMobileMenu","IconButton","aria-label","Badge","badgeContent","aria-controls","aria-haspopup","alt","src","profilePic","AppBar","style","Toolbar","edge","handleDrawerToggle","Logo","Typography","InputBase","placeholder","input","inputProps","onKeyDown","keyCode","query","target","value","flex","ListItem","ListItemIcon","to","flexDirection","marginBottom","paddingLeft","paddingRight","button","outline","margin","fontFamily","ImgPanel","setImg","buttonText","withPreview","withIcon","onChange","img","console","log","imgExtension","maxFileSize","singleImage","buttonStyles","cptext","cptitle","cpcontent","fontWeight","overflow","TextPanel","param","title","type","setTitle","setContent","account","accountImg","smallAccountImg","imgTitle","nameTime","TitleText","span","titleSrc","isPost","isText","ExtraText","SideButton","buttonIsClicked","SubTitle","p","subtitleIsDate","boldSub","Avatar","small","pic","subtitle","extraText","extraTextOnClick","isButton","setButtonIsClicked","prevState","CssTextField","withStyles","borderBottomColor","TextField","createStyles","flexWrap","TextFields","name","description","setName","setDescription","label","e","required","AddMultiple","options","defaultValID","imgKey","setItems","panelWidth","limit","minWidth","Autocomplete","multiple","defaultValue","map","disableCloseOnSelect","renderOption","option","getOptionLabel","filterSelectedOptions","renderInput","variant","values","ids","_id","cptag","h4","background","tags","TagPanel","allTagsArr","setPostTags","portableFetchReplacement","path","headers","Headers","localStorage","getItem","err","fetch","BASE_PATH","replace","BaseAPI","configuration","basePath","portableFetch","this","RequiredError","field","msg","Error","AuthApiFetchParamCreator","authControllerLogOut","body","undefined","localVarPath","localVarUrlObj","url","localVarRequestOptions","Object","assign","method","localVarHeaderParameter","localVarQueryParameter","needsSerialization","JSON","stringify","authControllerLoginGitHub","authControllerLoginGoogle","AuthApiFp","localVarFetchArgs","then","response","status","json","AuthApi","DevApiFetchParamCreator","devControllerCreateCustomUser","devControllerCreatePostDev","devControllerGetJwt","encodeURIComponent","String","devControllerLoginDev","devControllerMarco","devControllerMarcoPersonal","DevApiFp","DevApi","DiscussionsApiFetchParamCreator","discussionsControllerCreateDiscussion","discussionsControllerGetDiscussionById","discussionsControllerGetDiscussionsByQuestionID","DiscussionsApiFp","DiscussionsApi","GroupsApiFetchParamCreator","groupsControllerCreateGroup","groupsControllerGetGroups","groupsControllerGetMembersAndPosts","groupID","groupsControllerGetPrivateGroup","privateId","groupsControllerGetPublicGroup","groupsControllerJoinGroup","groupsControllerLeaveGroup","GroupsApiFp","GroupsApi","MessagesApiFetchParamCreator","messagesControllerCreateMessage","conversationID","messagesControllerGetMessagesInConversation","MessagesApiFp","MessagesApi","PostsApiFetchParamCreator","postsControllerCreatePost","postsControllerDeletePostByPostID","postID","postsControllerGetPostByID","postsControllerGetPostBySlug","slug","getAuthor","postsControllerIncrementView","postsControllerLikePost","postsControllerUnlikePost","postsControllerUpdatePostBySlug","tagsControllerGetPostsByTag","tagID","requestedCount","startIdx","excludePostIDs","PostsApiFp","PostsApi","QuestionsApiFp","questionsControllerGetQuestions","QuestionsApiFetchParamCreator","QuestionsApi","SearchApiFp","searchControllerSearch","q","SearchApiFetchParamCreator","SearchApi","TrendingApiFetchParamCreator","trendingControllerGetTrending","fetchCount","trendingControllerGetTrendingLoggedIn","TrendingApiFp","TrendingApi","UserApiFetchParamCreator","userControllerAddFollowing","userControllerEditProfile","userControllerGetUser","userControllerGetUserByUsername","username","userControllerGetUsersByIDs","userControllerRemoveFollowing","userControllerSavePost","UserApiFp","UserApi","VideoApiFetchParamCreator","videoControllerCreateVideo","videoControllerGetAllVideos","VideoApiFp","VideoApi","submitPost","createAsyncThunk","createdPost","a","createPostSuccessDto","post","featuredImg","likes","views","author","comments","commentsCount","createdAt","Date","now","toString","updatePost","update","newSlug","oldSlug","uploadPublicAsset","file","uploadHelper","endpoint","Array","isArray","data","FormData","append","res","result","operation","Submit","dispatch","curUser","onSubmit","newPost","isUpdate","unwrapResult","dto","onCancel","createPost","TagsContainer","CreatePost","postTags","allTags","entities","commentsAdapter","createEntityAdapter","selectId","item","commentsSlice","createSlice","initialState","getInitialState","isLoading","reducers","getCommentsByPostIDSuccess","action","upsertMany","payload","createCommentPending","createCommentSuccess","addOne","comment","parentComment","replies","extraReducers","actions","postsAdapter","fetchTrendingPosts","getState","rejectWithValue","api","initialData","fetchPostsByTag","fetchPostBySlug","fetchPostByID","postsSlice","trendingPosts","trendingPostsSet","slugToID","trendingPostFetchCount","fetchedComments","hasMorePosts","deletePost","removeOne","_","pull","pending","fulfilled","posts","forEach","rejected","upsertOne","increment","updateOne","changes","commentRoot","parentPost","Loading","CircularProgress","NotFoundError","justifyContent","NotFoundSvg","NoAccessibilityError","NotLoggedInError","oldTagsID","UpdatePost","useParams","tagsArray","oldTagsIDArr","oldTagsSet","Set","i","length","has","error","setError","useEffect","catch","cursor","diplayAccount","displayImg","displayName","groupLinks","showPostsText","borderBottom","LeftSideBar","convertArrToMap","arr","reduce","obj","getFollowingFollowersOfUser","users","followingFollowers","followers","concat","following","isLoggedInSlice","loginSuccess","reducer","prepare","jwt","setItem","logOut","removeItem","groupsAdapter","fetchGroups","groups","fetchGroupById","foundGroup","fetchGroupMembersAndPosts","createGroup","newGroup","successDto","admins","leaveGroup","joinGroup","groupsSlice","currentGroupID","selectGroup","addMany","_private","private","profileBanner","toLocaleString","updatedAt","videos","updateProfile","code","userSlice","savePost","savedPosts","savedPostsSet","toggleLikePost","likedPostsSet","likedPosts","follow","other","followingSet","unfollow","userDto","followersSet","freshlyLoggedInUser","useLikePost","postIsLikedByUser","handleToggleLike","minHeight","interactions","commentIcon","heartIcon","interactionsIcons","readSave","tagText","Card","authorID","DefaultPic","objectFit","previewContent","key","HeartIconRed","HeartIcon","CommentIcon","a11yProps","index","flexGrow","palette","paper","TagsCarousel","setValue","tagsArr","Tabs","newValue","indicatorColor","textColor","scrollButtons","tag","idx","Tab","Main","hasMore","items","currFetchCount","hasMoreTrendingPosts","tabIndex","setTabIndex","hasMorePostsInTags","currentTag","currentTagID","newIdx","keys","postsSet","prev","dataLength","next","loader","endMessage","textAlign","right","savePostSection","overflowY","savePostText","RightSideBar","substr","ErrorPage","top","usersAdapter","fetchUsersByIDs","IDs","join","fetchUserByUsername","usersSlice","usernameToID","authors","icon","backgroundImage","outlineOffset","checkedIcon","StyledRadio","Radio","disableRipple","clsx","RadioButtons","FormControl","component","FormLabel","focused","RadioGroup","row","FormControlLabel","control","TextWrapper","DialogActions","MuiDialogActions","CreateGroupForm","handleClose","people","setPeople","profileBannerFile","setProfileBanner","profilePicFile","setProfilePic","setPrivate","usersMap","loading","setLoading","creatingGroupLoading","setCreatingGroupLoading","handleSubmit","preventDefault","picture","CreateGroupButton","DialogTitle","closeButton","grey","children","disableTypography","DialogContent","MuiDialogContent","CreateGroupModal","setOpen","Dialog","aria-labelledby","dividers","GroupContainer","GroupContent","GroupCard","currentGroup","isUserAMember","GroupTab","joinedGroupIDs","otherGroupsIDs","filter","includes","home","main","Home","useRouteMatch","exact","DevLogin","messagesAdapter","fetchMessagesInConversation","messagesSlice","isSending","isTyping","isError","pendingMessages","createMessagePending","newMessage","text","createMessageSuccess","remove","message","createMessageError","receiveNewMessage","conversationsAdapter","conversationSlice","currentConversationID","isGroupConversation","isDirectConversation","addConversation","setNewConversation","selectConversation","createDirectConversationPending","createGroupConversationPending","createConversationSuccess","conversations","messages","CreateGroupChatForm","socket","useContext","SocketContext","otherUsers","current","emit","GroupConversations","groupConv","c","PlusIcon","float","HeadingText","group","CreateGroupChatModal","disableBackdropClick","SideBarContainer","DirectMessages","directConv","ComposeIcon","otherUserID","otherUser","SideBar","ChatInfoContainer","H2","h2","ChatInfoHeader","ChatInfo","currentConversation","uID","Editor","ChatInput","newMessageSelectedUserIDs","editor","useRef","handleSend","innerHTML","createMessageBodyDto","setText","initialMessage","foundExistingConversation","conv","messageDto","Quill","modules","keyboard","bindings","enter","handler","fontStyle","SendIcon","ChatBubble","isUser","ChatMessage","chatMessage","ref","NewConversation","ChatHeader","ChatAreaContainer","GroupChatHeader","conversation","DirectChatHeader","ChatArea","messagesArr","pendingMessagesFromCurrConversation","moment","calendar","pendingMsg","ChatContainer","Messenger","alignContent","NewComment","inputRef","createPending","trim","newCommentDto","UpdateButton","Container","CommentContent","ChildComment","commentID","TopLevelCommentContainer","ChildCommentsContainer","CreateCommentReplyContainer","CreateCommentInfo","CreateCommentReplyInput","TopLevelComment","expanded","setExpanded","openReplyModal","setOpenReplyModal","replyInputRef","currentUser","reply","Modal","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","ReplySvg","NoCommentsContainer","SubtleEncouragement","Comments","topLevelComments","ret","WriteThefirstComment","RedButton","DeletePostButton","aria-describedby","DialogContentText","Button","autoFocus","postDetail","shareIcon","Interactions","PostDetail","canUpdate","defaultPostFeaturedImage","BookmarkEmpty","TagCard","endIcon","rightbar","searchoption","filtertags","checked","VideoUpload","preview","changePath","bind","upload","cancel","files","URL","createObjectURL","autoPlay","controls","setState","alert","closeOverlay","accept","_onVideoUpload","VideoPanel","overlayActive","showOverlay","CreateVideoPost","bannerImg","maxHeight","ProfileBanner","imgSrc","TradingCardContainer","AvatarPic","AllCapsName","h3","Subtitle","FollowersAndPostsCountContainer","FollowersCountContainer","PostsCountContainer","BigBoldNumber","SpaceBetweenFollowersAndPosts","SpaceAround","TradingCardButton","TradingCard","isCurrentUser","followHook","toUpperCase","followsOtherUser","isFollowedByOtherUser","handleToggleFollow","PostsContainer","SavedPostsContainer","OwnPostsBoard","tabIdx","setTabIdx","textTransform","FlexSpace","WidthSpace","HeightSpace","OwnProfile","DefaultImg","OtherPostsBoard","OtherProfile","userObjectID","notFound","setNotFound","useFollow","container","gridTemplateAreas","gridTemplateColumns","gridTemplateRows","banner","gridArea","card","board","ViewProfile","loggedInUsername","LogOut","Experimental","LoginGitHub","useLocation","parsed","qs","parse","expectedState","loginSuccessDto","SearchHomePage","Content","Search","results","setResults","SearchPage","GroupTradingCard","membersCount","role","MemberCard","isAdmin","MembersContainer","GroupProfileTabs","adminsToRender","useMemo","usersToRender","ViewGroupProfile","questionsAdapter","fetchQuestions","questions","questionSlide","currentQuestionID","len","Math","floor","random","getRandomInt","QuestionCard","QuestionTab","currentQuestion","discussionsAdapter","fetchDiscussionsByQuestionId","qID","foundDiscussions","discussionsSlice","currentDiscussionID","showDiscussion","discussions","DiscussionCardContainer","DiscussionTab","discussion","CenteredTabs","Paper","centered","LeftSideContainer","RightSideContainer","DailyChallenge","language","editorDidMount","monaco","createContext","App","io","process","on","connected","isCreator","Provider","createMuiTheme","primary","textPrimary","red","A400","default","tagsAdapter","tagsSlice","tagEntity","videosAdapter","video","getAllVideos","createVideo","videoDto","videosSlice","videosToAdd","rootReducer","combineReducers","isLoggedInReducer","userReducer","usersReducer","postsReducer","tagsReducer","groupsReducer","commentsReducer","conversationsReducer","videosReducer","messagesReducer","questionsReducer","discussionsReducer","store","configureStore","Root","StrictMode","ThemeProvider","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.80f86cd4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ccLogo.0e19e0ce.svg\";","module.exports = __webpack_public_path__ + \"static/media/user.686737aa.svg\";","module.exports = __webpack_public_path__ + \"static/media/composeIcon.b2af7e08.svg\";","module.exports = __webpack_public_path__ + \"static/media/plusIcon.f96e0dd6.svg\";","module.exports = __webpack_public_path__ + \"static/media/sendIcon.f62fb785.svg\";","module.exports = __webpack_public_path__ + \"static/media/defaultPostFeaturedImage.af665b7b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bookmarkEmpty.3dc95b30.svg\";","module.exports = __webpack_public_path__ + \"static/media/write_the_first_comment.e1e50607.svg\";","module.exports = __webpack_public_path__ + \"static/media/reply.2e768d34.svg\";","// These are used by `AuthService` on the back end, and during the Login process on the front end\r\n// There are two copies of this file, one in `backend/src` and one in `frontend/src`\r\n\r\nexport const GitHubOAuthClientID = '1172e5f10b0d169a374a';\r\nexport const GoogleOAuthClientID =\r\n  '378315098234-caculcp2l4rg87nb7tds0j37v420cth9.apps.googleusercontent.com';\r\n\r\nexport const JwtLocalStorageKey = \"jwt\";\r\n\r\nexport enum ImageType {\r\n    ProfilePic = \"ProfilePic\",\r\n    BannerPic = \"BannerPic\",\r\n}\r\n\r\nexport const BackEndBaseUri = process.env.PUBLIC_URL;\r\nexport const BackEndBaseUriForWs = BackEndBaseUri;","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    backgroundColor: \"#5D67E9\",\r\n    color: \"white\",\r\n    width: \"fit-content\",\r\n    height: \"2em\",\r\n    border: \"none\",\r\n    borderRadius: \"10px\",\r\n    fontSize: \"15px\",\r\n    padding: \"10px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n});\r\n\r\nconst PurpleButton = ({ handleClick, params, content }: { handleClick?: (params) => any, params?: any, content: string }) => {\r\n  const classes = useStyles();\r\n  return <button onClick={handleClick} className={classes.root}>{content}</button>;\r\n};\r\nexport default PurpleButton;\r\n","import { GitHubOAuthClientID } from \"../../constants\";\r\nimport { v4 as uuid } from \"uuid\";\r\n\r\nexport const stateContainer = {\r\n  state: \"abc\",\r\n};\r\n\r\n/**\r\n * Should be invoked on Login button click.\r\n *\r\n * https://developer.github.com/apps/building-oauth-apps/authorizing-oauth-apps/\r\n */\r\nexport function initializeGitHubOAuth() {\r\n  // Generate random state\r\n  stateContainer.state = uuid();\r\n\r\n  // Smell ya later!\r\n  window.location.href = `https://github.com/login/oauth/authorize?client_id=${GitHubOAuthClientID}&state=${stateContainer.state}`;\r\n}\r\n","import styled from '@emotion/styled';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport MessageIcon from '@material-ui/icons/Message';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport React from 'react';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport Logo from '../../assets/ccLogo.svg';\r\nimport PurpleButton from '../../pages/common/PurpleButton';\r\nimport {initializeGitHubOAuth} from '../../pages/login/login';\r\nimport {Avatar} from '@material-ui/core';\r\nimport {RootState} from '../../reducers/rootReducer';\r\nimport {User} from '../../store/types';\r\nimport {AppDispatch} from \"../../store\";\r\n\r\nconst drawerWidth = 240;\r\nconst useStyles = makeStyles((theme) => ({\r\n    appBar: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        color: \"black\",\r\n        backgroundColor: \"white\",\r\n\r\n    },\r\n    toolbar: theme.mixins.toolbar,\r\n    drawerPaper: {\r\n        width: drawerWidth,\r\n        boxShadow: \"5px 2px 5px #cccccc\",\r\n    },\r\n    menuButton: {\r\n        // marginRight: theme.spacing(2),\r\n        [theme.breakpoints.up(\"sm\")]: {\r\n            display: \"none\",\r\n        },\r\n        toolbar: theme.mixins.toolbar,\r\n        drawerPaper: {\r\n            width: drawerWidth,\r\n        },\r\n\r\n        boxShadow: \"5px 2px 5px #cccccc\",\r\n    },\r\n    search: {\r\n        borderRadius: theme.shape.borderRadius,\r\n        backgroundColor: \"#FAFAFA\",\r\n        paddingTop: \"10px\",\r\n        paddingBottom: \"10px\",\r\n        // \"&:hover\": {\r\n        //   backgroundColor: fade(theme.palette.common.white, 0.25),\r\n        // },\r\n\r\n        marginRight: \"auto\",\r\n        width: \"100%\",\r\n        [theme.breakpoints.up(\"sm\")]: {\r\n            marginLeft: theme.spacing(3),\r\n            width: \"auto\",\r\n            maxWidth: \"120%\",\r\n        },\r\n    },\r\n    searchIcon: {\r\n        width: theme.spacing(7),\r\n        position: \"absolute\",\r\n        pointerEvents: \"none\",\r\n        marginTop: \"0.5em\",\r\n        marginLeft: \"1em\",\r\n    },\r\n    inputRoot: {\r\n        color: \"inherit\",\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 7),\r\n        transition: theme.transitions.create(\"width\"),\r\n        width: \"100%\",\r\n        [theme.breakpoints.up(\"md\")]: {\r\n            width: 550,\r\n        },\r\n    },\r\n    sectionDesktop: {\r\n        display: \"none\",\r\n        [theme.breakpoints.up(\"md\")]: {\r\n            display: \"flex\",\r\n        },\r\n    },\r\n    sectionMobile: {\r\n        display: \"flex\",\r\n        [theme.breakpoints.up(\"md\")]: {\r\n            display: \"none\",\r\n        },\r\n    },\r\n    link: {\r\n        textDecoration: \"none\",\r\n    },\r\n}));\r\n\r\n\r\nexport default function Header(props) {\r\n    const ListItemDiv = styled.div`\r\n  margin-top: 17px;\r\n  margin-right: 0.7em;\r\n  cursor: pointer;\r\n`;\r\n    const isLoggedIn = useSelector<RootState, boolean>((state) => state.isLoggedIn);\r\n    const user = useSelector<RootState, User>(state => state.user);\r\n    const history = useHistory();\r\n    const dispatch = useDispatch<AppDispatch>();\r\n\r\n    const classes = useStyles();\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\r\n\r\n    const isMenuOpen = Boolean(anchorEl);\r\n    const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n    const handleSearchKeyDown = (event) => {\r\n        if (event.keyCode === 13) { // https://stackoverflow.com/questions/43384039/how-to-get-input-textfield-values-when-enter-key-is-pressed-in-react-js\r\n            const query = event.target.value;\r\n            history.push(`/search?q=${query}`);\r\n        }\r\n    }\r\n\r\n    const handleProfileMenuOpen = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleMobileMenuClose = () => {\r\n        setMobileMoreAnchorEl(null);\r\n    };\r\n\r\n    const handleMenuClose = () => {\r\n        setAnchorEl(null);\r\n        handleMobileMenuClose();\r\n    };\r\n\r\n    const handleMobileMenuOpen = (event) => {\r\n        setMobileMoreAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const menuId = \"primary-search-account-menu\";\r\n    const renderMenu = (\r\n        <Menu\r\n            anchorEl={anchorEl}\r\n            anchorOrigin={{vertical: \"top\", horizontal: \"right\"}}\r\n            id={menuId}\r\n            keepMounted\r\n            transformOrigin={{vertical: \"top\", horizontal: \"right\"}}\r\n            open={isMenuOpen}\r\n            onClose={handleMenuClose}\r\n        >\r\n            <MenuItem onClick={() => {\r\n                history.push(`/user/${user.userID}`);\r\n                handleMenuClose();\r\n            }}>Profile</MenuItem>\r\n            <MenuItem onClick={() => {\r\n                history.push('/logout');\r\n                handleMenuClose();\r\n            }}>Log Out</MenuItem>\r\n        </Menu>\r\n    );\r\n\r\n    const mobileMenuId = \"primary-search-account-menu-mobile\";\r\n    const renderMobileMenu = (\r\n        <Menu\r\n            anchorEl={mobileMoreAnchorEl}\r\n            anchorOrigin={{vertical: \"top\", horizontal: \"right\"}}\r\n            id={mobileMenuId}\r\n            keepMounted\r\n            transformOrigin={{vertical: \"top\", horizontal: \"right\"}}\r\n            open={isMobileMenuOpen}\r\n            onClose={handleMobileMenuClose}\r\n        >\r\n            <MenuItem>\r\n                <IconButton aria-label=\"show 2 new messages\" color=\"inherit\">\r\n                    <Badge badgeContent={2} color=\"secondary\">\r\n                        <MessageIcon/>\r\n                    </Badge>\r\n                </IconButton>\r\n                <p>Messages</p>\r\n            </MenuItem>\r\n            <MenuItem>\r\n                <IconButton aria-label=\"show 1 new notifications\" color=\"inherit\">\r\n                    <Badge badgeContent={1} color=\"secondary\">\r\n                        <NotificationsIcon/>\r\n                    </Badge>\r\n                </IconButton>\r\n                <p>Notifications</p>\r\n            </MenuItem>\r\n            <MenuItem onClick={handleProfileMenuOpen}>\r\n                <IconButton\r\n                    aria-label=\"account of current user\"\r\n                    aria-controls=\"primary-search-account-menu\"\r\n                    aria-haspopup=\"true\"\r\n                    color=\"inherit\"\r\n                >\r\n                    <Avatar alt=\"avatar\" src={user?.profilePic}/>\r\n                </IconButton>\r\n                <p>Profile</p>\r\n            </MenuItem>\r\n        </Menu>\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <AppBar\r\n                position=\"fixed\"\r\n                className={classes.appBar}\r\n                style={{display: \"flex\"}}\r\n            >\r\n                <Toolbar>\r\n                    <IconButton\r\n                        edge=\"start\"\r\n                        color=\"inherit\"\r\n                        aria-label=\"Open drawer\"\r\n                        onClick={props.handleDrawerToggle}\r\n                        className={classes.menuButton}\r\n                    >\r\n                        <MenuIcon/>\r\n                    </IconButton>\r\n                    <img src={Logo} style={{width: \"5em\"}} alt=\"\"/>\r\n                    <div className={classes.search}>\r\n                        <div className={classes.searchIcon}>\r\n                            <SearchIcon/>\r\n                        </div>\r\n                        <Typography>\r\n                            <InputBase\r\n                                placeholder=\"Search\"\r\n                                classes={{\r\n                                    root: classes.inputRoot,\r\n                                    input: classes.inputInput,\r\n                                }}\r\n                                inputProps={{\"aria-label\": \"search\"}}\r\n                                onKeyDown={handleSearchKeyDown}\r\n                            />\r\n                        </Typography>\r\n                    </div>\r\n                    <div style={{display: \"flex\", flex: 1}}></div>\r\n\r\n                    <ListItem style={{width: \"unset\"}}>\r\n                        <ListItemIcon>\r\n\r\n                            <Link to=\"/\" className={classes.link}>\r\n                                <h4 style={{marginRight: \"0.7em\"}}>Home</h4>\r\n                            </Link>\r\n\r\n                            {isLoggedIn &&\r\n                            <ListItemDiv>\r\n                                <Link to=\"/create-post\" className={classes.link}>\r\n                                    <PurpleButton content=\"Add a Post\"/>\r\n                                </Link>\r\n                            </ListItemDiv>}\r\n\r\n                            {!isLoggedIn &&\r\n                            <ListItemDiv>\r\n                                <div onClick={initializeGitHubOAuth}>\r\n                                    <PurpleButton content=\"Log In with GitHub\"/>\r\n                                </div>\r\n                            </ListItemDiv>}\r\n\r\n                        </ListItemIcon>\r\n                    </ListItem>\r\n\r\n                    {isLoggedIn &&\r\n                    <div className={classes.sectionDesktop}>\r\n                        <IconButton aria-label=\"show 2 new messages\" color=\"inherit\">\r\n                            <Badge badgeContent={2} color=\"secondary\">\r\n                                <MessageIcon/>\r\n                            </Badge>\r\n                        </IconButton>\r\n                        <IconButton aria-label=\"show 1 new notifications\" color=\"inherit\">\r\n                            <Badge badgeContent={1} color=\"secondary\">\r\n                                <NotificationsIcon/>\r\n                            </Badge>\r\n                        </IconButton>\r\n                        <IconButton\r\n                            edge=\"end\"\r\n                            aria-label=\"account of current user\"\r\n                            aria-controls={menuId}\r\n                            aria-haspopup=\"true\"\r\n                            onClick={handleProfileMenuOpen}\r\n                            color=\"inherit\"\r\n                        >\r\n                            <Avatar alt=\"avatar\" src={user?.profilePic}/>\r\n                        </IconButton>\r\n                    </div>}\r\n\r\n                    <div className={classes.sectionDesktop}>\r\n\r\n                    </div>\r\n\r\n                    <div className={classes.sectionMobile}>\r\n                        <IconButton\r\n                            aria-label=\"show more\"\r\n                            aria-controls={mobileMenuId}\r\n                            aria-haspopup=\"true\"\r\n                            onClick={handleMobileMenuOpen}\r\n                            color=\"inherit\"\r\n                        >\r\n                            <MoreIcon/>\r\n                        </IconButton>\r\n                    </div>\r\n                </Toolbar>\r\n            </AppBar>\r\n            {renderMobileMenu}\r\n            {renderMenu}\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\r\nimport ImageUploader from \"react-images-upload\";\r\nimport \"../../App.css\"\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    marginTop: \"3em\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"auto\",\r\n    width: \"40vw\",\r\n    backgroundColor: \"white\",\r\n    boxShadow: \"3px 3px #F2F2F2\",\r\n    marginBottom: \"1em\",\r\n    borderRadius: \"5px\",\r\n    paddingLeft: \"1.5em\",\r\n    paddingRight: \"1.5em\",\r\n  },\r\n  button: {\r\n    border: \"none\",\r\n    outline: \"none\",\r\n    borderRadius: \"5px\",\r\n    margin: \"2em auto\",\r\n    // width: \"100%\",\r\n    height: \"7vh\",\r\n    backgroundColor: \"#F2F2F2\",\r\n    '&:hover': {\r\n      backgroundColor: \"#fafafa\",\r\n    },\r\n    fontFamily: \"Arial\",\r\n    fontSize: \"1.5em\"\r\n  }\r\n});\r\n\r\nexport default function ImgPanel({ setImg }) {\r\n  const classes = useStyles();\r\n  // const [image, setImage] = useState<File>(null);\r\n\r\n  const handleImageUpload = img => {\r\n    console.log(\"CREATEPOST::IMGPANEL\");\r\n    console.log(img);\r\n    setImg(img)\r\n  }\r\n  return (\r\n    <div className={classes.root}>\r\n      <form>\r\n        <ImageUploader\r\n          buttonText='Upload Image'\r\n          withPreview={true}\r\n          withIcon={true}\r\n          onChange={handleImageUpload}\r\n          imgExtension={[\".jpg\", \".jpeg\", \".gif\", \".png\", \".gif\"]}\r\n          maxFileSize={5242880}\r\n          singleImage={true}\r\n          buttonStyles={{ backgroundColor: \"#6a6a6a\", boxShadow: \"3px 3px #FFFFFF\", }}\r\n        />\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useDispatch } from 'react-redux';\r\n// import { createTitle, createContent } from '../../actions/postsCreation';\r\n// import { createTitle, createContent } from '../../reducers/postsCreationSlice';\r\n// import { RootState, Post } from '../../initialData';\r\n\r\nconst useStyles = makeStyles({\r\n  cptext: {\r\n    display: \"flex\",\r\n    outline: \"none\",\r\n    flexDirection: \"column\",\r\n    height: \"60vh\",\r\n    width: \"40vw\",\r\n    backgroundColor: \"white\",\r\n    boxShadow: \"3px 3px #F2F2F2\",\r\n    marginBottom: \"1em\",\r\n    borderRadius: \"5px\",\r\n    paddingLeft: \"1.5em\",\r\n    paddingRight: \"1.5em\",\r\n  },\r\n  cptitle: {\r\n    border: \"none\",\r\n    outline: \"none\",\r\n    '&:hover': {\r\n      backgroundColor: \"#F2F2F2\",\r\n    },\r\n    margin: \"0.5em auto\",\r\n    width: \"100%\",\r\n    height: \"10vh\",\r\n    fontFamily: \"Arial\",\r\n    fontSize: \"2em\"\r\n  },\r\n  cpcontent: {\r\n    border: \"none\",\r\n    outline: \"none\",\r\n    '&:hover': {\r\n      backgroundColor: \"#F2F2F2\",\r\n    },\r\n    margin: \"0.5em auto\",\r\n    width: \"100%\",\r\n    height: \"15vh\",\r\n    fontFamily: \"Arial\",\r\n    fontSize: \"1em\",\r\n    fontWeight: \"bold\",\r\n    display: \"flex\",\r\n    overflow: \"auto\"\r\n  },\r\n});\r\n\r\n/*\r\nconst updateContent = (event, dispatch) => {\r\n  dispatch(createContent(event.target.value));\r\n}\r\n\r\nconst updateTitle = (event, dispatch) => {\r\n  // alert(event.target.value);\r\n  dispatch(createTitle(event.target.value));\r\n}\r\n */\r\n\r\nexport default function TextPanel(param) {\r\n  const { title, content } = param;\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.cptext}>\r\n      <form>\r\n        <input className={classes.cptitle} type=\"text\" placeholder={title || \"Title\"} onChange={(event) => {\r\n          // updateTitle(event, dispatch);\r\n          param.setTitle(event.target.value);\r\n        }}>\r\n        </input>\r\n        <br></br>\r\n        <textarea className={classes.cpcontent} id=\"text\" onChange={(event) => {\r\n          param.setContent(event.target.value);\r\n\r\n        }} placeholder={content || \"Type content\"}></textarea>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport styled from \"@emotion/styled\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles({\r\n  account: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    // paddingTop: \"1em\",\r\n  },\r\n  accountImg: {\r\n    width: \"3em\",\r\n    height: \"3em\",\r\n    borderRadius: \"50%\",\r\n    marginTop: \"0.5em\",\r\n  },\r\n  smallAccountImg: {\r\n    width: \"2.2em\",\r\n    height: \"2.2em\",\r\n    borderRadius: \"50%\",\r\n    marginTop: \"1em\",\r\n    marginRight: \"0.3em\",\r\n  },\r\n  imgTitle: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  },\r\n  nameTime: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    marginLeft: \"0.5em\",\r\n  },\r\n});\r\n\r\nconst TitleText = styled.span<{ isPost: boolean, isText: boolean, titleSrc?: string }>`\r\n  cursor: ${({ titleSrc }) => titleSrc ? \"pointer\" : \"default\"};\r\n  font-weight: bold;\r\n  color: ${({ isPost, isText }) => isPost ? \"#5D67E9\" : isText ? \"black\" : \"#5DCBAF\"}\r\n`;\r\n\r\nconst ExtraText = styled.span`\r\n  color: black;\r\n  font-size: small;\r\n`;\r\n\r\nexport const SideButton = styled.span <{ buttonIsClicked: boolean }>`\r\n  color: ${({ buttonIsClicked }) => buttonIsClicked ? \"white\" : \"#5D67E9\"};\r\n  font-size: small;\r\n  background-color: ${({ buttonIsClicked }) => buttonIsClicked ? \"#5D67E9\" : \"white\"};\r\n  min-width: fit-content;\r\n  padding: 5px 10px 5px 10px;\r\n  border: 1px solid #5D67E9;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n`\r\n\r\nexport const SubTitle = styled.p<{ subtitleIsDate: boolean, boldSub: boolean }>`\r\n  margin-top: ${({ subtitleIsDate }) => subtitleIsDate ? \"-1.1em\" : \"-0.8em\"};\r\n  fontSize: ${({ subtitleIsDate }) => subtitleIsDate ? \"13px\" : \"15px\"};\r\n  color: ${({ subtitleIsDate }) => subtitleIsDate ? \"gray\" : \"black\"};\r\n  font-weight: ${({ boldSub }) => boldSub ? \"bold\" : \"400\"};\r\n  cursor: ${({ boldSub }) => boldSub ? \"pointer\" : \"\"};\r\n`;\r\n\r\nconst Avatar = ({ small, pic, title, titleSrc, subtitle, extraText, extraTextOnClick, boldSub, isPost, isButton, isText, subtitleIsDate }: { pic: string, title?: string, subtitle?: string, boldSub?: boolean, subtitleIsDate?: boolean, extraText?: string, isPost?: boolean, isButton?: boolean, isText?: boolean, titleSrc?: string, extraTextOnClick?: any, small?: boolean }) => {\r\n  const classes = useStyles();\r\n  const [buttonIsClicked, setButtonIsClicked] = useState(false);\r\n  const history = useHistory();\r\n  return (\r\n    <div className={classes.account}>\r\n      <img className={small ? classes.smallAccountImg : classes.accountImg} src={pic} alt=\"avatar\" />\r\n      <div className={classes.nameTime}>\r\n        <p>\r\n          <TitleText isPost={isPost} isText={isText} onClick={titleSrc && (() => { history.push(titleSrc) })} titleSrc={titleSrc}>\r\n            {title}&nbsp;&nbsp;&nbsp;\r\n          </TitleText>\r\n          {!isButton && <ExtraText onClick={extraTextOnClick}>{extraText}</ExtraText>}\r\n          {isButton && <SideButton buttonIsClicked={buttonIsClicked} onClick={() => setButtonIsClicked((prevState) => !prevState)}>{extraText}</SideButton>}\r\n          {/* {isButton && buttonIsClicked && <SideButtonClicked>{extraText}</SideButtonClicked>} */}\r\n        </p>\r\n        <SubTitle subtitleIsDate={subtitleIsDate} boldSub={boldSub}>{subtitle}</SubTitle>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Avatar;","import React from 'react';\r\nimport {\r\n  createStyles,\r\n  withStyles,\r\n  makeStyles,\r\n  Theme,\r\n} from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nexport const CssTextField = withStyles({\r\n  root: {\r\n    '& label.Mui-focused': {\r\n      color: 'black',\r\n    },\r\n    '& .MuiInput-underline:after': {\r\n      borderBottomColor: 'black',\r\n    },\r\n  },\r\n})(TextField);\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      flexWrap: 'wrap',\r\n    },\r\n    margin: {\r\n      width: \"97%\",\r\n      paddingRight: \"10px\",\r\n      margin: theme.spacing(1),\r\n    },\r\n  }),\r\n);\r\n\r\nexport const TextFields = ({ name, description, setName, setDescription }:\r\n  { name: string, description?: string, setName: React.Dispatch<React.SetStateAction<string>>, setDescription?: React.Dispatch<React.SetStateAction<string>> }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      <CssTextField className={classes.margin} id=\"custom-css-standard-input\" label={name} onChange={(e) => {\r\n        setName(e.target.value);\r\n      }} required={true} />\r\n      {description &&\r\n        <CssTextField className={classes.margin} id=\"custom-css-standard-input\" label={description}\r\n          onChange={(e) => setDescription(e.target.value)} />}\r\n    </>\r\n  )\r\n}","/* eslint-disable no-use-before-define */\nimport React, {useState} from 'react';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport {createStyles, makeStyles, Theme} from '@material-ui/core/styles';\nimport Avatar from '../common/Avatar';\nimport {CssTextField} from './TextFields';\n\n\nexport default function AddMultiple({label, options, defaultValID, imgKey, setItems, limit, panelWidth}: { label: string, options: Array<{ name: string }>, defaultValID?: [number], imgKey?: string, setItems: Function, limit?: number, panelWidth?: any\n}) {\n    const useStyles = makeStyles((theme: Theme) =>\n        createStyles({\n            root: {\n                // width: 500,\n                minWidth: \"30vw\",\n                width: panelWidth,\n                '& > * + *': {\n                    marginTop: theme.spacing(3),\n                },\n            },\n        }),\n    );\n\n    const classes = useStyles();\n\n    const handleChange = (e, values) => {\n        // console.log(\"ADDMULTIPLE::ONCHANGE\");\n        const ids = values.map(value => value._id);\n        // console.log(ids);\n        // console.log(values);\n        setItems(ids);\n    }\n\n    // console.log(\"ADDMILTIPLE\");\n    // console.log(options);\n  let arr = [0,1];\n    return (\n        <div className={classes.root}>\n            <Autocomplete\n                multiple\n                id=\"tags-standard\"\n                // defaultValue={defaultVal}\n                defaultValue={defaultValID?.map(id => options[id])}\n                options={options}\n                disableCloseOnSelect={true}\n                renderOption={imgKey && ((option) =>\n                        <Avatar pic={option[imgKey]} title={option.name} subtitle=\"\" extraText=\"\"/>\n                )}\n                getOptionLabel={(option) => option.name}\n                filterSelectedOptions={true}\n                renderInput={(params) => (\n                    <CssTextField\n                        {...params}\n                        variant=\"standard\"\n                        label={label}\n                        placeholder=\"\"\n                    />\n                )}\n                onChange={handleChange}\n            />\n        </div>\n    );\n}","import React from \"react\";\r\nimport Tag from \"./Tag\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AddMultiple from \"../group/AddMuliple\";\r\n\r\nconst useStyles = makeStyles({\r\n  cptag: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"50vh\",\r\n    width: \"40vw\",\r\n    backgroundColor: \"white\",\r\n    boxShadow: \"3px 3px #F2F2F2\",\r\n    marginBottom: \"1em\",\r\n    borderRadius: \"5px\",\r\n    paddingLeft: \"1.5em\",\r\n    paddingRight: \"1.5em\",\r\n  },\r\n  h4: {\r\n    marginBottom: \"0.5em\",\r\n  },\r\n  display: {\r\n    fontWeight: \"bold\",\r\n    marginBottom: \"1em\",\r\n  },\r\n  input: {\r\n    width: \"100%\",\r\n    height: \"2em\",\r\n    border: \"none\",\r\n    outline: \"none\",\r\n    background: \"white\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"#F2F2F2\",\r\n    },\r\n  },\r\n  tags: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    margin: \"0 0\",\r\n    padding: \"0 0\",\r\n  },\r\n});\r\n\r\nexport default function TagPanel(params) {\r\n  const classes = useStyles();\r\n  const alltags = []; // useState<RootState, >()\r\n\r\n  console.log(\"CREATEPOST::TAGPANEL\");\r\n  console.log(params.allTagsArr);\r\n  return (\r\n    <div className={classes.cptag}>\r\n      <form id=\"tagform\">\r\n        {/*<h4 className={classes.h4}>Add tags</h4>\r\n        <hr className={classes.display}></hr>\r\n        <ul className={classes.tags}>\r\n          <Tag />\r\n        </ul>*/}\r\n        <AddMultiple label=\"Add Tags\" options={params.allTagsArr} setItems={params.setPostTags} panelWidth={\"40vw\"} />\r\n        {/*<input\r\n          className={classes.input}\r\n          onChange={_onChange}\r\n          placeholder=\"Type here\"\r\n        ></input> */}\r\n        {/*<br></br>*/}\r\n      </form>\r\n      {/*<ul id=\"tags\" onClick={_onDel}>\r\n        {alltags}\r\n      </ul>*/}\r\n    </div>\r\n  );\r\n}\r\n","import { JwtLocalStorageKey } from \"../constants\";\r\n\r\nexport default function portableFetchReplacement(path, options: any = {}) {\r\n  if (!options.headers) {\r\n    options.headers = new Headers();\r\n  }\r\n  try {\r\n    options.headers[\"Authorization\"] =\r\n      \"Bearer \" + localStorage.getItem(JwtLocalStorageKey);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n\r\n  return fetch(path, options);\r\n}\r\n","/// <reference path=\"./custom.d.ts\" />\r\n// tslint:disable\r\n/**\r\n * Coder Community\r\n * The Coder Community API description\r\n *\r\n * OpenAPI spec version: 0.0.2\r\n *\r\n *\r\n * NOTE: This class is auto generated by the swagger code generator program.\r\n * https://github.com/swagger-api/swagger-codegen.git\r\n * Do not edit the class manually.\r\n */\r\n\r\nimport * as url from \"url\";\r\nimport portableFetch from \"../api-auth/fetch-container\"; // modified by backend/scripts/generate-api.js\r\nimport { Configuration } from \"./configuration\";\r\n\r\nconst BASE_PATH = \"http://ec2-13-229-215-75.ap-southeast-1.compute.amazonaws.com\".replace(/\\/+$/, \"\");\r\n\r\n/**\r\n *\r\n * @export\r\n */\r\nexport const COLLECTION_FORMATS = {\r\n  csv: \",\",\r\n  ssv: \" \",\r\n  tsv: \"\\t\",\r\n  pipes: \"|\",\r\n};\r\n\r\n/**\r\n *\r\n * @export\r\n * @interface FetchAPI\r\n */\r\nexport interface FetchAPI {\r\n  (url: string, init?: any): Promise<Response>;\r\n}\r\n\r\n/**\r\n *\r\n * @export\r\n * @interface FetchArgs\r\n */\r\nexport interface FetchArgs {\r\n  url: string;\r\n  options: any;\r\n}\r\n\r\n/**\r\n *\r\n * @export\r\n * @class BaseAPI\r\n */\r\nexport class BaseAPI {\r\n  protected configuration: Configuration;\r\n\r\n  constructor(configuration?: Configuration, protected basePath: string = BASE_PATH, protected fetch: FetchAPI = portableFetch) {\r\n    if (configuration) {\r\n      this.configuration = configuration;\r\n      this.basePath = configuration.basePath || this.basePath;\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n *\r\n * @export\r\n * @class RequiredError\r\n * @extends {Error}\r\n */\r\nexport class RequiredError extends Error {\r\n  name: \"RequiredError\"\r\n  constructor(public field: string, msg?: string) {\r\n    super(msg);\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n * @export\r\n * @interface CreateConversationBodyDto\r\n */\r\nexport interface CreateConversationBodyDto {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreateConversationBodyDto\r\n   */\r\n  userID: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreateConversationBodyDto\r\n   */\r\n  name?: string;\r\n  /**\r\n   *\r\n   * @type {Array<string>}\r\n   * @memberof CreateConversationBodyDto\r\n   */\r\n  users: Array<string>;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreateConversationBodyDto\r\n   */\r\n  message?: string;\r\n  /**\r\n   *\r\n   * @type {number}\r\n   * @memberof CreateConversationBodyDto\r\n   */\r\n  createdAt: number;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface CreateConversationSuccessDto\r\n */\r\nexport interface CreateConversationSuccessDto {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreateConversationSuccessDto\r\n   */\r\n  _id: string; // modified by backend/scripts/generate-api.js\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreateConversationSuccessDto\r\n   */\r\n  name?: string;\r\n  /**\r\n   *\r\n   * @type {Array<string>}\r\n   * @memberof CreateConversationSuccessDto\r\n   */\r\n  users: Array<string>;\r\n  /**\r\n   *\r\n   * @type {Array<string>}\r\n   * @memberof CreateConversationSuccessDto\r\n   */\r\n  messages: Array<string>;\r\n  /**\r\n   *\r\n   * @type {any}\r\n   * @memberof CreateConversationSuccessDto\r\n   */\r\n  createdAt: any;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface CreateCustomUser\r\n */\r\nexport interface CreateCustomUser {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreateCustomUser\r\n   */\r\n  userID: string;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface CreateDiscussionDto\r\n */\r\nexport interface CreateDiscussionDto {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreateDiscussionDto\r\n   */\r\n  question: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreateDiscussionDto\r\n   */\r\n  title: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreateDiscussionDto\r\n   */\r\n  content: string;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface CreateDiscussionSuccessDto\r\n */\r\nexport interface CreateDiscussionSuccessDto {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreateDiscussionSuccessDto\r\n   */\r\n  _id: string; // modified by backend/scripts/generate-api.js\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface CreateGroupDto\r\n */\r\nexport interface CreateGroupDto {\r\n  /**\r\n   * The name of the group\r\n   * @type {string}\r\n   * @memberof CreateGroupDto\r\n   */\r\n  name: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreateGroupDto\r\n   */\r\n  description?: string;\r\n  /**\r\n   * The ObjectIDs of the invited users of the new group\r\n   * @type {Array<string>}\r\n   * @memberof CreateGroupDto\r\n   */\r\n  users: Array<string>;\r\n  /**\r\n   * The URL for the group's circular profile avatar image\r\n   * @type {string}\r\n   * @memberof CreateGroupDto\r\n   */\r\n  profilePic?: string;\r\n  /**\r\n   * The URL for the group's background image\r\n   * @type {string}\r\n   * @memberof CreateGroupDto\r\n   */\r\n  profileBanner?: string;\r\n  /**\r\n   * Whether the group is viewable by non-members\r\n   * @type {boolean}\r\n   * @memberof CreateGroupDto\r\n   */\r\n  private: boolean; // modified by backend/scripts/generate-api.js\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface CreateGroupSuccessDto\r\n */\r\nexport interface CreateGroupSuccessDto {\r\n  /**\r\n   * The newly created group's object ID\r\n   * @type {string}\r\n   * @memberof CreateGroupSuccessDto\r\n   */\r\n  _id: string; // modified by backend/scripts/generate-api.js\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface CreateMessageBodyDto\r\n */\r\nexport interface CreateMessageBodyDto {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreateMessageBodyDto\r\n   */\r\n  userID: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreateMessageBodyDto\r\n   */\r\n  conversationID: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreateMessageBodyDto\r\n   */\r\n  text: string;\r\n  /**\r\n   *\r\n   * @type {number}\r\n   * @memberof CreateMessageBodyDto\r\n   */\r\n  createdAt: number;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface CreateMessageSuccessDto\r\n */\r\nexport interface CreateMessageSuccessDto {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreateMessageSuccessDto\r\n   */\r\n  conversationID: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreateMessageSuccessDto\r\n   */\r\n  _id: string; // modified by backend/scripts/generate-api.js\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreateMessageSuccessDto\r\n   */\r\n  author: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreateMessageSuccessDto\r\n   */\r\n  text: string;\r\n  /**\r\n   *\r\n   * @type {number}\r\n   * @memberof CreateMessageSuccessDto\r\n   */\r\n  createdAt: number;\r\n  /**\r\n   *\r\n   * @type {number}\r\n   * @memberof CreateMessageSuccessDto\r\n   */\r\n  updatedAt?: number;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface CreatePostBodyDto\r\n */\r\nexport interface CreatePostBodyDto {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreatePostBodyDto\r\n   */\r\n  title: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreatePostBodyDto\r\n   */\r\n  content: string;\r\n  /**\r\n   *\r\n   * @type {Array<string>}\r\n   * @memberof CreatePostBodyDto\r\n   */\r\n  tags: Array<string>;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreatePostBodyDto\r\n   */\r\n  featuredImg: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreatePostBodyDto\r\n   */\r\n  group?: string;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface CreatePostSuccessDto\r\n */\r\nexport interface CreatePostSuccessDto {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreatePostSuccessDto\r\n   */\r\n  _id: string; // modified by backend/scripts/generate-api.js\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreatePostSuccessDto\r\n   */\r\n  slug: string;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface CreateVideoDto\r\n */\r\nexport interface CreateVideoDto {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreateVideoDto\r\n   */\r\n  name: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof CreateVideoDto\r\n   */\r\n  description: string;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface DiscussionDto\r\n */\r\nexport interface DiscussionDto {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof DiscussionDto\r\n   */\r\n  _id: string; // modified by backend/scripts/generate-api.js\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof DiscussionDto\r\n   */\r\n  author: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof DiscussionDto\r\n   */\r\n  question: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof DiscussionDto\r\n   */\r\n  title: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof DiscussionDto\r\n   */\r\n  content: string;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface FileUploadDto\r\n */\r\nexport interface FileUploadDto {\r\n  /**\r\n   *\r\n   * @type {any}\r\n   * @memberof FileUploadDto\r\n   */\r\n  file: any;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface GetAllVideosDto\r\n */\r\nexport interface GetAllVideosDto {\r\n  /**\r\n   *\r\n   * @type {Array<VideoDto>}\r\n   * @memberof GetAllVideosDto\r\n   */\r\n  videos: Array<VideoDto>;\r\n}\r\n\r\n/**\r\n *\r\n * @export\r\n * @interface GetGroupMembersAndPostsDto\r\n */\r\nexport interface GetGroupMembersAndPostsDto {\r\n  /**\r\n   *\r\n   * @type {Array<UserDto>}\r\n   * @memberof GetGroupMembersAndPostsDto\r\n   */\r\n  admins: Array<UserDto>;\r\n  /**\r\n   *\r\n   * @type {Array<UserDto>}\r\n   * @memberof GetGroupMembersAndPostsDto\r\n   */\r\n  users: Array<UserDto>;\r\n  /**\r\n   *\r\n   * @type {Array<PostDto>}\r\n   * @memberof GetGroupMembersAndPostsDto\r\n   */\r\n  posts: Array<PostDto>;\r\n}\r\n\r\n/**\r\n * @interface GetDiscussionsDto\r\n */\r\nexport interface GetDiscussionsDto {\r\n  /**\r\n   *\r\n   * @type {Array<DiscussionDto>}\r\n   * @memberof GetDiscussionsDto\r\n   */\r\n  discussions: Array<DiscussionDto>;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface GetGroupsSuccessDto\r\n */\r\nexport interface GetGroupsSuccessDto {\r\n  /**\r\n   *\r\n   * @type {Array<GroupDto>}\r\n   * @memberof GetGroupsSuccessDto\r\n   */\r\n  groups: Array<GroupDto>;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface GetInitialDataDto\r\n */\r\nexport interface GetInitialDataDto {\r\n  /**\r\n   *\r\n   * @type {Array<PostDto>}\r\n   * @memberof GetInitialDataDto\r\n   */\r\n  posts: Array<PostDto>;\r\n  /**\r\n   *\r\n   * @type {Array<UserDto>}\r\n   * @memberof GetInitialDataDto\r\n   */\r\n  users: Array<UserDto>;\r\n  /**\r\n   *\r\n   * @type {Array<TagsDto>}\r\n   * @memberof GetInitialDataDto\r\n   */\r\n  tags: Array<TagsDto>;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface GetInitialDataLoggedInDto\r\n */\r\nexport interface GetInitialDataLoggedInDto {\r\n  /**\r\n   *\r\n   * @type {Array<PostDto>}\r\n   * @memberof GetInitialDataLoggedInDto\r\n   */\r\n  posts: Array<PostDto>;\r\n  /**\r\n   *\r\n   * @type {Array<UserDto>}\r\n   * @memberof GetInitialDataLoggedInDto\r\n   */\r\n  users: Array<UserDto>;\r\n  /**\r\n   *\r\n   * @type {UserDto}\r\n   * @memberof GetInitialDataLoggedInDto\r\n   */\r\n  user: UserDto;\r\n  /**\r\n   *\r\n   * @type {Array<TagsDto>}\r\n   * @memberof GetInitialDataLoggedInDto\r\n   */\r\n  tags: Array<TagsDto>;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface GetPostDetailsSuccessDto\r\n */\r\nexport interface GetPostDetailsSuccessDto {\r\n  /**\r\n   *\r\n   * @type {PostWithDetails}\r\n   * @memberof GetPostDetailsSuccessDto\r\n   */\r\n  post: PostWithDetails;\r\n  /**\r\n   *\r\n   * @type {UserDto}\r\n   * @memberof GetPostDetailsSuccessDto\r\n   */\r\n  author?: UserDto;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface GetPostsByTagDto\r\n */\r\nexport interface GetPostsByTagDto {\r\n  /**\r\n   *\r\n   * @type {number}\r\n   * @memberof GetPostsByTagDto\r\n   */\r\n  cursor: number;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof GetPostsByTagDto\r\n   */\r\n  tagID: string;\r\n  /**\r\n   *\r\n   * @type {Array<PostDto>}\r\n   * @memberof GetPostsByTagDto\r\n   */\r\n  posts: Array<PostDto>;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface GetQuestionsSuccessDto\r\n */\r\nexport interface GetQuestionsSuccessDto {\r\n  /**\r\n   *\r\n   * @type {Array<QuestionDto>}\r\n   * @memberof GetQuestionsSuccessDto\r\n   */\r\n  questions: Array<QuestionDto>;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface GetUsersSuccessDto\r\n */\r\nexport interface GetUsersSuccessDto {\r\n  /**\r\n   *\r\n   * @type {Array<UserDto>}\r\n   * @memberof GetUsersSuccessDto\r\n   */\r\n  users: Array<UserDto>;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface GitHubLoginBody\r\n */\r\nexport interface GitHubLoginBody {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof GitHubLoginBody\r\n   */\r\n  code: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof GitHubLoginBody\r\n   */\r\n  state: string;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface GoogleLoginBody\r\n */\r\nexport interface GoogleLoginBody {\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface GroupDto\r\n */\r\nexport interface GroupDto {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof GroupDto\r\n   */\r\n  _id: string; // modified by backend/scripts/generate-api.js\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof GroupDto\r\n   */\r\n  name: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof GroupDto\r\n   */\r\n  description: string;\r\n  /**\r\n   *\r\n   * @type {boolean}\r\n   * @memberof GroupDto\r\n   */\r\n  private: boolean; // modified by backend/scripts/generate-api.js\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof GroupDto\r\n   */\r\n  profilePic: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof GroupDto\r\n   */\r\n  profileBanner: string;\r\n  /**\r\n   *\r\n   * @type {Array<string>}\r\n   * @memberof GroupDto\r\n   */\r\n  admins: Array<string>;\r\n  /**\r\n   *\r\n   * @type {Array<string>}\r\n   * @memberof GroupDto\r\n   */\r\n  users: Array<string>;\r\n  /**\r\n   *\r\n   * @type {Array<string>}\r\n   * @memberof GroupDto\r\n   */\r\n  posts: Array<string>;\r\n  /**\r\n   *\r\n   * @type {Array<string>}\r\n   * @memberof GroupDto\r\n   */\r\n  videos: Array<string>;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof GroupDto\r\n   */\r\n  createdAt: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof GroupDto\r\n   */\r\n  updatedAt: string;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface LogOut\r\n */\r\nexport interface LogOut {\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface LogOutSuccess\r\n */\r\nexport interface LogOutSuccess {\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface LoginSuccess\r\n */\r\nexport interface LoginSuccess {\r\n  /**\r\n   * The CoderCommunity JWT\r\n   * @type {string}\r\n   * @memberof LoginSuccess\r\n   */\r\n  jwt: string;\r\n  /**\r\n   * The MongoDB user _id\r\n   * @type {string}\r\n   * @memberof LoginSuccess\r\n   */\r\n  _id: string; // modified by backend/scripts/generate-api.js\r\n  /**\r\n   * The visible User ID\r\n   * @type {string}\r\n   * @memberof LoginSuccess\r\n   */\r\n  userID: string;\r\n  /**\r\n   *\r\n   * @type {boolean}\r\n   * @memberof LoginSuccess\r\n   */\r\n  isNewUser: boolean;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface MessageDto\r\n */\r\nexport interface MessageDto {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof MessageDto\r\n   */\r\n  _id: string; // modified by backend/scripts/generate-api.js\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof MessageDto\r\n   */\r\n  author: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof MessageDto\r\n   */\r\n  text: string;\r\n  /**\r\n   *\r\n   * @type {any}\r\n   * @memberof MessageDto\r\n   */\r\n  createdAt: any;\r\n  /**\r\n   *\r\n   * @type {any}\r\n   * @memberof MessageDto\r\n   */\r\n  updatedAt: any;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface Post\r\n */\r\nexport interface Post {\r\n  /**\r\n   *\r\n   * @type {any}\r\n   * @memberof Post\r\n   */\r\n  author: any;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof Post\r\n   */\r\n  title: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof Post\r\n   */\r\n  slug: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof Post\r\n   */\r\n  previewContent: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof Post\r\n   */\r\n  content: string;\r\n  /**\r\n   *\r\n   * @type {Array<any>}\r\n   * @memberof Post\r\n   */\r\n  tags: Array<any>;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof Post\r\n   */\r\n  featuredImg: string;\r\n  /**\r\n   *\r\n   * @type {number}\r\n   * @memberof Post\r\n   */\r\n  likes: number;\r\n  /**\r\n   *\r\n   * @type {Array<any>}\r\n   * @memberof Post\r\n   */\r\n  comments: Array<any>;\r\n  /**\r\n   *\r\n   * @type {number}\r\n   * @memberof Post\r\n   */\r\n  views: number;\r\n  /**\r\n   *\r\n   * @type {any}\r\n   * @memberof Post\r\n   */\r\n  group: any;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface PostDto\r\n */\r\nexport interface PostDto {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof PostDto\r\n   */\r\n  _id: string; // modified by backend/scripts/generate-api.js\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof PostDto\r\n   */\r\n  author: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof PostDto\r\n   */\r\n  title: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof PostDto\r\n   */\r\n  previewContent?: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof PostDto\r\n   */\r\n  content?: string;\r\n  /**\r\n   *\r\n   * @type {Array<string>}\r\n   * @memberof PostDto\r\n   */\r\n  tags: Array<string>;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof PostDto\r\n   */\r\n  featuredImg: string;\r\n  /**\r\n   *\r\n   * @type {number}\r\n   * @memberof PostDto\r\n   */\r\n  likes: number;\r\n  /**\r\n   *\r\n   * @type {Array<string>}\r\n   * @memberof PostDto\r\n   */\r\n  comments: Array<string>;\r\n  /**\r\n   *\r\n   * @type {number}\r\n   * @memberof PostDto\r\n   */\r\n  commentsCount: number;\r\n  /**\r\n   *\r\n   * @type {number}\r\n   * @memberof PostDto\r\n   */\r\n  views: number;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof PostDto\r\n   */\r\n  createdAt: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof PostDto\r\n   */\r\n  slug: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof PostDto\r\n   */\r\n  group?: string;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface PostWithDetails\r\n */\r\nexport interface PostWithDetails {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof PostWithDetails\r\n   */\r\n  _id: string; // modified by backend/scripts/generate-api.js\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof PostWithDetails\r\n   */\r\n  author: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof PostWithDetails\r\n   */\r\n  title: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof PostWithDetails\r\n   */\r\n  previewContent: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof PostWithDetails\r\n   */\r\n  content: string;\r\n  /**\r\n   *\r\n   * @type {Array<string>}\r\n   * @memberof PostWithDetails\r\n   */\r\n  tags: Array<string>;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof PostWithDetails\r\n   */\r\n  featuredImg: string;\r\n  /**\r\n   *\r\n   * @type {number}\r\n   * @memberof PostWithDetails\r\n   */\r\n  likes: number;\r\n  /**\r\n   *\r\n   * @type {Array<string>}\r\n   * @memberof PostWithDetails\r\n   */\r\n  comments: Array<string>;\r\n  /**\r\n   *\r\n   * @type {number}\r\n   * @memberof PostWithDetails\r\n   */\r\n  commentsCount: number;\r\n  /**\r\n   *\r\n   * @type {number}\r\n   * @memberof PostWithDetails\r\n   */\r\n  views: number;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof PostWithDetails\r\n   */\r\n  createdAt: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof PostWithDetails\r\n   */\r\n  updatedAt: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof PostWithDetails\r\n   */\r\n  slug: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof PostWithDetails\r\n   */\r\n  group?: string;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface QuestionDto\r\n */\r\nexport interface QuestionDto {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof QuestionDto\r\n   */\r\n  _id: string; // modified by backend/scripts/generate-api.js\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof QuestionDto\r\n   */\r\n  title: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof QuestionDto\r\n   */\r\n  content: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof QuestionDto\r\n   */\r\n  solution: string;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface SearchResultDto\r\n */\r\nexport interface SearchResultDto {\r\n  /**\r\n   *\r\n   * @type {Array<Post>}\r\n   * @memberof SearchResultDto\r\n   */\r\n  posts: Array<Post>;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface TagsDto\r\n */\r\nexport interface TagsDto {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof TagsDto\r\n   */\r\n  _id: string; // modified by backend/scripts/generate-api.js\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof TagsDto\r\n   */\r\n  name: string;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface UpdatePostBodyDto\r\n */\r\nexport interface UpdatePostBodyDto {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof UpdatePostBodyDto\r\n   */\r\n  title?: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof UpdatePostBodyDto\r\n   */\r\n  content?: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof UpdatePostBodyDto\r\n   */\r\n  featuredImg?: string;\r\n  /**\r\n   *\r\n   * @type {Array<string>}\r\n   * @memberof UpdatePostBodyDto\r\n   */\r\n  tags?: Array<string>;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof UpdatePostBodyDto\r\n   */\r\n  oldSlug?: string;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface UpdatePostSuccessDto\r\n */\r\nexport interface UpdatePostSuccessDto {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof UpdatePostSuccessDto\r\n   */\r\n  _id: string; // modified by backend/scripts/generate-api.js\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof UpdatePostSuccessDto\r\n   */\r\n  slug: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof UpdatePostSuccessDto\r\n   */\r\n  oldSlug?: string;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface UpdateProfileReqDto\r\n */\r\nexport interface UpdateProfileReqDto {\r\n  /**\r\n   * Updated name\r\n   * @type {string}\r\n   * @memberof UpdateProfileReqDto\r\n   */\r\n  name?: string;\r\n  /**\r\n   * Updated status\r\n   * @type {string}\r\n   * @memberof UpdateProfileReqDto\r\n   */\r\n  status?: string;\r\n  /**\r\n   * Array of tag ObjectIDs, which will completely replace the previous tags of the user\r\n   * @type {Array<string>}\r\n   * @memberof UpdateProfileReqDto\r\n   */\r\n  tags?: Array<string>;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface UploadSuccess\r\n */\r\nexport interface UploadSuccess {\r\n  /**\r\n   * The URL of the file which is now statically served as a result of this upload.\r\n   * @type {string}\r\n   * @memberof UploadSuccess\r\n   */\r\n  url: string;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface UserDto\r\n */\r\nexport interface UserDto {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof UserDto\r\n   */\r\n  _id: string; // modified by backend/scripts/generate-api.js\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof UserDto\r\n   */\r\n  userID: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof UserDto\r\n   */\r\n  name: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof UserDto\r\n   */\r\n  profilePic?: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof UserDto\r\n   */\r\n  profileBanner?: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof UserDto\r\n   */\r\n  status?: string;\r\n  /**\r\n   *\r\n   * @type {Array<string>}\r\n   * @memberof UserDto\r\n   */\r\n  followers?: Array<string>;\r\n  /**\r\n   *\r\n   * @type {Array<string>}\r\n   * @memberof UserDto\r\n   */\r\n  following?: Array<string>;\r\n  /**\r\n   *\r\n   * @type {Array<string>}\r\n   * @memberof UserDto\r\n   */\r\n  groups?: Array<string>;\r\n  /**\r\n   *\r\n   * @type {Array<string>}\r\n   * @memberof UserDto\r\n   */\r\n  posts?: Array<string>;\r\n  /**\r\n   *\r\n   * @type {Array<string>}\r\n   * @memberof UserDto\r\n   */\r\n  savedPosts?: Array<string>;\r\n  /**\r\n   *\r\n   * @type {Array<string>}\r\n   * @memberof UserDto\r\n   */\r\n  likedPosts: Array<string>;\r\n}\r\n/**\r\n *\r\n * @export\r\n * @interface VideoDto\r\n */\r\nexport interface VideoDto {\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof VideoDto\r\n   */\r\n  name: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof VideoDto\r\n   */\r\n  description: string;\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof VideoDto\r\n   */\r\n  _id: string; // modified by backend/scripts/generate-api.js\r\n  /**\r\n   *\r\n   * @type {string}\r\n   * @memberof VideoDto\r\n   */\r\n  createdAt: string;\r\n}\r\n/**\r\n * AuthApi - fetch parameter creator\r\n * @export\r\n */\r\nexport const AuthApiFetchParamCreator = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {LogOut} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    authControllerLogOut(body: LogOut, options: any = {}): FetchArgs {\r\n      // verify required parameter 'body' is not null or undefined\r\n      if (body === null || body === undefined) {\r\n        throw new RequiredError('body', 'Required parameter body was null or undefined when calling authControllerLogOut.');\r\n      }\r\n      const localVarPath = `/api/logout`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'POST' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarHeaderParameter['Content-Type'] = 'application/json';\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n      const needsSerialization = (<any>\"LogOut\" !== \"string\") || localVarRequestOptions.headers['Content-Type'] === 'application/json';\r\n      localVarRequestOptions.body = needsSerialization ? JSON.stringify(body || {}) : (body || \"\");\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {GitHubLoginBody} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    authControllerLoginGitHub(body: GitHubLoginBody, options: any = {}): FetchArgs {\r\n      // verify required parameter 'body' is not null or undefined\r\n      if (body === null || body === undefined) {\r\n        throw new RequiredError('body', 'Required parameter body was null or undefined when calling authControllerLoginGitHub.');\r\n      }\r\n      const localVarPath = `/api/login/github`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'POST' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarHeaderParameter['Content-Type'] = 'application/json';\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n      const needsSerialization = (<any>\"GitHubLoginBody\" !== \"string\") || localVarRequestOptions.headers['Content-Type'] === 'application/json';\r\n      localVarRequestOptions.body = needsSerialization ? JSON.stringify(body || {}) : (body || \"\");\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {GoogleLoginBody} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    authControllerLoginGoogle(body: GoogleLoginBody, options: any = {}): FetchArgs {\r\n      // verify required parameter 'body' is not null or undefined\r\n      if (body === null || body === undefined) {\r\n        throw new RequiredError('body', 'Required parameter body was null or undefined when calling authControllerLoginGoogle.');\r\n      }\r\n      const localVarPath = `/api/login/google`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'POST' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarHeaderParameter['Content-Type'] = 'application/json';\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n      const needsSerialization = (<any>\"GoogleLoginBody\" !== \"string\") || localVarRequestOptions.headers['Content-Type'] === 'application/json';\r\n      localVarRequestOptions.body = needsSerialization ? JSON.stringify(body || {}) : (body || \"\");\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * AuthApi - functional programming interface\r\n * @export\r\n */\r\nexport const AuthApiFp = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {LogOut} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    authControllerLogOut(body: LogOut, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<LogOutSuccess> {\r\n      const localVarFetchArgs = AuthApiFetchParamCreator(configuration).authControllerLogOut(body, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {GitHubLoginBody} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    authControllerLoginGitHub(body: GitHubLoginBody, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<LoginSuccess> {\r\n      const localVarFetchArgs = AuthApiFetchParamCreator(configuration).authControllerLoginGitHub(body, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {GoogleLoginBody} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    authControllerLoginGoogle(body: GoogleLoginBody, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<LoginSuccess> {\r\n      const localVarFetchArgs = AuthApiFetchParamCreator(configuration).authControllerLoginGoogle(body, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * AuthApi - factory interface\r\n * @export\r\n */\r\nexport const AuthApiFactory = function (configuration?: Configuration, fetch?: FetchAPI, basePath?: string) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {LogOut} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    authControllerLogOut(body: LogOut, options?: any) {\r\n      return AuthApiFp(configuration).authControllerLogOut(body, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {GitHubLoginBody} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    authControllerLoginGitHub(body: GitHubLoginBody, options?: any) {\r\n      return AuthApiFp(configuration).authControllerLoginGitHub(body, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {GoogleLoginBody} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    authControllerLoginGoogle(body: GoogleLoginBody, options?: any) {\r\n      return AuthApiFp(configuration).authControllerLoginGoogle(body, options)(fetch, basePath);\r\n    },\r\n  };\r\n};\r\n\r\n/**\r\n * AuthApi - object-oriented interface\r\n * @export\r\n * @class AuthApi\r\n * @extends {BaseAPI}\r\n */\r\nexport class AuthApi extends BaseAPI {\r\n  /**\r\n   *\r\n   * @param {LogOut} body\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof AuthApi\r\n   */\r\n  public authControllerLogOut(body: LogOut, options?: any) {\r\n    return AuthApiFp(this.configuration).authControllerLogOut(body, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {GitHubLoginBody} body\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof AuthApi\r\n   */\r\n  public authControllerLoginGitHub(body: GitHubLoginBody, options?: any) {\r\n    return AuthApiFp(this.configuration).authControllerLoginGitHub(body, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {GoogleLoginBody} body\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof AuthApi\r\n   */\r\n  public authControllerLoginGoogle(body: GoogleLoginBody, options?: any) {\r\n    return AuthApiFp(this.configuration).authControllerLoginGoogle(body, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n}\r\n/**\r\n * ConversationsApi - fetch parameter creator\r\n * @export\r\n */\r\nexport const ConversationsApiFetchParamCreator = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {CreateConversationBodyDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    conversationsControllerCreateConversation(body: CreateConversationBodyDto, options: any = {}): FetchArgs {\r\n      // verify required parameter 'body' is not null or undefined\r\n      if (body === null || body === undefined) {\r\n        throw new RequiredError('body', 'Required parameter body was null or undefined when calling conversationsControllerCreateConversation.');\r\n      }\r\n      const localVarPath = `/api/conversations`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'POST' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      // authentication bearer required\r\n\r\n      localVarHeaderParameter['Content-Type'] = 'application/json';\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n      const needsSerialization = (<any>\"CreateConversationBodyDto\" !== \"string\") || localVarRequestOptions.headers['Content-Type'] === 'application/json';\r\n      localVarRequestOptions.body = needsSerialization ? JSON.stringify(body || {}) : (body || \"\");\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * ConversationsApi - functional programming interface\r\n * @export\r\n */\r\nexport const ConversationsApiFp = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {CreateConversationBodyDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    conversationsControllerCreateConversation(body: CreateConversationBodyDto, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<CreateConversationSuccessDto> {\r\n      const localVarFetchArgs = ConversationsApiFetchParamCreator(configuration).conversationsControllerCreateConversation(body, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * ConversationsApi - factory interface\r\n * @export\r\n */\r\nexport const ConversationsApiFactory = function (configuration?: Configuration, fetch?: FetchAPI, basePath?: string) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {CreateConversationBodyDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    conversationsControllerCreateConversation(body: CreateConversationBodyDto, options?: any) {\r\n      return ConversationsApiFp(configuration).conversationsControllerCreateConversation(body, options)(fetch, basePath);\r\n    },\r\n  };\r\n};\r\n\r\n/**\r\n * ConversationsApi - object-oriented interface\r\n * @export\r\n * @class ConversationsApi\r\n * @extends {BaseAPI}\r\n */\r\nexport class ConversationsApi extends BaseAPI {\r\n  /**\r\n   *\r\n   * @param {CreateConversationBodyDto} body\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof ConversationsApi\r\n   */\r\n  public conversationsControllerCreateConversation(body: CreateConversationBodyDto, options?: any) {\r\n    return ConversationsApiFp(this.configuration).conversationsControllerCreateConversation(body, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n}\r\n/**\r\n * DefaultApi - fetch parameter creator\r\n * @export\r\n */\r\nexport const DefaultApiFetchParamCreator = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    appControllerGetHello(options: any = {}): FetchArgs {\r\n      const localVarPath = `/api/hello`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * DefaultApi - functional programming interface\r\n * @export\r\n */\r\nexport const DefaultApiFp = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    appControllerGetHello(options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<string> {\r\n      const localVarFetchArgs = DefaultApiFetchParamCreator(configuration).appControllerGetHello(options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * DefaultApi - factory interface\r\n * @export\r\n */\r\nexport const DefaultApiFactory = function (configuration?: Configuration, fetch?: FetchAPI, basePath?: string) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    appControllerGetHello(options?: any) {\r\n      return DefaultApiFp(configuration).appControllerGetHello(options)(fetch, basePath);\r\n    },\r\n  };\r\n};\r\n\r\n/**\r\n * DefaultApi - object-oriented interface\r\n * @export\r\n * @class DefaultApi\r\n * @extends {BaseAPI}\r\n */\r\nexport class DefaultApi extends BaseAPI {\r\n  /**\r\n   *\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof DefaultApi\r\n   */\r\n  public appControllerGetHello(options?: any) {\r\n    return DefaultApiFp(this.configuration).appControllerGetHello(options)(this.fetch, this.basePath);\r\n  }\r\n\r\n}\r\n/**\r\n * DevApi - fetch parameter creator\r\n * @export\r\n */\r\nexport const DevApiFetchParamCreator = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {CreateCustomUser} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    devControllerCreateCustomUser(body: CreateCustomUser, options: any = {}): FetchArgs {\r\n      // verify required parameter 'body' is not null or undefined\r\n      if (body === null || body === undefined) {\r\n        throw new RequiredError('body', 'Required parameter body was null or undefined when calling devControllerCreateCustomUser.');\r\n      }\r\n      const localVarPath = `/api/dev/create-user`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'POST' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarHeaderParameter['Content-Type'] = 'application/json';\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n      const needsSerialization = (<any>\"CreateCustomUser\" !== \"string\") || localVarRequestOptions.headers['Content-Type'] === 'application/json';\r\n      localVarRequestOptions.body = needsSerialization ? JSON.stringify(body || {}) : (body || \"\");\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    devControllerCreatePostDev(options: any = {}): FetchArgs {\r\n      const localVarPath = `/api/dev/create-post`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'POST' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    devControllerGetJwt(id: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'id' is not null or undefined\r\n      if (id === null || id === undefined) {\r\n        throw new RequiredError('id', 'Required parameter id was null or undefined when calling devControllerGetJwt.');\r\n      }\r\n      const localVarPath = `/api/dev/jwt/{id}`\r\n        .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    devControllerLoginDev(options: any = {}): FetchArgs {\r\n      const localVarPath = `/api/dev/login`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    devControllerMarco(options: any = {}): FetchArgs {\r\n      const localVarPath = `/api/dev/marco`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    devControllerMarcoPersonal(options: any = {}): FetchArgs {\r\n      const localVarPath = `/api/dev/marco/personal`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * DevApi - functional programming interface\r\n * @export\r\n */\r\nexport const DevApiFp = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {CreateCustomUser} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    devControllerCreateCustomUser(body: CreateCustomUser, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<LoginSuccess> {\r\n      const localVarFetchArgs = DevApiFetchParamCreator(configuration).devControllerCreateCustomUser(body, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    devControllerCreatePostDev(options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<CreatePostSuccessDto> {\r\n      const localVarFetchArgs = DevApiFetchParamCreator(configuration).devControllerCreatePostDev(options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    devControllerGetJwt(id: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<string> {\r\n      const localVarFetchArgs = DevApiFetchParamCreator(configuration).devControllerGetJwt(id, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    devControllerLoginDev(options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<LoginSuccess> {\r\n      const localVarFetchArgs = DevApiFetchParamCreator(configuration).devControllerLoginDev(options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    devControllerMarco(options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<Response> {\r\n      const localVarFetchArgs = DevApiFetchParamCreator(configuration).devControllerMarco(options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response;\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    devControllerMarcoPersonal(options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<Response> {\r\n      const localVarFetchArgs = DevApiFetchParamCreator(configuration).devControllerMarcoPersonal(options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response;\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * DevApi - factory interface\r\n * @export\r\n */\r\nexport const DevApiFactory = function (configuration?: Configuration, fetch?: FetchAPI, basePath?: string) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {CreateCustomUser} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    devControllerCreateCustomUser(body: CreateCustomUser, options?: any) {\r\n      return DevApiFp(configuration).devControllerCreateCustomUser(body, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    devControllerCreatePostDev(options?: any) {\r\n      return DevApiFp(configuration).devControllerCreatePostDev(options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    devControllerGetJwt(id: string, options?: any) {\r\n      return DevApiFp(configuration).devControllerGetJwt(id, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    devControllerLoginDev(options?: any) {\r\n      return DevApiFp(configuration).devControllerLoginDev(options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    devControllerMarco(options?: any) {\r\n      return DevApiFp(configuration).devControllerMarco(options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    devControllerMarcoPersonal(options?: any) {\r\n      return DevApiFp(configuration).devControllerMarcoPersonal(options)(fetch, basePath);\r\n    },\r\n  };\r\n};\r\n\r\n/**\r\n * DevApi - object-oriented interface\r\n * @export\r\n * @class DevApi\r\n * @extends {BaseAPI}\r\n */\r\nexport class DevApi extends BaseAPI {\r\n  /**\r\n   *\r\n   * @param {CreateCustomUser} body\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof DevApi\r\n   */\r\n  public devControllerCreateCustomUser(body: CreateCustomUser, options?: any) {\r\n    return DevApiFp(this.configuration).devControllerCreateCustomUser(body, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof DevApi\r\n   */\r\n  public devControllerCreatePostDev(options?: any) {\r\n    return DevApiFp(this.configuration).devControllerCreatePostDev(options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} id\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof DevApi\r\n   */\r\n  public devControllerGetJwt(id: string, options?: any) {\r\n    return DevApiFp(this.configuration).devControllerGetJwt(id, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof DevApi\r\n   */\r\n  public devControllerLoginDev(options?: any) {\r\n    return DevApiFp(this.configuration).devControllerLoginDev(options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof DevApi\r\n   */\r\n  public devControllerMarco(options?: any) {\r\n    return DevApiFp(this.configuration).devControllerMarco(options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof DevApi\r\n   */\r\n  public devControllerMarcoPersonal(options?: any) {\r\n    return DevApiFp(this.configuration).devControllerMarcoPersonal(options)(this.fetch, this.basePath);\r\n  }\r\n\r\n}\r\n/**\r\n * DiscussionsApi - fetch parameter creator\r\n * @export\r\n */\r\nexport const DiscussionsApiFetchParamCreator = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {CreateDiscussionDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    discussionsControllerCreateDiscussion(body: CreateDiscussionDto, options: any = {}): FetchArgs {\r\n      // verify required parameter 'body' is not null or undefined\r\n      if (body === null || body === undefined) {\r\n        throw new RequiredError('body', 'Required parameter body was null or undefined when calling discussionsControllerCreateDiscussion.');\r\n      }\r\n      const localVarPath = `/api/discussions/{id}`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'POST' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarHeaderParameter['Content-Type'] = 'application/json';\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n      const needsSerialization = (<any>\"CreateDiscussionDto\" !== \"string\") || localVarRequestOptions.headers['Content-Type'] === 'application/json';\r\n      localVarRequestOptions.body = needsSerialization ? JSON.stringify(body || {}) : (body || \"\");\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    discussionsControllerGetDiscussionById(id: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'id' is not null or undefined\r\n      if (id === null || id === undefined) {\r\n        throw new RequiredError('id', 'Required parameter id was null or undefined when calling discussionsControllerGetDiscussionById.');\r\n      }\r\n      const localVarPath = `/api/discussions/{id}`\r\n        .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    discussionsControllerGetDiscussionsByQuestionID(id: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'id' is not null or undefined\r\n      if (id === null || id === undefined) {\r\n        throw new RequiredError('id', 'Required parameter id was null or undefined when calling discussionsControllerGetDiscussionsByQuestionID.');\r\n      }\r\n      const localVarPath = `/api/discussions/by-question-id/{id}`\r\n        .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * DiscussionsApi - functional programming interface\r\n * @export\r\n */\r\nexport const DiscussionsApiFp = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {CreateDiscussionDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    discussionsControllerCreateDiscussion(body: CreateDiscussionDto, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<CreateDiscussionSuccessDto> {\r\n      const localVarFetchArgs = DiscussionsApiFetchParamCreator(configuration).discussionsControllerCreateDiscussion(body, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    discussionsControllerGetDiscussionById(id: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<DiscussionDto> {\r\n      const localVarFetchArgs = DiscussionsApiFetchParamCreator(configuration).discussionsControllerGetDiscussionById(id, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    discussionsControllerGetDiscussionsByQuestionID(id: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<GetDiscussionsDto> {\r\n      const localVarFetchArgs = DiscussionsApiFetchParamCreator(configuration).discussionsControllerGetDiscussionsByQuestionID(id, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * DiscussionsApi - factory interface\r\n * @export\r\n */\r\nexport const DiscussionsApiFactory = function (configuration?: Configuration, fetch?: FetchAPI, basePath?: string) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {CreateDiscussionDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    discussionsControllerCreateDiscussion(body: CreateDiscussionDto, options?: any) {\r\n      return DiscussionsApiFp(configuration).discussionsControllerCreateDiscussion(body, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    discussionsControllerGetDiscussionById(id: string, options?: any) {\r\n      return DiscussionsApiFp(configuration).discussionsControllerGetDiscussionById(id, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    discussionsControllerGetDiscussionsByQuestionID(id: string, options?: any) {\r\n      return DiscussionsApiFp(configuration).discussionsControllerGetDiscussionsByQuestionID(id, options)(fetch, basePath);\r\n    },\r\n  };\r\n};\r\n\r\n/**\r\n * DiscussionsApi - object-oriented interface\r\n * @export\r\n * @class DiscussionsApi\r\n * @extends {BaseAPI}\r\n */\r\nexport class DiscussionsApi extends BaseAPI {\r\n  /**\r\n   *\r\n   * @param {CreateDiscussionDto} body\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof DiscussionsApi\r\n   */\r\n  public discussionsControllerCreateDiscussion(body: CreateDiscussionDto, options?: any) {\r\n    return DiscussionsApiFp(this.configuration).discussionsControllerCreateDiscussion(body, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} id\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof DiscussionsApi\r\n   */\r\n  public discussionsControllerGetDiscussionById(id: string, options?: any) {\r\n    return DiscussionsApiFp(this.configuration).discussionsControllerGetDiscussionById(id, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} id\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof DiscussionsApi\r\n   */\r\n  public discussionsControllerGetDiscussionsByQuestionID(id: string, options?: any) {\r\n    return DiscussionsApiFp(this.configuration).discussionsControllerGetDiscussionsByQuestionID(id, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n}\r\n/**\r\n * GroupsApi - fetch parameter creator\r\n * @export\r\n */\r\nexport const GroupsApiFetchParamCreator = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {CreateGroupDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    groupsControllerCreateGroup(body: CreateGroupDto, options: any = {}): FetchArgs {\r\n      // verify required parameter 'body' is not null or undefined\r\n      if (body === null || body === undefined) {\r\n        throw new RequiredError('body', 'Required parameter body was null or undefined when calling groupsControllerCreateGroup.');\r\n      }\r\n      const localVarPath = `/api/groups`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'POST' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarHeaderParameter['Content-Type'] = 'application/json';\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n      const needsSerialization = (<any>\"CreateGroupDto\" !== \"string\") || localVarRequestOptions.headers['Content-Type'] === 'application/json';\r\n      localVarRequestOptions.body = needsSerialization ? JSON.stringify(body || {}) : (body || \"\");\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    groupsControllerGetGroups(options: any = {}): FetchArgs {\r\n      const localVarPath = `/api/groups`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} groupID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    groupsControllerGetMembersAndPosts(groupID: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'groupID' is not null or undefined\r\n      if (groupID === null || groupID === undefined) {\r\n        throw new RequiredError('groupID', 'Required parameter groupID was null or undefined when calling groupsControllerGetMembersAndPosts.');\r\n      }\r\n      const localVarPath = `/api/groups/membersAndPosts/{groupID}`\r\n        .replace(`{${\"groupID\"}}`, encodeURIComponent(String(groupID)));\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} privateId\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    groupsControllerGetPrivateGroup(privateId: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'privateId' is not null or undefined\r\n      if (privateId === null || privateId === undefined) {\r\n        throw new RequiredError('privateId', 'Required parameter privateId was null or undefined when calling groupsControllerGetPrivateGroup.');\r\n      }\r\n      const localVarPath = `/api/groups/{privateId}`\r\n        .replace(`{${\"privateId\"}}`, encodeURIComponent(String(privateId)));\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    groupsControllerGetPublicGroup(id: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'id' is not null or undefined\r\n      if (id === null || id === undefined) {\r\n        throw new RequiredError('id', 'Required parameter id was null or undefined when calling groupsControllerGetPublicGroup.');\r\n      }\r\n      const localVarPath = `/api/groups/{id}`\r\n        .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    groupsControllerJoinGroup(id: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'id' is not null or undefined\r\n      if (id === null || id === undefined) {\r\n        throw new RequiredError('id', 'Required parameter id was null or undefined when calling groupsControllerJoinGroup.');\r\n      }\r\n      const localVarPath = `/api/groups/join/{id}`\r\n        .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'POST' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    groupsControllerLeaveGroup(id: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'id' is not null or undefined\r\n      if (id === null || id === undefined) {\r\n        throw new RequiredError('id', 'Required parameter id was null or undefined when calling groupsControllerLeaveGroup.');\r\n      }\r\n      const localVarPath = `/api/groups/leave/{id}`\r\n        .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'DELETE' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * GroupsApi - functional programming interface\r\n * @export\r\n */\r\nexport const GroupsApiFp = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {CreateGroupDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    groupsControllerCreateGroup(body: CreateGroupDto, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<CreateGroupSuccessDto> {\r\n      const localVarFetchArgs = GroupsApiFetchParamCreator(configuration).groupsControllerCreateGroup(body, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    groupsControllerGetGroups(options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<GetGroupsSuccessDto> {\r\n      const localVarFetchArgs = GroupsApiFetchParamCreator(configuration).groupsControllerGetGroups(options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} groupID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    groupsControllerGetMembersAndPosts(groupID: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<GetGroupMembersAndPostsDto> {\r\n      const localVarFetchArgs = GroupsApiFetchParamCreator(configuration).groupsControllerGetMembersAndPosts(groupID, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} privateId\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    groupsControllerGetPrivateGroup(privateId: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<GroupDto> {\r\n      const localVarFetchArgs = GroupsApiFetchParamCreator(configuration).groupsControllerGetPrivateGroup(privateId, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    groupsControllerGetPublicGroup(id: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<GroupDto> {\r\n      const localVarFetchArgs = GroupsApiFetchParamCreator(configuration).groupsControllerGetPublicGroup(id, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    groupsControllerJoinGroup(id: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<Response> {\r\n      const localVarFetchArgs = GroupsApiFetchParamCreator(configuration).groupsControllerJoinGroup(id, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response;\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    groupsControllerLeaveGroup(id: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<Response> {\r\n      const localVarFetchArgs = GroupsApiFetchParamCreator(configuration).groupsControllerLeaveGroup(id, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response;\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * GroupsApi - factory interface\r\n * @export\r\n */\r\nexport const GroupsApiFactory = function (configuration?: Configuration, fetch?: FetchAPI, basePath?: string) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {CreateGroupDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    groupsControllerCreateGroup(body: CreateGroupDto, options?: any) {\r\n      return GroupsApiFp(configuration).groupsControllerCreateGroup(body, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    groupsControllerGetGroups(options?: any) {\r\n      return GroupsApiFp(configuration).groupsControllerGetGroups(options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} groupID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    groupsControllerGetMembersAndPosts(groupID: string, options?: any) {\r\n      return GroupsApiFp(configuration).groupsControllerGetMembersAndPosts(groupID, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} privateId\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    groupsControllerGetPrivateGroup(privateId: string, options?: any) {\r\n      return GroupsApiFp(configuration).groupsControllerGetPrivateGroup(privateId, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    groupsControllerGetPublicGroup(id: string, options?: any) {\r\n      return GroupsApiFp(configuration).groupsControllerGetPublicGroup(id, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    groupsControllerJoinGroup(id: string, options?: any) {\r\n      return GroupsApiFp(configuration).groupsControllerJoinGroup(id, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    groupsControllerLeaveGroup(id: string, options?: any) {\r\n      return GroupsApiFp(configuration).groupsControllerLeaveGroup(id, options)(fetch, basePath);\r\n    },\r\n  };\r\n};\r\n\r\n/**\r\n * GroupsApi - object-oriented interface\r\n * @export\r\n * @class GroupsApi\r\n * @extends {BaseAPI}\r\n */\r\nexport class GroupsApi extends BaseAPI {\r\n  /**\r\n   *\r\n   * @param {CreateGroupDto} body\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof GroupsApi\r\n   */\r\n  public groupsControllerCreateGroup(body: CreateGroupDto, options?: any) {\r\n    return GroupsApiFp(this.configuration).groupsControllerCreateGroup(body, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof GroupsApi\r\n   */\r\n  public groupsControllerGetGroups(options?: any) {\r\n    return GroupsApiFp(this.configuration).groupsControllerGetGroups(options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} groupID\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof GroupsApi\r\n   */\r\n  public groupsControllerGetMembersAndPosts(groupID: string, options?: any) {\r\n    return GroupsApiFp(this.configuration).groupsControllerGetMembersAndPosts(groupID, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} privateId\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof GroupsApi\r\n   */\r\n  public groupsControllerGetPrivateGroup(privateId: string, options?: any) {\r\n    return GroupsApiFp(this.configuration).groupsControllerGetPrivateGroup(privateId, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} id\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof GroupsApi\r\n   */\r\n  public groupsControllerGetPublicGroup(id: string, options?: any) {\r\n    return GroupsApiFp(this.configuration).groupsControllerGetPublicGroup(id, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} id\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof GroupsApi\r\n   */\r\n  public groupsControllerJoinGroup(id: string, options?: any) {\r\n    return GroupsApiFp(this.configuration).groupsControllerJoinGroup(id, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} id\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof GroupsApi\r\n   */\r\n  public groupsControllerLeaveGroup(id: string, options?: any) {\r\n    return GroupsApiFp(this.configuration).groupsControllerLeaveGroup(id, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n}\r\n/**\r\n * MessagesApi - fetch parameter creator\r\n * @export\r\n */\r\nexport const MessagesApiFetchParamCreator = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {CreateMessageBodyDto} body\r\n     * @param {string} conversationID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    messagesControllerCreateMessage(body: CreateMessageBodyDto, conversationID: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'body' is not null or undefined\r\n      if (body === null || body === undefined) {\r\n        throw new RequiredError('body', 'Required parameter body was null or undefined when calling messagesControllerCreateMessage.');\r\n      }\r\n      // verify required parameter 'conversationID' is not null or undefined\r\n      if (conversationID === null || conversationID === undefined) {\r\n        throw new RequiredError('conversationID', 'Required parameter conversationID was null or undefined when calling messagesControllerCreateMessage.');\r\n      }\r\n      const localVarPath = `/api/messages/{conversationID}`\r\n        .replace(`{${\"conversationID\"}}`, encodeURIComponent(String(conversationID)));\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'POST' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      // authentication bearer required\r\n\r\n      localVarHeaderParameter['Content-Type'] = 'application/json';\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n      const needsSerialization = (<any>\"CreateMessageBodyDto\" !== \"string\") || localVarRequestOptions.headers['Content-Type'] === 'application/json';\r\n      localVarRequestOptions.body = needsSerialization ? JSON.stringify(body || {}) : (body || \"\");\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} conversationID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    messagesControllerGetMessagesInConversation(conversationID: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'conversationID' is not null or undefined\r\n      if (conversationID === null || conversationID === undefined) {\r\n        throw new RequiredError('conversationID', 'Required parameter conversationID was null or undefined when calling messagesControllerGetMessagesInConversation.');\r\n      }\r\n      const localVarPath = `/api/messages/{conversationID}`\r\n        .replace(`{${\"conversationID\"}}`, encodeURIComponent(String(conversationID)));\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * MessagesApi - functional programming interface\r\n * @export\r\n */\r\nexport const MessagesApiFp = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {CreateMessageBodyDto} body\r\n     * @param {string} conversationID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    messagesControllerCreateMessage(body: CreateMessageBodyDto, conversationID: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<CreateMessageSuccessDto> {\r\n      const localVarFetchArgs = MessagesApiFetchParamCreator(configuration).messagesControllerCreateMessage(body, conversationID, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} conversationID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    messagesControllerGetMessagesInConversation(conversationID: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<Array<MessageDto>> {\r\n      const localVarFetchArgs = MessagesApiFetchParamCreator(configuration).messagesControllerGetMessagesInConversation(conversationID, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * MessagesApi - factory interface\r\n * @export\r\n */\r\nexport const MessagesApiFactory = function (configuration?: Configuration, fetch?: FetchAPI, basePath?: string) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {CreateMessageBodyDto} body\r\n     * @param {string} conversationID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    messagesControllerCreateMessage(body: CreateMessageBodyDto, conversationID: string, options?: any) {\r\n      return MessagesApiFp(configuration).messagesControllerCreateMessage(body, conversationID, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} conversationID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    messagesControllerGetMessagesInConversation(conversationID: string, options?: any) {\r\n      return MessagesApiFp(configuration).messagesControllerGetMessagesInConversation(conversationID, options)(fetch, basePath);\r\n    },\r\n  };\r\n};\r\n\r\n/**\r\n * MessagesApi - object-oriented interface\r\n * @export\r\n * @class MessagesApi\r\n * @extends {BaseAPI}\r\n */\r\nexport class MessagesApi extends BaseAPI {\r\n  /**\r\n   *\r\n   * @param {CreateMessageBodyDto} body\r\n   * @param {string} conversationID\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof MessagesApi\r\n   */\r\n  public messagesControllerCreateMessage(body: CreateMessageBodyDto, conversationID: string, options?: any) {\r\n    return MessagesApiFp(this.configuration).messagesControllerCreateMessage(body, conversationID, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} conversationID\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof MessagesApi\r\n   */\r\n  public messagesControllerGetMessagesInConversation(conversationID: string, options?: any) {\r\n    return MessagesApiFp(this.configuration).messagesControllerGetMessagesInConversation(conversationID, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n}\r\n/**\r\n * PostsApi - fetch parameter creator\r\n * @export\r\n */\r\nexport const PostsApiFetchParamCreator = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {CreatePostBodyDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerCreatePost(body: CreatePostBodyDto, options: any = {}): FetchArgs {\r\n      // verify required parameter 'body' is not null or undefined\r\n      if (body === null || body === undefined) {\r\n        throw new RequiredError('body', 'Required parameter body was null or undefined when calling postsControllerCreatePost.');\r\n      }\r\n      const localVarPath = `/api/posts`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'POST' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      // authentication bearer required\r\n\r\n      localVarHeaderParameter['Content-Type'] = 'application/json';\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n      const needsSerialization = (<any>\"CreatePostBodyDto\" !== \"string\") || localVarRequestOptions.headers['Content-Type'] === 'application/json';\r\n      localVarRequestOptions.body = needsSerialization ? JSON.stringify(body || {}) : (body || \"\");\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} postID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerDeletePostByPostID(postID: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'postID' is not null or undefined\r\n      if (postID === null || postID === undefined) {\r\n        throw new RequiredError('postID', 'Required parameter postID was null or undefined when calling postsControllerDeletePostByPostID.');\r\n      }\r\n      const localVarPath = `/api/posts/{postID}`\r\n        .replace(`{${\"postID\"}}`, encodeURIComponent(String(postID)));\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'DELETE' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} postID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerGetPostByID(postID: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'postID' is not null or undefined\r\n      if (postID === null || postID === undefined) {\r\n        throw new RequiredError('postID', 'Required parameter postID was null or undefined when calling postsControllerGetPostByID.');\r\n      }\r\n      const localVarPath = `/api/posts/byID/{postID}`\r\n        .replace(`{${\"postID\"}}`, encodeURIComponent(String(postID)));\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} slug\r\n     * @param {boolean} getAuthor\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerGetPostBySlug(slug: string, getAuthor: boolean, options: any = {}): FetchArgs {\r\n      // verify required parameter 'slug' is not null or undefined\r\n      if (slug === null || slug === undefined) {\r\n        throw new RequiredError('slug', 'Required parameter slug was null or undefined when calling postsControllerGetPostBySlug.');\r\n      }\r\n      // verify required parameter 'getAuthor' is not null or undefined\r\n      if (getAuthor === null || getAuthor === undefined) {\r\n        throw new RequiredError('getAuthor', 'Required parameter getAuthor was null or undefined when calling postsControllerGetPostBySlug.');\r\n      }\r\n      const localVarPath = `/api/posts/{slug}`\r\n        .replace(`{${\"slug\"}}`, encodeURIComponent(String(slug)));\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      if (getAuthor !== undefined) {\r\n        localVarQueryParameter['get-author'] = getAuthor;\r\n      }\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} postID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerIncrementView(postID: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'postID' is not null or undefined\r\n      if (postID === null || postID === undefined) {\r\n        throw new RequiredError('postID', 'Required parameter postID was null or undefined when calling postsControllerIncrementView.');\r\n      }\r\n      const localVarPath = `/api/posts/increment-view/{postID}`\r\n        .replace(`{${\"postID\"}}`, encodeURIComponent(String(postID)));\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'PUT' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} postID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerLikePost(postID: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'postID' is not null or undefined\r\n      if (postID === null || postID === undefined) {\r\n        throw new RequiredError('postID', 'Required parameter postID was null or undefined when calling postsControllerLikePost.');\r\n      }\r\n      const localVarPath = `/api/posts/like`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'PUT' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      // authentication bearer required\r\n\r\n      if (postID !== undefined) {\r\n        localVarQueryParameter['postID'] = postID;\r\n      }\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} postID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerUnlikePost(postID: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'postID' is not null or undefined\r\n      if (postID === null || postID === undefined) {\r\n        throw new RequiredError('postID', 'Required parameter postID was null or undefined when calling postsControllerUnlikePost.');\r\n      }\r\n      const localVarPath = `/api/posts/unlike`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'PUT' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      // authentication bearer required\r\n\r\n      if (postID !== undefined) {\r\n        localVarQueryParameter['postID'] = postID;\r\n      }\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {UpdatePostBodyDto} body\r\n     * @param {string} slug\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerUpdatePostBySlug(body: UpdatePostBodyDto, slug: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'body' is not null or undefined\r\n      if (body === null || body === undefined) {\r\n        throw new RequiredError('body', 'Required parameter body was null or undefined when calling postsControllerUpdatePostBySlug.');\r\n      }\r\n      // verify required parameter 'slug' is not null or undefined\r\n      if (slug === null || slug === undefined) {\r\n        throw new RequiredError('slug', 'Required parameter slug was null or undefined when calling postsControllerUpdatePostBySlug.');\r\n      }\r\n      const localVarPath = `/api/posts/{slug}`\r\n        .replace(`{${\"slug\"}}`, encodeURIComponent(String(slug)));\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'PUT' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarHeaderParameter['Content-Type'] = 'application/json';\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n      const needsSerialization = (<any>\"UpdatePostBodyDto\" !== \"string\") || localVarRequestOptions.headers['Content-Type'] === 'application/json';\r\n      localVarRequestOptions.body = needsSerialization ? JSON.stringify(body || {}) : (body || \"\");\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} tagID The ObjectID of the tag\r\n     * @param {number} [requestedCount] How many posts to fetch\r\n     * @param {number} [startIdx] What index to start at, e.g. if startIdx &#x3D; 5, then the 5 posts (0th, 1st, 2nd, 3rd, 4th) of this tag will not be fetched\r\n     * @param {any} [excludePostIDs] An object that works like a set of Post ObjectIDs to exclude\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    tagsControllerGetPostsByTag(tagID: string, requestedCount?: number, startIdx?: number, excludePostIDs?: any, options: any = {}): FetchArgs {\r\n      // verify required parameter 'tagID' is not null or undefined\r\n      if (tagID === null || tagID === undefined) {\r\n        throw new RequiredError('tagID', 'Required parameter tagID was null or undefined when calling tagsControllerGetPostsByTag.');\r\n      }\r\n      const localVarPath = `/api/tags/posts`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      if (tagID !== undefined) {\r\n        localVarQueryParameter['tagID'] = tagID;\r\n      }\r\n\r\n      if (requestedCount !== undefined) {\r\n        localVarQueryParameter['requestedCount'] = requestedCount;\r\n      }\r\n\r\n      if (startIdx !== undefined) {\r\n        localVarQueryParameter['startIdx'] = startIdx;\r\n      }\r\n\r\n      if (excludePostIDs !== undefined) {\r\n        localVarQueryParameter['excludePostIDs'] = excludePostIDs;\r\n      }\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * PostsApi - functional programming interface\r\n * @export\r\n */\r\nexport const PostsApiFp = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {CreatePostBodyDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerCreatePost(body: CreatePostBodyDto, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<CreatePostSuccessDto> {\r\n      const localVarFetchArgs = PostsApiFetchParamCreator(configuration).postsControllerCreatePost(body, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} postID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerDeletePostByPostID(postID: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<Response> {\r\n      const localVarFetchArgs = PostsApiFetchParamCreator(configuration).postsControllerDeletePostByPostID(postID, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response;\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} postID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerGetPostByID(postID: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<GetPostDetailsSuccessDto> {\r\n      const localVarFetchArgs = PostsApiFetchParamCreator(configuration).postsControllerGetPostByID(postID, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} slug\r\n     * @param {boolean} getAuthor\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerGetPostBySlug(slug: string, getAuthor: boolean, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<GetPostDetailsSuccessDto> {\r\n      const localVarFetchArgs = PostsApiFetchParamCreator(configuration).postsControllerGetPostBySlug(slug, getAuthor, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} postID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerIncrementView(postID: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<Response> {\r\n      const localVarFetchArgs = PostsApiFetchParamCreator(configuration).postsControllerIncrementView(postID, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response;\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} postID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerLikePost(postID: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<Response> {\r\n      const localVarFetchArgs = PostsApiFetchParamCreator(configuration).postsControllerLikePost(postID, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response;\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} postID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerUnlikePost(postID: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<Response> {\r\n      const localVarFetchArgs = PostsApiFetchParamCreator(configuration).postsControllerUnlikePost(postID, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response;\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {UpdatePostBodyDto} body\r\n     * @param {string} slug\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerUpdatePostBySlug(body: UpdatePostBodyDto, slug: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<UpdatePostSuccessDto> {\r\n      const localVarFetchArgs = PostsApiFetchParamCreator(configuration).postsControllerUpdatePostBySlug(body, slug, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} tagID The ObjectID of the tag\r\n     * @param {number} [requestedCount] How many posts to fetch\r\n     * @param {number} [startIdx] What index to start at, e.g. if startIdx &#x3D; 5, then the 5 posts (0th, 1st, 2nd, 3rd, 4th) of this tag will not be fetched\r\n     * @param {any} [excludePostIDs] An object that works like a set of Post ObjectIDs to exclude\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    tagsControllerGetPostsByTag(tagID: string, requestedCount?: number, startIdx?: number, excludePostIDs?: any, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<GetPostsByTagDto> {\r\n      const localVarFetchArgs = PostsApiFetchParamCreator(configuration).tagsControllerGetPostsByTag(tagID, requestedCount, startIdx, excludePostIDs, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * PostsApi - factory interface\r\n * @export\r\n */\r\nexport const PostsApiFactory = function (configuration?: Configuration, fetch?: FetchAPI, basePath?: string) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {CreatePostBodyDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerCreatePost(body: CreatePostBodyDto, options?: any) {\r\n      return PostsApiFp(configuration).postsControllerCreatePost(body, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} postID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerDeletePostByPostID(postID: string, options?: any) {\r\n      return PostsApiFp(configuration).postsControllerDeletePostByPostID(postID, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} postID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerGetPostByID(postID: string, options?: any) {\r\n      return PostsApiFp(configuration).postsControllerGetPostByID(postID, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} slug\r\n     * @param {boolean} getAuthor\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerGetPostBySlug(slug: string, getAuthor: boolean, options?: any) {\r\n      return PostsApiFp(configuration).postsControllerGetPostBySlug(slug, getAuthor, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} postID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerIncrementView(postID: string, options?: any) {\r\n      return PostsApiFp(configuration).postsControllerIncrementView(postID, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} postID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerLikePost(postID: string, options?: any) {\r\n      return PostsApiFp(configuration).postsControllerLikePost(postID, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} postID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerUnlikePost(postID: string, options?: any) {\r\n      return PostsApiFp(configuration).postsControllerUnlikePost(postID, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {UpdatePostBodyDto} body\r\n     * @param {string} slug\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    postsControllerUpdatePostBySlug(body: UpdatePostBodyDto, slug: string, options?: any) {\r\n      return PostsApiFp(configuration).postsControllerUpdatePostBySlug(body, slug, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} tagID The ObjectID of the tag\r\n     * @param {number} [requestedCount] How many posts to fetch\r\n     * @param {number} [startIdx] What index to start at, e.g. if startIdx &#x3D; 5, then the 5 posts (0th, 1st, 2nd, 3rd, 4th) of this tag will not be fetched\r\n     * @param {any} [excludePostIDs] An object that works like a set of Post ObjectIDs to exclude\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    tagsControllerGetPostsByTag(tagID: string, requestedCount?: number, startIdx?: number, excludePostIDs?: any, options?: any) {\r\n      return PostsApiFp(configuration).tagsControllerGetPostsByTag(tagID, requestedCount, startIdx, excludePostIDs, options)(fetch, basePath);\r\n    },\r\n  };\r\n};\r\n\r\n/**\r\n * PostsApi - object-oriented interface\r\n * @export\r\n * @class PostsApi\r\n * @extends {BaseAPI}\r\n */\r\nexport class PostsApi extends BaseAPI {\r\n  /**\r\n   *\r\n   * @param {CreatePostBodyDto} body\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof PostsApi\r\n   */\r\n  public postsControllerCreatePost(body: CreatePostBodyDto, options?: any) {\r\n    return PostsApiFp(this.configuration).postsControllerCreatePost(body, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} postID\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof PostsApi\r\n   */\r\n  public postsControllerDeletePostByPostID(postID: string, options?: any) {\r\n    return PostsApiFp(this.configuration).postsControllerDeletePostByPostID(postID, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} postID\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof PostsApi\r\n   */\r\n  public postsControllerGetPostByID(postID: string, options?: any) {\r\n    return PostsApiFp(this.configuration).postsControllerGetPostByID(postID, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} slug\r\n   * @param {boolean} getAuthor\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof PostsApi\r\n   */\r\n  public postsControllerGetPostBySlug(slug: string, getAuthor: boolean, options?: any) {\r\n    return PostsApiFp(this.configuration).postsControllerGetPostBySlug(slug, getAuthor, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} postID\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof PostsApi\r\n   */\r\n  public postsControllerIncrementView(postID: string, options?: any) {\r\n    return PostsApiFp(this.configuration).postsControllerIncrementView(postID, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} postID\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof PostsApi\r\n   */\r\n  public postsControllerLikePost(postID: string, options?: any) {\r\n    return PostsApiFp(this.configuration).postsControllerLikePost(postID, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} postID\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof PostsApi\r\n   */\r\n  public postsControllerUnlikePost(postID: string, options?: any) {\r\n    return PostsApiFp(this.configuration).postsControllerUnlikePost(postID, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {UpdatePostBodyDto} body\r\n   * @param {string} slug\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof PostsApi\r\n   */\r\n  public postsControllerUpdatePostBySlug(body: UpdatePostBodyDto, slug: string, options?: any) {\r\n    return PostsApiFp(this.configuration).postsControllerUpdatePostBySlug(body, slug, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} tagID The ObjectID of the tag\r\n   * @param {number} [requestedCount] How many posts to fetch\r\n   * @param {number} [startIdx] What index to start at, e.g. if startIdx &#x3D; 5, then the 5 posts (0th, 1st, 2nd, 3rd, 4th) of this tag will not be fetched\r\n   * @param {any} [excludePostIDs] An object that works like a set of Post ObjectIDs to exclude\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof PostsApi\r\n   */\r\n  public tagsControllerGetPostsByTag(tagID: string, requestedCount?: number, startIdx?: number, excludePostIDs?: any, options?: any) {\r\n    return PostsApiFp(this.configuration).tagsControllerGetPostsByTag(tagID, requestedCount, startIdx, excludePostIDs, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n}\r\n/**\r\n * QuestionsApi - fetch parameter creator\r\n * @export\r\n */\r\nexport const QuestionsApiFetchParamCreator = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    questionsControllerGetQuestions(options: any = {}): FetchArgs {\r\n      const localVarPath = `/api/questions`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * QuestionsApi - functional programming interface\r\n * @export\r\n */\r\nexport const QuestionsApiFp = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    questionsControllerGetQuestions(options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<GetQuestionsSuccessDto> {\r\n      const localVarFetchArgs = QuestionsApiFetchParamCreator(configuration).questionsControllerGetQuestions(options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * QuestionsApi - factory interface\r\n * @export\r\n */\r\nexport const QuestionsApiFactory = function (configuration?: Configuration, fetch?: FetchAPI, basePath?: string) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    questionsControllerGetQuestions(options?: any) {\r\n      return QuestionsApiFp(configuration).questionsControllerGetQuestions(options)(fetch, basePath);\r\n    },\r\n  };\r\n};\r\n\r\n/**\r\n * QuestionsApi - object-oriented interface\r\n * @export\r\n * @class QuestionsApi\r\n * @extends {BaseAPI}\r\n */\r\nexport class QuestionsApi extends BaseAPI {\r\n  /**\r\n   *\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof QuestionsApi\r\n   */\r\n  public questionsControllerGetQuestions(options?: any) {\r\n    return QuestionsApiFp(this.configuration).questionsControllerGetQuestions(options)(this.fetch, this.basePath);\r\n  }\r\n\r\n}\r\n/**\r\n * SearchApi - fetch parameter creator\r\n * @export\r\n */\r\nexport const SearchApiFetchParamCreator = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     * Finds posts containing any of the terms in the query string\r\n     * @param {string} q\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    searchControllerSearch(q: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'q' is not null or undefined\r\n      if (q === null || q === undefined) {\r\n        throw new RequiredError('q', 'Required parameter q was null or undefined when calling searchControllerSearch.');\r\n      }\r\n      const localVarPath = `/api/search`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      if (q !== undefined) {\r\n        localVarQueryParameter['q'] = q;\r\n      }\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * SearchApi - functional programming interface\r\n * @export\r\n */\r\nexport const SearchApiFp = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     * Finds posts containing any of the terms in the query string\r\n     * @param {string} q\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    searchControllerSearch(q: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<SearchResultDto> {\r\n      const localVarFetchArgs = SearchApiFetchParamCreator(configuration).searchControllerSearch(q, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * SearchApi - factory interface\r\n * @export\r\n */\r\nexport const SearchApiFactory = function (configuration?: Configuration, fetch?: FetchAPI, basePath?: string) {\r\n  return {\r\n    /**\r\n     * Finds posts containing any of the terms in the query string\r\n     * @param {string} q\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    searchControllerSearch(q: string, options?: any) {\r\n      return SearchApiFp(configuration).searchControllerSearch(q, options)(fetch, basePath);\r\n    },\r\n  };\r\n};\r\n\r\n/**\r\n * SearchApi - object-oriented interface\r\n * @export\r\n * @class SearchApi\r\n * @extends {BaseAPI}\r\n */\r\nexport class SearchApi extends BaseAPI {\r\n  /**\r\n   * Finds posts containing any of the terms in the query string\r\n   * @param {string} q\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof SearchApi\r\n   */\r\n  public searchControllerSearch(q: string, options?: any) {\r\n    return SearchApiFp(this.configuration).searchControllerSearch(q, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n}\r\n/**\r\n * TrendingApi - fetch parameter creator\r\n * @export\r\n */\r\nexport const TrendingApiFetchParamCreator = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {number} fetchCount\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    trendingControllerGetTrending(fetchCount: number, options: any = {}): FetchArgs {\r\n      // verify required parameter 'fetchCount' is not null or undefined\r\n      if (fetchCount === null || fetchCount === undefined) {\r\n        throw new RequiredError('fetchCount', 'Required parameter fetchCount was null or undefined when calling trendingControllerGetTrending.');\r\n      }\r\n      const localVarPath = `/api/trending/fetchCount`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      if (fetchCount !== undefined) {\r\n        localVarQueryParameter['fetchCount'] = fetchCount;\r\n      }\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {number} fetchCount\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    trendingControllerGetTrendingLoggedIn(fetchCount: number, options: any = {}): FetchArgs {\r\n      // verify required parameter 'fetchCount' is not null or undefined\r\n      if (fetchCount === null || fetchCount === undefined) {\r\n        throw new RequiredError('fetchCount', 'Required parameter fetchCount was null or undefined when calling trendingControllerGetTrendingLoggedIn.');\r\n      }\r\n      const localVarPath = `/api/trending/loggedIn`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      if (fetchCount !== undefined) {\r\n        localVarQueryParameter['fetchCount'] = fetchCount;\r\n      }\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * TrendingApi - functional programming interface\r\n * @export\r\n */\r\nexport const TrendingApiFp = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {number} fetchCount\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    trendingControllerGetTrending(fetchCount: number, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<GetInitialDataDto> {\r\n      const localVarFetchArgs = TrendingApiFetchParamCreator(configuration).trendingControllerGetTrending(fetchCount, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {number} fetchCount\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    trendingControllerGetTrendingLoggedIn(fetchCount: number, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<GetInitialDataLoggedInDto> {\r\n      const localVarFetchArgs = TrendingApiFetchParamCreator(configuration).trendingControllerGetTrendingLoggedIn(fetchCount, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * TrendingApi - factory interface\r\n * @export\r\n */\r\nexport const TrendingApiFactory = function (configuration?: Configuration, fetch?: FetchAPI, basePath?: string) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {number} fetchCount\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    trendingControllerGetTrending(fetchCount: number, options?: any) {\r\n      return TrendingApiFp(configuration).trendingControllerGetTrending(fetchCount, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {number} fetchCount\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    trendingControllerGetTrendingLoggedIn(fetchCount: number, options?: any) {\r\n      return TrendingApiFp(configuration).trendingControllerGetTrendingLoggedIn(fetchCount, options)(fetch, basePath);\r\n    },\r\n  };\r\n};\r\n\r\n/**\r\n * TrendingApi - object-oriented interface\r\n * @export\r\n * @class TrendingApi\r\n * @extends {BaseAPI}\r\n */\r\nexport class TrendingApi extends BaseAPI {\r\n  /**\r\n   *\r\n   * @param {number} fetchCount\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof TrendingApi\r\n   */\r\n  public trendingControllerGetTrending(fetchCount: number, options?: any) {\r\n    return TrendingApiFp(this.configuration).trendingControllerGetTrending(fetchCount, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {number} fetchCount\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof TrendingApi\r\n   */\r\n  public trendingControllerGetTrendingLoggedIn(fetchCount: number, options?: any) {\r\n    return TrendingApiFp(this.configuration).trendingControllerGetTrendingLoggedIn(fetchCount, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n}\r\n/**\r\n * UploadApi - fetch parameter creator\r\n * @export\r\n */\r\nexport const UploadApiFetchParamCreator = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     * Not implemented. Once implemented, use helper function in 'frontend/src/api-upload'. (Don't use 'new UploadApi().uploadController ...' from 'frontend/src/api' as it does not work.)\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    uploadControllerUploadPrivateFile(options: any = {}): FetchArgs {\r\n      const localVarPath = `/api/upload/private/file`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'POST' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     * Note: use helper function in 'frontend/src/api-upload'. (Don't use 'new UploadApi().uploadController ...' from 'frontend/src/api' as it does not work. )\r\n     * @param {FileUploadDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    uploadControllerUploadProfileBannerPic(body: FileUploadDto, options: any = {}): FetchArgs {\r\n      // verify required parameter 'body' is not null or undefined\r\n      if (body === null || body === undefined) {\r\n        throw new RequiredError('body', 'Required parameter body was null or undefined when calling uploadControllerUploadProfileBannerPic.');\r\n      }\r\n      const localVarPath = `/api/upload/profile-banner-pic`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'POST' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarHeaderParameter['Content-Type'] = 'application/json';\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n      const needsSerialization = (<any>\"FileUploadDto\" !== \"string\") || localVarRequestOptions.headers['Content-Type'] === 'application/json';\r\n      localVarRequestOptions.body = needsSerialization ? JSON.stringify(body || {}) : (body || \"\");\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     * Note: use helper function in 'frontend/src/api-upload'. The generated version for this front end API helpers (frontend/src/api) doesn't work.\r\n     * @param {FileUploadDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    uploadControllerUploadProfilePic(body: FileUploadDto, options: any = {}): FetchArgs {\r\n      // verify required parameter 'body' is not null or undefined\r\n      if (body === null || body === undefined) {\r\n        throw new RequiredError('body', 'Required parameter body was null or undefined when calling uploadControllerUploadProfilePic.');\r\n      }\r\n      const localVarPath = `/api/upload/profile-pic`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'POST' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarHeaderParameter['Content-Type'] = 'application/json';\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n      const needsSerialization = (<any>\"FileUploadDto\" !== \"string\") || localVarRequestOptions.headers['Content-Type'] === 'application/json';\r\n      localVarRequestOptions.body = needsSerialization ? JSON.stringify(body || {}) : (body || \"\");\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     * Note: use helper function in 'frontend/src/api-upload'. (Don't use 'new UploadApi().uploadController ...' from 'frontend/src/api' as it does not work.)\r\n     * @param {FileUploadDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    uploadControllerUploadPublicAsset(body: FileUploadDto, options: any = {}): FetchArgs {\r\n      // verify required parameter 'body' is not null or undefined\r\n      if (body === null || body === undefined) {\r\n        throw new RequiredError('body', 'Required parameter body was null or undefined when calling uploadControllerUploadPublicAsset.');\r\n      }\r\n      const localVarPath = `/api/upload/public/asset`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'POST' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarHeaderParameter['Content-Type'] = 'application/json';\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n      const needsSerialization = (<any>\"FileUploadDto\" !== \"string\") || localVarRequestOptions.headers['Content-Type'] === 'application/json';\r\n      localVarRequestOptions.body = needsSerialization ? JSON.stringify(body || {}) : (body || \"\");\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * UploadApi - functional programming interface\r\n * @export\r\n */\r\nexport const UploadApiFp = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     * Not implemented. Once implemented, use helper function in 'frontend/src/api-upload'. (Don't use 'new UploadApi().uploadController ...' from 'frontend/src/api' as it does not work.)\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    uploadControllerUploadPrivateFile(options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<UploadSuccess> {\r\n      const localVarFetchArgs = UploadApiFetchParamCreator(configuration).uploadControllerUploadPrivateFile(options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     * Note: use helper function in 'frontend/src/api-upload'. (Don't use 'new UploadApi().uploadController ...' from 'frontend/src/api' as it does not work. )\r\n     * @param {FileUploadDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    uploadControllerUploadProfileBannerPic(body: FileUploadDto, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<UploadSuccess> {\r\n      const localVarFetchArgs = UploadApiFetchParamCreator(configuration).uploadControllerUploadProfileBannerPic(body, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     * Note: use helper function in 'frontend/src/api-upload'. The generated version for this front end API helpers (frontend/src/api) doesn't work.\r\n     * @param {FileUploadDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    uploadControllerUploadProfilePic(body: FileUploadDto, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<UploadSuccess> {\r\n      const localVarFetchArgs = UploadApiFetchParamCreator(configuration).uploadControllerUploadProfilePic(body, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     * Note: use helper function in 'frontend/src/api-upload'. (Don't use 'new UploadApi().uploadController ...' from 'frontend/src/api' as it does not work.)\r\n     * @param {FileUploadDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    uploadControllerUploadPublicAsset(body: FileUploadDto, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<UploadSuccess> {\r\n      const localVarFetchArgs = UploadApiFetchParamCreator(configuration).uploadControllerUploadPublicAsset(body, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * UploadApi - factory interface\r\n * @export\r\n */\r\nexport const UploadApiFactory = function (configuration?: Configuration, fetch?: FetchAPI, basePath?: string) {\r\n  return {\r\n    /**\r\n     * Not implemented. Once implemented, use helper function in 'frontend/src/api-upload'. (Don't use 'new UploadApi().uploadController ...' from 'frontend/src/api' as it does not work.)\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    uploadControllerUploadPrivateFile(options?: any) {\r\n      return UploadApiFp(configuration).uploadControllerUploadPrivateFile(options)(fetch, basePath);\r\n    },\r\n    /**\r\n     * Note: use helper function in 'frontend/src/api-upload'. (Don't use 'new UploadApi().uploadController ...' from 'frontend/src/api' as it does not work. )\r\n     * @param {FileUploadDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    uploadControllerUploadProfileBannerPic(body: FileUploadDto, options?: any) {\r\n      return UploadApiFp(configuration).uploadControllerUploadProfileBannerPic(body, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     * Note: use helper function in 'frontend/src/api-upload'. The generated version for this front end API helpers (frontend/src/api) doesn't work.\r\n     * @param {FileUploadDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    uploadControllerUploadProfilePic(body: FileUploadDto, options?: any) {\r\n      return UploadApiFp(configuration).uploadControllerUploadProfilePic(body, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     * Note: use helper function in 'frontend/src/api-upload'. (Don't use 'new UploadApi().uploadController ...' from 'frontend/src/api' as it does not work.)\r\n     * @param {FileUploadDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    uploadControllerUploadPublicAsset(body: FileUploadDto, options?: any) {\r\n      return UploadApiFp(configuration).uploadControllerUploadPublicAsset(body, options)(fetch, basePath);\r\n    },\r\n  };\r\n};\r\n\r\n/**\r\n * UploadApi - object-oriented interface\r\n * @export\r\n * @class UploadApi\r\n * @extends {BaseAPI}\r\n */\r\nexport class UploadApi extends BaseAPI {\r\n  /**\r\n   * Not implemented. Once implemented, use helper function in 'frontend/src/api-upload'. (Don't use 'new UploadApi().uploadController ...' from 'frontend/src/api' as it does not work.)\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof UploadApi\r\n   */\r\n  public uploadControllerUploadPrivateFile(options?: any) {\r\n    return UploadApiFp(this.configuration).uploadControllerUploadPrivateFile(options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   * Note: use helper function in 'frontend/src/api-upload'. (Don't use 'new UploadApi().uploadController ...' from 'frontend/src/api' as it does not work. )\r\n   * @param {FileUploadDto} body\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof UploadApi\r\n   */\r\n  public uploadControllerUploadProfileBannerPic(body: FileUploadDto, options?: any) {\r\n    return UploadApiFp(this.configuration).uploadControllerUploadProfileBannerPic(body, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   * Note: use helper function in 'frontend/src/api-upload'. The generated version for this front end API helpers (frontend/src/api) doesn't work.\r\n   * @param {FileUploadDto} body\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof UploadApi\r\n   */\r\n  public uploadControllerUploadProfilePic(body: FileUploadDto, options?: any) {\r\n    return UploadApiFp(this.configuration).uploadControllerUploadProfilePic(body, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   * Note: use helper function in 'frontend/src/api-upload'. (Don't use 'new UploadApi().uploadController ...' from 'frontend/src/api' as it does not work.)\r\n   * @param {FileUploadDto} body\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof UploadApi\r\n   */\r\n  public uploadControllerUploadPublicAsset(body: FileUploadDto, options?: any) {\r\n    return UploadApiFp(this.configuration).uploadControllerUploadPublicAsset(body, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n}\r\n/**\r\n * UserApi - fetch parameter creator\r\n * @export\r\n */\r\nexport const UserApiFetchParamCreator = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    userControllerAddFollowing(id: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'id' is not null or undefined\r\n      if (id === null || id === undefined) {\r\n        throw new RequiredError('id', 'Required parameter id was null or undefined when calling userControllerAddFollowing.');\r\n      }\r\n      const localVarPath = `/api/user/addFollowing/{id}`\r\n        .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'PUT' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      // authentication bearer required\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     * For updating user's name, status and tags. To update profile image or banner image, use their upload endpoints instead.\r\n     * @param {UpdateProfileReqDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    userControllerEditProfile(body: UpdateProfileReqDto, options: any = {}): FetchArgs {\r\n      // verify required parameter 'body' is not null or undefined\r\n      if (body === null || body === undefined) {\r\n        throw new RequiredError('body', 'Required parameter body was null or undefined when calling userControllerEditProfile.');\r\n      }\r\n      const localVarPath = `/api/user/edit-profile`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'PUT' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      // authentication bearer required\r\n\r\n      localVarHeaderParameter['Content-Type'] = 'application/json';\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n      const needsSerialization = (<any>\"UpdateProfileReqDto\" !== \"string\") || localVarRequestOptions.headers['Content-Type'] === 'application/json';\r\n      localVarRequestOptions.body = needsSerialization ? JSON.stringify(body || {}) : (body || \"\");\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     * Retrieve the current logged in user\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    userControllerGetUser(options: any = {}): FetchArgs {\r\n      const localVarPath = `/api/user`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      // authentication bearer required\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} username\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    userControllerGetUserByUsername(username: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'username' is not null or undefined\r\n      if (username === null || username === undefined) {\r\n        throw new RequiredError('username', 'Required parameter username was null or undefined when calling userControllerGetUserByUsername.');\r\n      }\r\n      const localVarPath = `/api/user/byUsername/{username}`\r\n        .replace(`{${\"username\"}}`, encodeURIComponent(String(username)));\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} ids\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    userControllerGetUsersByIDs(ids: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'ids' is not null or undefined\r\n      if (ids === null || ids === undefined) {\r\n        throw new RequiredError('ids', 'Required parameter ids was null or undefined when calling userControllerGetUsersByIDs.');\r\n      }\r\n      const localVarPath = `/api/user/byIds`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      // authentication bearer required\r\n\r\n      if (ids !== undefined) {\r\n        localVarQueryParameter['ids'] = ids;\r\n      }\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    userControllerRemoveFollowing(id: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'id' is not null or undefined\r\n      if (id === null || id === undefined) {\r\n        throw new RequiredError('id', 'Required parameter id was null or undefined when calling userControllerRemoveFollowing.');\r\n      }\r\n      const localVarPath = `/api/user/removeFollowing/{id}`\r\n        .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'PUT' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      // authentication bearer required\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} postID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    userControllerSavePost(postID: string, options: any = {}): FetchArgs {\r\n      // verify required parameter 'postID' is not null or undefined\r\n      if (postID === null || postID === undefined) {\r\n        throw new RequiredError('postID', 'Required parameter postID was null or undefined when calling userControllerSavePost.');\r\n      }\r\n      const localVarPath = `/api/user/save-post/{postID}`\r\n        .replace(`{${\"postID\"}}`, encodeURIComponent(String(postID)));\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'PUT' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      // authentication bearer required\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * UserApi - functional programming interface\r\n * @export\r\n */\r\nexport const UserApiFp = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    userControllerAddFollowing(id: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<boolean> {\r\n      const localVarFetchArgs = UserApiFetchParamCreator(configuration).userControllerAddFollowing(id, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     * For updating user's name, status and tags. To update profile image or banner image, use their upload endpoints instead.\r\n     * @param {UpdateProfileReqDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    userControllerEditProfile(body: UpdateProfileReqDto, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<Response> {\r\n      const localVarFetchArgs = UserApiFetchParamCreator(configuration).userControllerEditProfile(body, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response;\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     * Retrieve the current logged in user\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    userControllerGetUser(options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<UserDto> {\r\n      const localVarFetchArgs = UserApiFetchParamCreator(configuration).userControllerGetUser(options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} username\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    userControllerGetUserByUsername(username: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<UserDto> {\r\n      const localVarFetchArgs = UserApiFetchParamCreator(configuration).userControllerGetUserByUsername(username, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} ids\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    userControllerGetUsersByIDs(ids: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<GetUsersSuccessDto> {\r\n      const localVarFetchArgs = UserApiFetchParamCreator(configuration).userControllerGetUsersByIDs(ids, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    userControllerRemoveFollowing(id: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<boolean> {\r\n      const localVarFetchArgs = UserApiFetchParamCreator(configuration).userControllerRemoveFollowing(id, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} postID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    userControllerSavePost(postID: string, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<Response> {\r\n      const localVarFetchArgs = UserApiFetchParamCreator(configuration).userControllerSavePost(postID, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response;\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * UserApi - factory interface\r\n * @export\r\n */\r\nexport const UserApiFactory = function (configuration?: Configuration, fetch?: FetchAPI, basePath?: string) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    userControllerAddFollowing(id: string, options?: any) {\r\n      return UserApiFp(configuration).userControllerAddFollowing(id, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     * For updating user's name, status and tags. To update profile image or banner image, use their upload endpoints instead.\r\n     * @param {UpdateProfileReqDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    userControllerEditProfile(body: UpdateProfileReqDto, options?: any) {\r\n      return UserApiFp(configuration).userControllerEditProfile(body, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     * Retrieve the current logged in user\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    userControllerGetUser(options?: any) {\r\n      return UserApiFp(configuration).userControllerGetUser(options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} username\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    userControllerGetUserByUsername(username: string, options?: any) {\r\n      return UserApiFp(configuration).userControllerGetUserByUsername(username, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} ids\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    userControllerGetUsersByIDs(ids: string, options?: any) {\r\n      return UserApiFp(configuration).userControllerGetUsersByIDs(ids, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} id\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    userControllerRemoveFollowing(id: string, options?: any) {\r\n      return UserApiFp(configuration).userControllerRemoveFollowing(id, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {string} postID\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    userControllerSavePost(postID: string, options?: any) {\r\n      return UserApiFp(configuration).userControllerSavePost(postID, options)(fetch, basePath);\r\n    },\r\n  };\r\n};\r\n\r\n/**\r\n * UserApi - object-oriented interface\r\n * @export\r\n * @class UserApi\r\n * @extends {BaseAPI}\r\n */\r\nexport class UserApi extends BaseAPI {\r\n  /**\r\n   *\r\n   * @param {string} id\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof UserApi\r\n   */\r\n  public userControllerAddFollowing(id: string, options?: any) {\r\n    return UserApiFp(this.configuration).userControllerAddFollowing(id, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   * For updating user's name, status and tags. To update profile image or banner image, use their upload endpoints instead.\r\n   * @param {UpdateProfileReqDto} body\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof UserApi\r\n   */\r\n  public userControllerEditProfile(body: UpdateProfileReqDto, options?: any) {\r\n    return UserApiFp(this.configuration).userControllerEditProfile(body, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   * Retrieve the current logged in user\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof UserApi\r\n   */\r\n  public userControllerGetUser(options?: any) {\r\n    return UserApiFp(this.configuration).userControllerGetUser(options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} username\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof UserApi\r\n   */\r\n  public userControllerGetUserByUsername(username: string, options?: any) {\r\n    return UserApiFp(this.configuration).userControllerGetUserByUsername(username, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} ids\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof UserApi\r\n   */\r\n  public userControllerGetUsersByIDs(ids: string, options?: any) {\r\n    return UserApiFp(this.configuration).userControllerGetUsersByIDs(ids, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} id\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof UserApi\r\n   */\r\n  public userControllerRemoveFollowing(id: string, options?: any) {\r\n    return UserApiFp(this.configuration).userControllerRemoveFollowing(id, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} postID\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof UserApi\r\n   */\r\n  public userControllerSavePost(postID: string, options?: any) {\r\n    return UserApiFp(this.configuration).userControllerSavePost(postID, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n}\r\n/**\r\n * VideoApi - fetch parameter creator\r\n * @export\r\n */\r\nexport const VideoApiFetchParamCreator = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {CreateVideoDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    videoControllerCreateVideo(body: CreateVideoDto, options: any = {}): FetchArgs {\r\n      // verify required parameter 'body' is not null or undefined\r\n      if (body === null || body === undefined) {\r\n        throw new RequiredError('body', 'Required parameter body was null or undefined when calling videoControllerCreateVideo.');\r\n      }\r\n      const localVarPath = `/api/video`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'POST' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      // authentication bearer required\r\n\r\n      localVarHeaderParameter['Content-Type'] = 'application/json';\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n      const needsSerialization = (<any>\"CreateVideoDto\" !== \"string\") || localVarRequestOptions.headers['Content-Type'] === 'application/json';\r\n      localVarRequestOptions.body = needsSerialization ? JSON.stringify(body || {}) : (body || \"\");\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    videoControllerGetAllVideos(options: any = {}): FetchArgs {\r\n      const localVarPath = `/api/video`;\r\n      const localVarUrlObj = url.parse(localVarPath, true);\r\n      const localVarRequestOptions = Object.assign({ method: 'GET' }, options);\r\n      const localVarHeaderParameter = {} as any;\r\n      const localVarQueryParameter = {} as any;\r\n\r\n      // authentication bearer required\r\n\r\n      localVarUrlObj.query = Object.assign({}, localVarUrlObj.query, localVarQueryParameter, options.query);\r\n      // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\r\n      delete localVarUrlObj.search;\r\n      localVarRequestOptions.headers = Object.assign({}, localVarHeaderParameter, options.headers);\r\n\r\n      return {\r\n        url: url.format(localVarUrlObj),\r\n        options: localVarRequestOptions,\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * VideoApi - functional programming interface\r\n * @export\r\n */\r\nexport const VideoApiFp = function (configuration?: Configuration) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {CreateVideoDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    videoControllerCreateVideo(body: CreateVideoDto, options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<VideoDto> {\r\n      const localVarFetchArgs = VideoApiFetchParamCreator(configuration).videoControllerCreateVideo(body, options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    videoControllerGetAllVideos(options?: any): (fetch?: FetchAPI, basePath?: string) => Promise<GetAllVideosDto> {\r\n      const localVarFetchArgs = VideoApiFetchParamCreator(configuration).videoControllerGetAllVideos(options);\r\n      return (fetch: FetchAPI = portableFetch, basePath: string = BASE_PATH) => {\r\n        return fetch(basePath + localVarFetchArgs.url, localVarFetchArgs.options).then((response) => {\r\n          if (response.status >= 200 && response.status < 300) {\r\n            return response.json();\r\n          } else {\r\n            throw response;\r\n          }\r\n        });\r\n      };\r\n    },\r\n  }\r\n};\r\n\r\n/**\r\n * VideoApi - factory interface\r\n * @export\r\n */\r\nexport const VideoApiFactory = function (configuration?: Configuration, fetch?: FetchAPI, basePath?: string) {\r\n  return {\r\n    /**\r\n     *\r\n     * @param {CreateVideoDto} body\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    videoControllerCreateVideo(body: CreateVideoDto, options?: any) {\r\n      return VideoApiFp(configuration).videoControllerCreateVideo(body, options)(fetch, basePath);\r\n    },\r\n    /**\r\n     *\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     */\r\n    videoControllerGetAllVideos(options?: any) {\r\n      return VideoApiFp(configuration).videoControllerGetAllVideos(options)(fetch, basePath);\r\n    },\r\n  };\r\n};\r\n\r\n/**\r\n * VideoApi - object-oriented interface\r\n * @export\r\n * @class VideoApi\r\n * @extends {BaseAPI}\r\n */\r\nexport class VideoApi extends BaseAPI {\r\n  /**\r\n   *\r\n   * @param {CreateVideoDto} body\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof VideoApi\r\n   */\r\n  public videoControllerCreateVideo(body: CreateVideoDto, options?: any) {\r\n    return VideoApiFp(this.configuration).videoControllerCreateVideo(body, options)(this.fetch, this.basePath);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {*} [options] Override http request option.\r\n   * @throws {RequiredError}\r\n   * @memberof VideoApi\r\n   */\r\n  public videoControllerGetAllVideos(options?: any) {\r\n    return VideoApiFp(this.configuration).videoControllerGetAllVideos(options)(this.fetch, this.basePath);\r\n  }\r\n\r\n}\r\n","import {CreatePostBodyDto, PostsApi, UpdatePostBodyDto} from '../api/api';\r\nimport {Post, Tag} from \"../store/types\";\r\nimport {createEntityAdapter, createSlice, createAsyncThunk, PayloadAction} from \"@reduxjs/toolkit\";\r\n\r\n/*\r\nexport const submitPost = createdPost => {\r\n    let newPost: CreatePostBodyDto = {\r\n        title: createdPost.title,\r\n        content: createdPost.content,\r\n        tags: createdPost.tags,\r\n        featuredImg: ''\r\n    }\r\n    // console.log(\"POST CREATE SLICE\");\r\n    return dispatch => {\r\n        return fetch(`http://localhost:3001/api/posts`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                newPost,\r\n                // user: {_id: \"5f07dd25be9a5c6510208dce\"} // curUser._id }\r\n            }),\r\n        }).then((response) => {\r\n            return response.json();\r\n        }).then((res) => {\r\n            console.log(res);\r\n        }).catch(e => console.log(e))\r\n    }\r\n}\r\n*/\r\n\r\n/*\r\nexport const updatePost = createdPost => {\r\n    let newPost: CreatePostBodyDto = {\r\n        title: createdPost.title,\r\n        content: createdPost.content,\r\n        tags: createdPost.tags,\r\n        featuredImg: ''\r\n    }\r\n    // const slug = urlSlug(createdPost.title);\r\n    console.log(createdPost.slug);\r\n    return dispatch => {\r\n        return fetch(`http://localhost:3001/api/posts/${createdPost.slug}`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                newPost,\r\n                // user: { _id: \"5eeebd4d1333dd0f79ca9be3\" } //curUser._id }\r\n            }),\r\n        }).catch(e => console.log(e))\r\n    }\r\n}\r\n*/\r\n\r\nexport const submitPost = createAsyncThunk(\r\n    'submitPost',\r\n    async (createdPost: CreatePostBodyDto & { author: string }) => {\r\n        // console.log(createdPost.title + \" \" + createdPost.content);\r\n        const createPostSuccessDto = await new PostsApi().postsControllerCreatePost(createdPost);\r\n        const {_id, slug} = createPostSuccessDto;\r\n        const post: Post = {\r\n            featuredImg: createdPost.featuredImg,\r\n            likes: 0,\r\n            tags: createdPost.tags,\r\n            title: createdPost.title,\r\n            views: 0,\r\n            _id: _id,\r\n            slug: slug,\r\n            author: createdPost.author,\r\n            comments: [],\r\n            commentsCount: 0,\r\n            content: createdPost.content,\r\n            createdAt: Date.now().toString()\r\n        }\r\n        return post;\r\n    }\r\n)\r\n\r\nexport const updatePost = createAsyncThunk(\r\n    'updatePost',\r\n    async ({update, slug}: { update: UpdatePostBodyDto, slug: string }) => {\r\n        console.log(update);\r\n        console.log(slug);\r\n        const {_id, slug: newSlug} = await new PostsApi().postsControllerUpdatePostBySlug(update, slug);\r\n        return {update, _id, slug: newSlug, oldSlug: slug};\r\n    }\r\n);\r\n","import {UploadSuccess} from \"../api\";\r\nimport {JwtLocalStorageKey} from \"../constants\";\r\n\r\n// These functions are manually written because the generated version in `frontend/src/api` don't work for file upload\r\n// For example usage, see `frontend/src/pages/group/CreateGroupForm.tsx` around line 100\r\n\r\n/**\r\n * @returns the URL of the file (in a Promise)\r\n *\r\n * @param file The file we get from upload component is an array even for single uploads, but this function\r\n * will take *either* that array *or* the single file. Since the back end only handles 1 file at a time, it will use the\r\n * first file in the array, if it's an array\r\n */\r\nexport function uploadUserProfilePic(file: File | File[]): Promise<string> {\r\n    return uploadHelper(file, \"profile-pic\");\r\n}\r\n\r\n/**\r\n * @returns the URL of the file (in a Promise)\r\n *\r\n * @param file The file we get from upload component is an array even for single uploads, but this function\r\n * will take *either* that array *or* the single file. Since the back end only handles 1 file at a time, it will use the\r\n * first file in the array, if it's an array\r\n */\r\nexport function uploadUserBannerPic(file: File | File[]): Promise<string> {\r\n    return uploadHelper(file, \"profile-banner-pic\");\r\n}\r\n\r\n/**\r\n * The same as uploadPublicAsset.\r\n *\r\n * @returns the URL of the file (in a Promise)\r\n *\r\n * @param file The file we get from upload component is an array even for single uploads, but this function\r\n * will take *either* that array *or* the single file. Since the back end only handles 1 file at a time, it will use the\r\n * first file in the array, if it's an array\r\n */\r\nexport function uploadPublicVideo(file: File | File[]): Promise<string> {\r\n    return uploadPublicAsset(file);\r\n}\r\n\r\n/**\r\n * For uploading anything non-private and not user profile picture or user profile banner.\r\n *\r\n * @returns the URL of the file (in a Promise)\r\n *\r\n * @param file The file we get from upload component is an array even for single uploads, but this function\r\n * will take *either* that array *or* the single file. Since the back end only handles 1 file at a time, it will use the\r\n * first file in the array, if it's an array\r\n */\r\nexport function uploadPublicAsset(file: File | File[]): Promise<string> {\r\n    return uploadHelper(file, \"public/asset\");\r\n}\r\n\r\n\r\nasync function uploadHelper(file: File | File[], endpoint: string): Promise<string> {\r\n    if (Array.isArray(file)) {\r\n        file = file[0];\r\n    }\r\n    const data = new FormData();\r\n    data.append('file', file);\r\n    const result: UploadSuccess = await fetch(`http://ec2-13-229-215-75.ap-southeast-1.compute.amazonaws.com/${endpoint}`, {\r\n        headers: {\r\n            'Authorization': 'Bearer ' + localStorage.getItem(JwtLocalStorageKey),\r\n        },\r\n        method: 'POST',\r\n        body: data\r\n    }).then(res => res.json());\r\n    return result.url;\r\n}","import React, {useState} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {User} from \"../../store/types\";\r\nimport {RootState} from \"../../reducers/rootReducer\";\r\nimport {submitPost, updatePost} from \"../../reducers/postsCreationSlice\";\r\nimport {AppDispatch} from \"../../store\";\r\nimport {unwrapResult} from \"@reduxjs/toolkit\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport PurpleButton from \"../common/PurpleButton\";\r\nimport {uploadPublicAsset} from \"../../api-upload\";\r\n\r\nconst useStyles = makeStyles({\r\n    operation: {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        flex: 0,\r\n        marginTop: \"20px\",\r\n    }\r\n});\r\n\r\nconst onCancel = (params, dispatch) => {\r\n    const newPost = {\r\n        title: params.title,\r\n        content: params.content,\r\n        tags: params.tags,\r\n        featuredImg: params.img,\r\n    }\r\n    console.log(\"SUBMIT\" + newPost);\r\n}\r\n\r\n\r\nexport default function Submit(params) {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch<AppDispatch>();\r\n    const history = useHistory();\r\n    // const createdPost = useSelector<RootState, PostsCreation>(state => state.postsCreation);\r\n    const curUser = useSelector<RootState, User>(state => state.user);\r\n\r\n    const onSubmit = async (params, author, dispatch, history) => {\r\n        // console.log(newPost);\r\n        let featuredImg: string;\r\n        if (params.img) {\r\n            featuredImg = await uploadPublicAsset(params.img);\r\n        }\r\n\r\n        const newPost = {\r\n            title: params.title,\r\n            content: params.content,\r\n            tags: params.tags,\r\n            featuredImg,\r\n            author: author,\r\n        }\r\n        // Handle update differently\r\n        if (params.isUpdate) {\r\n            dispatch(updatePost({update: newPost, slug: params.isUpdate})).then(unwrapResult).then(\r\n                dto => {\r\n                    history.push(`/post/${dto.slug}`)\r\n                }\r\n            );\r\n        } else {\r\n            // Create new post\r\n            dispatch(submitPost(newPost)).then(unwrapResult).then(\r\n                dto => {\r\n                    console.log(\"CREATEPOST::SUBMIT\");\r\n                    console.log(dto);\r\n                    history.push(`/post/${dto.slug}`)\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n    console.log(\"CREATEPOST::SUBMIT\");\r\n    console.log(params.tags);\r\n\r\n    return (\r\n        <div className={classes.operation}>\r\n            <div onClick={(event) => {\r\n                onCancel(params, dispatch);\r\n            }}>\r\n                <PurpleButton content=\"Cancel\"/>\r\n            </div>\r\n            <div style={{width: \"15px\"}}></div>\r\n            <div onClick={(event) => {\r\n                onSubmit(params, curUser, dispatch, history);\r\n            }}>\r\n                <PurpleButton content=\"Submit\"/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n","import React, {useState} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport ImgP from \"./ImgPanel\";\r\nimport TextP from \"./TextPanel\";\r\nimport TagP from \"./TagPanel\";\r\nimport Submit from \"./Submit\";\r\nimport AddMultiple from \"../group/AddMuliple\";\r\nimport {RootState} from \"../../reducers/rootReducer\";\r\nimport {Dictionary} from \"@reduxjs/toolkit\";\r\nimport {Tag} from \"../../store/types\";\r\nimport {useSelector} from \"react-redux\";\r\nimport styled from '@emotion/styled';\r\n\r\nconst useStyles = makeStyles({\r\n    createPost: {\r\n        paddingTop: \"7vh\",\r\n        paddingBottom: \"7vh\",\r\n        // paddingTop: \"3em\",\r\n        display: \"flex\",\r\n        flex: 1,\r\n        flexDirection: \"column\",\r\n        height: \"110vh\",\r\n        alignItems: \"center\",\r\n        // overflowY: \"scroll\",\r\n    }\r\n});\r\n\r\nexport const TagsContainer = styled.div`\r\n  background-color: white;\r\n  width: 49em;\r\n  height: 20vh;\r\n  display: flex;\r\n  box-shadow: 3px 3px #F2F2F2;\r\n  border-radius: 5px;\r\n  padding-left: 2em;\r\n  padding-top: 1em;\r\n`;\r\nexport default function CreatePost() {\r\n    const classes = useStyles();\r\n    const [title, setTitle] = useState('');\r\n    const [content, setContent] = useState('');\r\n    const [postTags, setPostTags] = useState([]);\r\n    const [featuredImg, setImg] = useState('');\r\n    const allTags = useSelector<RootState, Dictionary<Tag>>(state => state.tags.entities);\r\n    const allTagsArr = Object.values(allTags);\r\n    // console.log(\"CREATEPOST::INDEX\");\r\n    // console.log(allTags);\r\n    // console.log(allTagsArr);\r\n    // console.log(postTags);\r\n\r\n    return (\r\n        <div className={classes.createPost}>\r\n            <ImgP setImg={setImg}/>\r\n            <TextP setTitle={setTitle} setContent={setContent}/>\r\n            <TagP setPostTags={setPostTags} allTagsArr={allTagsArr}/>\r\n            <Submit title={title} content={content} tags={postTags} img={featuredImg}/>\r\n        </div>\r\n    );\r\n}\r\n","// tslint:disable\n/**\n * Coder Community\n * The Coder Community API description\n *\n * OpenAPI spec version: 0.0.2\n * \n *\n * NOTE: This class is auto generated by the swagger code generator program.\n * https://github.com/swagger-api/swagger-codegen.git\n * Do not edit the class manually.\n */\n\nexport interface ConfigurationParameters {\n    apiKey?: string | ((name: string) => string);\n    username?: string;\n    password?: string;\n    accessToken?: string | ((name: string, scopes?: string[]) => string);\n    basePath?: string;\n}\n\nexport class Configuration {\n    /**\n     * parameter for apiKey security\n     * @param name security name\n     * @memberof Configuration\n     */\n    apiKey?: string | ((name: string) => string);\n    /**\n     * parameter for basic security\n     * \n     * @type {string}\n     * @memberof Configuration\n     */\n    username?: string;\n    /**\n     * parameter for basic security\n     * \n     * @type {string}\n     * @memberof Configuration\n     */\n    password?: string;\n    /**\n     * parameter for oauth2 security\n     * @param name security name\n     * @param scopes oauth2 scope\n     * @memberof Configuration\n     */\n    accessToken?: string | ((name: string, scopes?: string[]) => string);\n    /**\n     * override base path\n     * \n     * @type {string}\n     * @memberof Configuration\n     */\n    basePath?: string;\n\n    constructor(param: ConfigurationParameters = {}) {\n        this.apiKey = param.apiKey;\n        this.username = param.username;\n        this.password = param.password;\n        this.accessToken = param.accessToken;\n        this.basePath = param.basePath;\n    }\n}\n","import {createEntityAdapter, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport { Comment } from \"../store/types\";\r\nimport {CreateCommentServerToClientDto} from \"../ws-dto/comments/dto/createComment.ws.dto\";\r\nimport {GetCommentsServerToClientDto} from \"../ws-dto/comments/dto/getCommentsByPostID.ws.dto\";\r\n\r\nconst commentsAdapter = createEntityAdapter<Comment>({\r\n  selectId: item => item._id\r\n});\r\n\r\nexport const commentsSlice = createSlice({\r\n  name: \"comments\",\r\n  initialState: commentsAdapter.getInitialState<{isLoading: boolean}>({\r\n    isLoading: false,\r\n  }),//also has ids[] and entities{}\r\n  reducers: {\r\n    getCommentsByPostIDSuccess: (state, action: PayloadAction<GetCommentsServerToClientDto>) => {\r\n      commentsAdapter.upsertMany(state, action.payload.comments);\r\n    },\r\n    createCommentPending: (state) => {state.isLoading = true},\r\n    createCommentSuccess: (state, action: PayloadAction<CreateCommentServerToClientDto>) => {\r\n      state.isLoading = false;\r\n      commentsAdapter.addOne(state, action.payload.comment);\r\n      // if comment is a reply to the comment, then update the parent comment\r\n      const parentComment = action.payload.comment.parentComment;\r\n      if (parentComment) {\r\n        state.entities[parentComment].replies.push(action.payload.comment._id);\r\n      }\r\n    }\r\n  },\r\n  extraReducers: {}\r\n})\r\n\r\nexport default commentsSlice.reducer;\r\nexport const {createCommentPending, createCommentSuccess, getCommentsByPostIDSuccess} = commentsSlice.actions;","import {createAsyncThunk, createEntityAdapter, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {\r\n  GetInitialDataDto,\r\n  GetInitialDataLoggedInDto,\r\n  GetPostDetailsSuccessDto,\r\n  GetPostsByTagDto,\r\n  PostsApi,\r\n  TrendingApi,\r\n  UpdatePostBodyDto,\r\n  UpdatePostSuccessDto\r\n} from \"../api\";\r\nimport {RootState} from \"./rootReducer\";\r\nimport {Post, User} from \"../store/types\";\r\nimport {createCommentSuccess, getCommentsByPostIDSuccess} from \"./commentsSlice\";\r\nimport {GetCommentsServerToClientDto} from \"../ws-dto/comments/dto/getCommentsByPostID.ws.dto\";\r\nimport {CreateCommentServerToClientDto} from \"../ws-dto/comments/dto/createComment.ws.dto\";\r\nimport {PostIDPayload, toggleLikePost, userSlice} from './userSlice';\r\nimport {submitPost, updatePost} from \"./postsCreationSlice\";\r\nimport _ from \"lodash\";\r\n\r\n\r\n\r\nconst postsAdapter = createEntityAdapter<Post>({\r\n  selectId: item => item._id\r\n});\r\n\r\n//https://redux-toolkit.js.org/api/createAsyncThunk\r\nexport const fetchTrendingPosts = createAsyncThunk(\r\n  'fetchTrendingPosts',\r\n  async ({fetchCount}: { fetchCount: number }, {getState, rejectWithValue}) => {\r\n    const api = new TrendingApi();\r\n    let initialData: GetInitialDataLoggedInDto | GetInitialDataDto;\r\n    const isLoggedIn = (getState() as RootState).isLoggedIn;\r\n    console.log(\"fetchTrendingPosts... isLoggedIn:\", isLoggedIn);\r\n    try {\r\n      if (isLoggedIn) {\r\n        initialData = await api.trendingControllerGetTrendingLoggedIn(fetchCount);\r\n      } else {\r\n        initialData = await api.trendingControllerGetTrending(fetchCount);\r\n      }\r\n    } catch (err) {\r\n      console.log(\"Got err from fetchTrendingPosts api call\", err);\r\n      return rejectWithValue(null);\r\n    }\r\n\r\n    return initialData; //{users[], posts[], tags[]}\r\n  }\r\n);\r\n\r\n// The backend endpoint can also take optional parameters for excluded post IDs and startIdx\r\nexport const fetchPostsByTag = createAsyncThunk(\r\n  'fetchPostsByTag',\r\n  async ({tagID, startIdx}: { tagID: string, startIdx: number }, {rejectWithValue}) => {\r\n    let payload: GetPostsByTagDto;\r\n    try {\r\n      payload = await new PostsApi().tagsControllerGetPostsByTag(tagID, undefined, startIdx);\r\n    } catch (err) {\r\n      return rejectWithValue(tagID);\r\n    }\r\n\r\n    return payload;\r\n  }\r\n)\r\n\r\nexport const fetchPostBySlug = createAsyncThunk(\r\n  'fetchPostBySlug',\r\n  ({slug, getAuthor}: { slug: string, getAuthor: boolean }) => new PostsApi().postsControllerGetPostBySlug(slug, getAuthor)\r\n)\r\n\r\nexport const fetchPostByID = createAsyncThunk(\r\n  'fetchPostByID',\r\n  ({id, getAuthor}: { id: string, getAuthor: boolean }) => new PostsApi().postsControllerGetPostByID(id, getAuthor)\r\n)\r\n\r\n//https://redux-toolkit.js.org/api/createSlice\r\nexport const postsSlice = createSlice({\r\n  name: \"posts\",\r\n  initialState: postsAdapter.getInitialState<{\r\n    trendingPosts: string[],\r\n    trendingPostsSet: Record<string, boolean>,\r\n    slugToID: Record<string, string>,\r\n    trendingPostFetchCount: number,\r\n    fetchedComments: Record<string, boolean>,\r\n    hasMorePosts: boolean\r\n  }>({ //extends EntityState\r\n    trendingPosts: [],\r\n    trendingPostsSet: {},\r\n    slugToID: {},\r\n    trendingPostFetchCount: 0,\r\n    fetchedComments: {},\r\n    hasMorePosts: true,//only for trending posts (of all tags)\r\n  }),//also has ids[] and entities{}\r\n  reducers: {\r\n    deletePost: (state, action) => {\r\n      postsAdapter.removeOne(state, action.payload.postID);\r\n      delete state.trendingPostsSet[action.payload.postID];\r\n      _.pull(state.trendingPosts, action.payload.postID);\r\n    }\r\n  },\r\n  extraReducers: {\r\n    [fetchTrendingPosts.pending.type]: (state, action: PayloadAction<GetInitialDataDto | GetInitialDataLoggedInDto>) => {\r\n      state.trendingPostFetchCount++;\r\n    },\r\n    [fetchTrendingPosts.fulfilled.type]: (state, action: PayloadAction<GetInitialDataDto | GetInitialDataLoggedInDto>) => {\r\n      action.payload.posts.forEach(post => {\r\n        state.slugToID[post.slug] = post._id;\r\n        if (!state.trendingPostsSet[post._id]) {\r\n          state.trendingPostsSet[post._id] = true;\r\n          state.trendingPosts.push(post._id);\r\n        }\r\n      })\r\n      postsAdapter.upsertMany(state, action.payload.posts) //add posts to ids and entities\r\n    },\r\n    [fetchTrendingPosts.rejected.type]: (state, action) => {\r\n      state.hasMorePosts = false;\r\n    },\r\n    [fetchPostBySlug.fulfilled.type]: (state, action: PayloadAction<GetPostDetailsSuccessDto>) => {\r\n      const post = action.payload.post;\r\n      const _id = post._id;\r\n      state.slugToID[post.slug] = _id;\r\n      postsAdapter.upsertOne(state, post);\r\n    },\r\n    [fetchPostByID.fulfilled.type]: (state, action: PayloadAction<GetPostDetailsSuccessDto>) => {\r\n      const post = action.payload.post;\r\n      const _id = post._id;\r\n      state.slugToID[post.slug] = _id;\r\n      postsAdapter.upsertOne(state, post);\r\n    },\r\n    [fetchPostsByTag.fulfilled.type]: (state, action: PayloadAction<GetPostsByTagDto>) => {\r\n      postsAdapter.upsertMany(state, action.payload.posts);\r\n    },\r\n    'user/toggleLikePost': (state, action: PayloadAction<PostIDPayload & { increment: boolean }>) => {\r\n      if (action.payload.increment) {\r\n        state.entities[action.payload.postID].likes++;\r\n      } else {\r\n        state.entities[action.payload.postID].likes--;\r\n      }\r\n    },\r\n\r\n    // Create and update post:\r\n    [submitPost.fulfilled.type]: (state, action: PayloadAction<Post>) => {\r\n      const newPost = action.payload;\r\n      postsAdapter.addOne(state, newPost);\r\n    },\r\n    [updatePost.fulfilled.type]: (state, action: PayloadAction<UpdatePostSuccessDto & UpdatePostBodyDto>) => {\r\n      state.slugToID[action.payload.slug] = state.slugToID[action.payload.oldSlug];\r\n      console.log(\"POSTSLICE::UPDATEPOST\");\r\n      console.log(action.payload);\r\n      // state.slugToID.delete(action.payload.slug);\r\n      postsAdapter.updateOne(state, {\r\n            id: action.payload._id,\r\n            changes: action.payload\r\n      });\r\n      console.log(\"** UPDATE DONE **\");\r\n    },\r\n    [getCommentsByPostIDSuccess.type]: (state, action: PayloadAction<GetCommentsServerToClientDto>) => {\r\n      state.fetchedComments[action.payload.postID] = true;\r\n    },\r\n    [createCommentSuccess.type]: (state, action: PayloadAction<CreateCommentServerToClientDto>) => {\r\n      if (action.payload.comment.commentRoot === 'post') {\r\n        state.entities[action.payload.comment.parentPost].comments.push(action.payload.comment._id);\r\n      }\r\n    }\r\n  }\r\n})\r\n\r\nexport default postsSlice.reducer;\r\nexport const { deletePost } = postsSlice.actions;","import React from \"react\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nexport function Loading() {\r\n  return <CircularProgress />;\r\n}\r\n","import React from 'react';\r\nimport NotFoundSvg from \"../../assets/404.svg\";\r\n\r\nexport function NotFoundError() {\r\n\r\n  return <div style={{display: \"flex\", width: \"100vw\", height: \"100vh\", position: \"absolute\", justifyContent: \"center\"}}>\r\n    <img src={NotFoundSvg} alt=\"Not Found!\"/>\r\n  </div>;\r\n}\r\n","import React from 'react';\r\nimport NotFoundSvg from \"../../assets/404.svg\";\r\n\r\nexport function NoAccessibilityError() {\r\n    return <div style={{display: \"flex\", width: \"100vw\", height: \"100vh\", position: \"absolute\", justifyContent: \"center\"}}>\r\n        <img src={NotFoundSvg} alt=\"No Accessibility!\"/>\r\n    </div>;\r\n}\r\n","import React from \"react\";\r\nimport NotFoundSvg from \"../../assets/404.svg\";\r\n\r\nexport function NotLoggedInError() {\r\n    return <div style={{display: \"flex\", width: \"100vw\", height: \"100vh\", position: \"absolute\", justifyContent: \"center\"}}>\r\n        <img src={NotFoundSvg} alt=\"Please log in first to see this page!\"/>\r\n    </div>\r\n}","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AddMultiple from \"../group/AddMuliple\";\r\n\r\nconst useStyles = makeStyles({\r\n  cptag: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"50vh\",\r\n    width: \"40vw\",\r\n    backgroundColor: \"white\",\r\n    boxShadow: \"3px 3px #F2F2F2\",\r\n    marginBottom: \"1em\",\r\n    borderRadius: \"5px\",\r\n    paddingLeft: \"1.5em\",\r\n    paddingRight: \"1.5em\",\r\n  },\r\n  h4: {\r\n    marginBottom: \"0.5em\",\r\n  },\r\n  display: {\r\n    fontWeight: \"bold\",\r\n    marginBottom: \"1em\",\r\n  },\r\n  input: {\r\n    width: \"100%\",\r\n    height: \"2em\",\r\n    border: \"none\",\r\n    outline: \"none\",\r\n    background: \"white\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"#F2F2F2\",\r\n    },\r\n  },\r\n  tags: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    margin: \"0 0\",\r\n    padding: \"0 0\",\r\n  },\r\n});\r\n\r\nexport default function TagPanel(params) {\r\n  const classes = useStyles();\r\n  const alltags = []; // useState<RootState, >()\r\n  // console.log(\"UPDATEPOST::TAGPANEL\");\r\n  // console.log(params.allTagsArr);\r\n  // console.log(params.oldTagsID);\r\n  return (\r\n      <div className={classes.cptag}>\r\n        <form id=\"tagform\">\r\n          <AddMultiple label=\"Add Tags\" options={params.allTagsArr} defaultValID={params.oldTagsID} setItems={params.setPostTags} panelWidth={\"40vw\"} />\r\n        </form>\r\n      </div>\r\n  );\r\n}\r\n","import React, {useState} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {User} from \"../../store/types\";\r\nimport {RootState} from \"../../reducers/rootReducer\";\r\nimport {submitPost, updatePost} from \"../../reducers/postsCreationSlice\";\r\nimport {AppDispatch} from \"../../store\";\r\nimport {unwrapResult} from \"@reduxjs/toolkit\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport PurpleButton from \"../common/PurpleButton\";\r\nimport {uploadPublicAsset} from \"../../api-upload\";\r\n\r\nconst useStyles = makeStyles({\r\n  operation: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    flex: 0,\r\n    marginTop: \"20px\",\r\n  }\r\n});\r\n\r\nconst onCancel = (params, dispatch) => {\r\n  const newPost = {\r\n    title: params.title,\r\n    content: params.content,\r\n    tags: params.tags,\r\n    featuredImg: params.img,\r\n  }\r\n  // console.log(\"SUBMIT\" + newPost);\r\n}\r\n\r\n\r\nexport default function Submit(params) {\r\n  // console.log(\"UPDATEPOST::SUBMIT\");\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch<AppDispatch>();\r\n  const history = useHistory();\r\n  // const createdPost = useSelector<RootState, PostsCreation>(state => state.postsCreation);\r\n  const curUser = useSelector<RootState, User>(state => state.user);\r\n\r\n  // const onSubmit = async (params, author, dispatch, history) => {\r\n  const onSubmit = async () => {\r\n    console.log(\"UPDATEPOST::INDEX::ONSUBMIT\");\r\n    let featuredImg: string;\r\n    if (params.img) {\r\n      featuredImg = await uploadPublicAsset(params.img);\r\n    }\r\n\r\n    console.log(params.tags);\r\n    const newPost = {\r\n      title: params.title,\r\n      content: params.content,\r\n      tags: params.tags,\r\n      featuredImg,\r\n      author: curUser._id,\r\n    }\r\n    // Handle update differently\r\n    if (params.isUpdate) {\r\n      dispatch(updatePost({update: newPost, slug: params.isUpdate})).then(unwrapResult).then(\r\n        dto => {\r\n          // console.log(\"UPDATEPOST::SUBMIT::onsubmit\");\r\n          // console.log(dto.slug);\r\n          // console.log(dto);\r\n          // console.log(params.tags);\r\n          history.push(`/post/${dto.slug}`)\r\n        }\r\n      );\r\n    } else {\r\n      // Create new post\r\n      dispatch(submitPost(newPost))\r\n        .then(unwrapResult)\r\n        .then(dto => {\r\n          // console.log(\"UPDATEPOST::SUBMIT::onSubmit\");\r\n          // console.log(dto.slug);\r\n          history.push(`/post/${dto.slug}`)\r\n        });\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <div className={classes.operation}>\r\n      <div onClick={(event) => {\r\n        onCancel(params, dispatch);\r\n      }}>\r\n        <PurpleButton content=\"Cancel\"/>\r\n      </div>\r\n      <div style={{width: \"15px\"}}></div>\r\n      {/*<button onClick={(event) => {\r\n        onSubmit(params, curUser, dispatch, history);\r\n      }}>*/}\r\n      <PurpleButton content=\"Submit\" handleClick={onSubmit} />\r\n    </div>\r\n  );\r\n}\r\n","import React, {useEffect, useState} from \"react\";\r\nimport {Redirect, useParams} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppDispatch} from \"../../store\";\r\nimport {RootState} from \"../../reducers/rootReducer\";\r\nimport {Post, Tag, User} from \"../../store/types\";\r\nimport defaultPostFeaturedImage from \"../../assets/defaultPostFeaturedImage.jpg\";\r\nimport {fetchPostBySlug} from \"../../reducers/postsSlice\";\r\nimport {Loading} from \"../common/Loading\";\r\nimport {NotFoundError} from \"../common/NotFoundError\";\r\nimport {NoAccessibilityError} from \"../common/NoAccessibilityError\";\r\nimport {NotLoggedInError} from \"../common/NotLoggedInError\";\r\nimport ImgP from \"../create_post/ImgPanel\";\r\nimport TextP from \"../create_post/TextPanel\";\r\nimport TagP from \"./TagPanel\";\r\nimport Submit from \"./Submit\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Dictionary, unwrapResult} from \"@reduxjs/toolkit\";\r\n\r\nconst useStyles = makeStyles({\r\n  createPost: {\r\n    paddingTop: \"7vh\",\r\n    paddingBottom: \"7vh\",\r\n    // paddingTop: \"3em\",\r\n    display: \"flex\",\r\n    flex: 1,\r\n    flexDirection: \"column\",\r\n    height: \"110vh\",\r\n    alignItems: \"center\",\r\n    // overflowY: \"scroll\",\r\n  }\r\n});\r\n\r\nexport default function UpdatePost() {\r\n  // console.log(\"UPDATEPOST::INDEX\");\r\n  const {slug} = useParams<{ slug: string }>();\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch<AppDispatch>();\r\n\r\n  const allTags = useSelector<RootState, Dictionary<Tag>>(state => state.tags.entities);\r\n  const allTagsArr = Object.values(allTags);\r\n\r\n  const {post} = useSelector<RootState, { post: Post }>(state => {\r\n    const postID = state.posts.slugToID[slug];\r\n    if (!postID) {\r\n      return {post: null};\r\n    }\r\n    const post = state.posts.entities[postID];\r\n    return {post};\r\n  })\r\n\r\n  // fetch tags\r\n  const tags = useSelector<RootState, Dictionary<Tag>>(state => state.tags.entities);\r\n  const tagsArray = Object.values(tags);\r\n  let oldTagsIDArr = []\r\n  const oldTagsSet = new Set(post.tags);\r\n  for (let i = 0; i < tagsArray.length; i++) {\r\n    if (oldTagsSet.has(tagsArray[i]._id))\r\n      oldTagsIDArr.push(i);\r\n  }\r\n\r\n  const user = useSelector<RootState, User>(state => state.user);\r\n  const [title, setTitle] = useState(post?.title);\r\n  const [content, setContent] = useState(post?.content);\r\n  const [postTags, setPostTags] = useState(post?.tags);\r\n  const [featuredImg, setImg] = useState(post?.featuredImg);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (slug == null || slug === \"\") {\r\n      return;\r\n    }\r\n    if (!post?.content) {\r\n      dispatch(fetchPostBySlug({slug, getAuthor: false}))\r\n        .then(unwrapResult)\r\n        .then(dto => {\r\n          setTitle(dto.post.title);\r\n          setContent(dto.post.content);\r\n          setPostTags(dto.post.tags);\r\n        })\r\n        .catch(setError);\r\n    }\r\n  }, []);\r\n\r\n  if (slug == null || slug === \"\") {\r\n    return <Redirect to=\"/\"/>\r\n  }\r\n\r\n  if (!post?.content) {\r\n    return <Loading/>\r\n  }\r\n\r\n  if (error) {\r\n    return <NotFoundError/>\r\n  }\r\n\r\n  // console.log(\"UPDATEPOST::INDEX\");\r\n  if (!user) {\r\n    return <NotLoggedInError/>\r\n  }\r\n  if (user._id !== post.author) {\r\n    return <NoAccessibilityError/>\r\n  }\r\n\r\n  return (\r\n    <div className={classes.createPost}>\r\n      <ImgP setImg={setImg}/>\r\n      <TextP setTitle={setTitle} setContent={setContent} title={post?.title} content={post?.content}/>\r\n      <TagP setPostTags={setPostTags} allTagsArr={allTagsArr} oldTagsID={oldTagsIDArr}/>\r\n      <Submit title={title} content={content} tags={postTags} img={featuredImg} isUpdate={post?.slug}/>\r\n    </div>\r\n  );\r\n}","import { makeStyles } from '@material-ui/core/styles';\r\nimport React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { RootState } from '../../reducers/rootReducer';\r\nimport { CurrentLoggedInUser, User } from '../../store/types';\r\nimport { Loading } from '../common/Loading';\r\nimport \"../../App.css\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: \"14vw\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"93vh\",\r\n    cursor: \"pointer\",\r\n    paddingLeft: \"7em\",\r\n    position: \"fixed\",\r\n    marginLeft: \"8vw\",\r\n    marginTop: \"4vh\",\r\n  },\r\n  diplayAccount: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  },\r\n  displayImg: {\r\n    width: \"5em\",\r\n    height: \"5em\",\r\n    borderRadius: \"50%\",\r\n    marginTop: \"2em\",\r\n    marginRight: \"1em\",\r\n  },\r\n  displayName: {\r\n    marginTop: \"4em\",\r\n    color: \"#5DCBAF\",\r\n  },\r\n  groupLinks: {\r\n    marginTop: \"2em\",\r\n  },\r\n  showPostsText: {\r\n    marginTop: \"1em\",\r\n    borderBottom: \"solid 1px lightgray\",\r\n    fontSize: \"large\",\r\n    fontFamily: \"Passion One, cursive\",\r\n    color: \"#707070\",\r\n  },\r\n  link: {\r\n    textDecoration: \"none\",\r\n  },\r\n});\r\n\r\nconst LeftSideBar = () => {\r\n  const classes = useStyles();\r\n  const user = useSelector<RootState, CurrentLoggedInUser>(state => state.user);\r\n  const isLoggedIn = useSelector<RootState, boolean>(state => state.isLoggedIn);\r\n\r\n  const history = useHistory(); //to redirect to different route (from current route)\r\n\r\n  if (!user) {\r\n    return <Loading />\r\n  }\r\n\r\n  return (\r\n      <div className={classes.root}>\r\n        {isLoggedIn &&\r\n        <div className={classes.diplayAccount}>\r\n          <img className={classes.displayImg} src={user.profilePic} alt=\"\" />\r\n          <Link to={`/user/${user.userID}`} className={classes.link}>\r\n            <h3 className={classes.displayName}>{user.name}</h3>\r\n          </Link>\r\n        </div>\r\n        }\r\n        <div className={classes.groupLinks}>\r\n          <h3>Daily Challenge</h3>\r\n          {isLoggedIn &&\r\n          <Link to={`/messages`} className={classes.link}>\r\n            <h3>Messages</h3>\r\n          </Link>\r\n          }\r\n          <h3>Hacker News</h3>\r\n          <h3>Posts</h3>\r\n          <h3>Videos</h3>\r\n\r\n          <h3 onClick={() => {\r\n            history.push(\"/home/groups\");\r\n          }}>Groups</h3>\r\n\r\n          {/* <FilterPost /> */}\r\n        </div>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default LeftSideBar;\r\n","import { Dictionary } from \"@reduxjs/toolkit\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { GetInitialDataDto, GetInitialDataLoggedInDto } from \"../api\";\r\nimport { RootState } from \"../reducers/rootReducer\";\r\nimport { User } from \"../store/types\";\r\n\r\nexport const getRandomInt = (len) => {\r\n  // get a random number from 200-350\r\n  const randomNumber = Math.floor(Math.random() * len);\r\n  return randomNumber;\r\n};\r\n\r\nexport const randomImage = () => {\r\n  // get a random number from 200-350\r\n  const randomNumber = Math.floor(Math.random() * 150 + 200);\r\n  return `https://picsum.photos/${randomNumber}`;\r\n};\r\n\r\nexport const randomBackgroundImage = () => {\r\n  // get a random number from 1000-1400\r\n  const randomNumber = Math.floor(Math.random() * 400 + 1000);\r\n  return `https://picsum.photos/${randomNumber}`;\r\n};\r\n\r\nexport const howLongAgo = (unixTime) => {\r\n  const diff = Date.now() - unixTime;\r\n  if (diff < 60 * 1000) {\r\n    return \"Just now\";\r\n  }\r\n\r\n  const minutes = Math.round(diff / 60000);\r\n\r\n  if (minutes === 1) {\r\n    return \"1 minute ago\";\r\n  }\r\n  if (minutes < 60) {\r\n    return `${minutes} minutes ago`;\r\n  }\r\n\r\n  const hours = Math.round(minutes / 60);\r\n  if (hours === 1) {\r\n    return \"1 hour ago\";\r\n  }\r\n  if (hours < 24) {\r\n    return `${hours} hours ago`;\r\n  }\r\n\r\n  const days = Math.round(hours / 24);\r\n  if (days === 1) {\r\n    return \"1 day ago\";\r\n  }\r\n  if (days < 7) {\r\n    return `${days} days ago`;\r\n  }\r\n\r\n  const weeks = Math.round(days / 7);\r\n  if (weeks === 1) {\r\n    return \"1 week ago\";\r\n  }\r\n  if (weeks < 4) {\r\n    return `${weeks} weeks ago`;\r\n  }\r\n\r\n  const months = Math.round(weeks / 4);\r\n  if (months === 1) {\r\n    return \"1 month ago\";\r\n  }\r\n  if (months < 12) {\r\n    return `${months} months ago`;\r\n  }\r\n\r\n  const years = Math.round(months / 12);\r\n  if (years === 1) {\r\n    return \"1 year ago\";\r\n  }\r\n  return `${years} years ago`;\r\n};\r\n\r\n/**\r\n *\r\n * @param arr backend response eg: posts[], users[]\r\n * convert to maps from _id to Post, User etc.\r\n */\r\nexport const convertArrToMap = (arr): Record<string, any> => {\r\n  return arr.reduce((map, obj) => {\r\n    map[obj._id] = obj;\r\n    return map;\r\n  }, {});\r\n}\r\n\r\n// Type check\r\nexport const isGetInitialDataLoggedInDto\r\n  = (dto: GetInitialDataDto | GetInitialDataLoggedInDto): dto is GetInitialDataLoggedInDto => !!(dto as any).user\r\n\r\n\r\nexport const getFollowingFollowersOfUser = (users: Dictionary<User>, user: User): User[] => {\r\n  let followingFollowers: User[] = [];\r\n  user.followers.concat(user.following).forEach((_id) => {\r\n    if (users[_id]) {\r\n      followingFollowers.push(users[_id])\r\n    }\r\n  });\r\n  return Object.values(convertArrToMap(followingFollowers));\r\n}","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { JwtLocalStorageKey } from \"../constants\";\r\n\r\n//https://redux-toolkit.js.org/api/createSlice\r\nexport const isLoggedInSlice = createSlice({\r\n  name: \"isLoggedIn\",\r\n  initialState: !!localStorage.getItem(JwtLocalStorageKey),//also has ids[] and entities{}\r\n  reducers: {\r\n    loginSuccess: {\r\n      reducer: (user, action: PayloadAction<null>) => {\r\n        return true;\r\n      },\r\n      prepare: ({jwt}: {jwt: string}) => {\r\n        localStorage.setItem(JwtLocalStorageKey, jwt);\r\n        return {payload: null};\r\n      },\r\n    },\r\n    logOut: {\r\n      reducer: (user, action: PayloadAction<null>) => {\r\n        return false;\r\n      },\r\n      prepare: () => {\r\n        localStorage.removeItem(JwtLocalStorageKey);\r\n        return { payload: null };\r\n      }\r\n    },\r\n  }\r\n})\r\n\r\nexport default isLoggedInSlice.reducer;\r\n\r\nexport const {\r\n  loginSuccess, logOut\r\n} = isLoggedInSlice.actions;","import { createEntityAdapter, createSlice, createAsyncThunk, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { Group, CurrentLoggedInUser } from \"../store/types\";\r\nimport { GroupsApi, GetGroupsSuccessDto, CreateGroupDto, CreateGroupSuccessDto, GroupDto } from \"../api\";\r\nimport { RootState } from \"./rootReducer\";\r\nimport _ from \"lodash\";\r\n\r\nconst groupsAdapter = createEntityAdapter<Group>({\r\n  selectId: item => item._id\r\n})\r\n\r\nconst api = new GroupsApi();\r\n//https://redux-toolkit.js.org/api/createAsyncThunk\r\nexport const fetchGroups = createAsyncThunk(\r\n  'fetchGroups',\r\n  async (_, { getState }) => {\r\n    const groups: GetGroupsSuccessDto = await api.groupsControllerGetGroups();\r\n    // console.log(groups);\r\n    return groups;\r\n  }\r\n)\r\n\r\nexport const fetchGroupById = createAsyncThunk(\r\n  'fetchGroupById',\r\n  async (groupID: string) => {\r\n    const foundGroup: GroupDto = await api.groupsControllerGetPrivateGroup(groupID); // shouldn't this not be private only?\r\n    return foundGroup;\r\n  }\r\n);\r\n\r\nexport const fetchGroupMembersAndPosts = createAsyncThunk(\r\n  'fetchGroupMembersAndPosts',\r\n  async (groupID: string) => {\r\n    const dto = await api.groupsControllerGetMembersAndPosts(groupID);\r\n    console.log(dto);\r\n    return dto;\r\n  }\r\n)\r\n\r\nexport const createGroup = createAsyncThunk(\r\n  'createGroup',\r\n  async (newGroup: CreateGroupDto, { getState }) => {\r\n    const user = (getState() as RootState).user as CurrentLoggedInUser;\r\n    const successDto = await api.groupsControllerCreateGroup(newGroup);\r\n    return { ...newGroup, _id: successDto._id, admins: [user._id] };\r\n  }\r\n)\r\n\r\nexport const leaveGroup = createAsyncThunk(\r\n  'leaveGroup',\r\n  async (groupID: string, { getState }) => {\r\n    const user = (getState() as RootState).user as CurrentLoggedInUser;\r\n    await api.groupsControllerLeaveGroup(groupID, user._id);\r\n    return { groupID: groupID, userID: user._id }\r\n  }\r\n)\r\n\r\nexport const joinGroup = createAsyncThunk(\r\n  'joinGroup',\r\n  async (groupID: string, { getState }) => {\r\n    const user = (getState() as RootState).user as CurrentLoggedInUser;\r\n    await api.groupsControllerJoinGroup(groupID, user._id);\r\n    return { groupID: groupID, userID: user._id }\r\n  }\r\n)\r\n\r\n//https://redux-toolkit.js.org/api/createSlice\r\nexport const groupsSlice = createSlice({\r\n  name: \"groups\",\r\n  initialState: groupsAdapter.getInitialState<{ currentGroupID: string }>({\r\n    currentGroupID: '',\r\n  }),\r\n  reducers: {\r\n    selectGroup: (state, action: PayloadAction<{ groupID: string }>) => {\r\n      state.currentGroupID = action.payload.groupID;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchGroups.fulfilled.type]: (state, action: PayloadAction<GetGroupsSuccessDto>) => {\r\n      groupsAdapter.addMany(state, action.payload.groups) //add posts to ids and entities\r\n    },\r\n    [fetchGroupById.fulfilled.type]: (state, action: PayloadAction<GroupDto>) => {\r\n      groupsAdapter.upsertOne(state, action.payload) //add posts to ids and entities\r\n    },\r\n    [createGroup.fulfilled.type]: (state, action: PayloadAction<CreateGroupSuccessDto & CreateGroupDto & { admins: string[] }>) => {\r\n      const { _id, name, private: _private, description, profileBanner, profilePic, admins, users } = action.payload;\r\n      groupsAdapter.addOne(state, {\r\n        _id, name, private: _private, description, profileBanner, profilePic,\r\n        admins,\r\n        users: [admins[0], ...users],\r\n        createdAt: Date.now().toLocaleString(),\r\n        posts: [],\r\n        updatedAt: Date.now().toLocaleString(),\r\n        videos: []\r\n      });\r\n    },\r\n    [leaveGroup.fulfilled.type]: (state, action: PayloadAction<{ groupID: string, userID: string }>) => {\r\n      _.pull(state.entities[action.payload.groupID].users, action.payload.userID); //lodash mutates the state\r\n    },\r\n    [joinGroup.fulfilled.type]: (state, action: PayloadAction<{ groupID: string, userID: string }>) => {\r\n      state.entities[action.payload.groupID].users.push(action.payload.userID)\r\n    }\r\n  }\r\n})\r\n\r\nexport default groupsSlice.reducer;\r\nexport const { selectGroup } = groupsSlice.actions;","import { createSlice, createAsyncThunk, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { UserApi, GetInitialDataDto, GetInitialDataLoggedInDto, PostsApi, AuthApi, UpdateProfileReqDto, CreateGroupSuccessDto } from \"../api\";\r\nimport { fetchTrendingPosts, deletePost } from \"./postsSlice\";\r\nimport { CurrentLoggedInUser } from \"../store/types\";\r\nimport _ from \"lodash\";\r\nimport { isGetInitialDataLoggedInDto } from \"../util/helperFunctions\";\r\nimport { JwtLocalStorageKey } from \"../constants\";\r\nimport { isLoggedInSlice } from \"./isLoggedInSlice\";\r\nimport { createGroup, leaveGroup, joinGroup } from \"./groupsSlice\";\r\nimport {GetCommentsServerToClientDto} from \"../ws-dto/comments/dto/getCommentsByPostID.ws.dto\";\r\nimport { getCommentsByPostIDSuccess } from \"./commentsSlice\";\r\n\r\nconst api = new UserApi();\r\nexport const getLoggedInUser = createAsyncThunk(\r\n  'getLoggedInUser',\r\n  async () => {\r\n    return await api.userControllerGetUser();\r\n  }\r\n)\r\n\r\nexport const login = createAsyncThunk(\r\n  'loginStatus',\r\n  async ({ code, state }: { code: string, state: string }) => {\r\n    await new AuthApi().authControllerLoginGitHub({ code, state })\r\n  }\r\n);\r\n\r\nexport const updateProfile = createAsyncThunk(\r\n  'updateProfile',\r\n  async (update: UpdateProfileReqDto) => {\r\n    await api.userControllerEditProfile(update);\r\n    return { update };\r\n  }\r\n)\r\n\r\n/**\r\n * @deprecated\r\n * (Not implemented.) Use fetchUserByUsername from usersSlice instead.\r\n */\r\nexport const getUserForViewProfile = (userName) => createAsyncThunk(\r\n  'getUserForViewProfile',\r\n  async () => {\r\n    // Use fetchUserByUsername from usersSlice instead.\r\n  }\r\n)\r\n\r\nexport type PostIDPayload = { postID: string };\r\nexport type UserIDPayload = { userID: string };\r\nexport type LikePostPayload = { postID: string, increment: boolean };\r\n\r\n//https://redux-toolkit.js.org/api/createSlice\r\n// The state is just User, and initialized to null\r\nconst initialState: CurrentLoggedInUser = null;\r\n\r\nexport const userSlice = createSlice({\r\n  name: \"user\",\r\n  initialState,\r\n  reducers: {\r\n    loginSuccess: {\r\n      reducer: (user, action: PayloadAction<null>) => {\r\n        return null;\r\n      },\r\n      prepare: ({ jwt }: { jwt: string }) => {\r\n        localStorage.setItem(JwtLocalStorageKey, jwt);\r\n        return { payload: null };\r\n      },\r\n    },\r\n    logOut: {\r\n      reducer: (user, action: PayloadAction<null>) => {\r\n        return null;\r\n      },\r\n      prepare: () => {\r\n        localStorage.removeItem(JwtLocalStorageKey);\r\n        return { payload: null };\r\n      }\r\n    },\r\n    savePost: {\r\n      reducer: (user, action: PayloadAction<PostIDPayload>) => {\r\n        // optimistic update\r\n        if (user) {\r\n          user.savedPosts.push(action.payload.postID);\r\n          user.savedPostsSet[action.payload.postID] = true;\r\n        }\r\n\r\n        return user;\r\n      },\r\n      // to perform side effect. Does not affect payload\r\n      prepare: (payload: PostIDPayload) => {\r\n        // Send request to back end silently\r\n        new UserApi().userControllerSavePost(payload.postID)\r\n          .then(_ => console.log(\"Optimistic update (SAVE POST) finished in back end\"))\r\n          .catch(err => console.log(\"Optimistic update (SAVE POST) rejected! \", err));\r\n        return { payload };\r\n      },\r\n    },\r\n    toggleLikePost: {\r\n      reducer: (user, action: PayloadAction<PostIDPayload & { increment: boolean }>) => {\r\n        if (user) {\r\n          // optimistic update\r\n          const { postID } = action.payload;\r\n          // User didn't previously like the post\r\n          if (!user.likedPostsSet[postID]) {\r\n            user.likedPostsSet[postID] = true;\r\n            user.likedPosts.push(action.payload.postID);\r\n          } else {\r\n            // User previously liked the post, now un-likes it\r\n            user.likedPostsSet[postID] = false;\r\n            _.pull(user.likedPosts, action.payload.postID);\r\n          }\r\n        }\r\n        return user;\r\n      },\r\n      prepare: ({ postID, increment }: LikePostPayload) => {\r\n        // Send request to back end silently\r\n        if (increment) {\r\n          new PostsApi().postsControllerLikePost(postID)\r\n            .then(_ => console.log(\"Optimistic update (LIKE POST) finished in back end for Post ID\"))\r\n            .catch(err => console.log(\"Optimistic update (LIKE POST) rejected! \", err));\r\n        } else {\r\n          new PostsApi().postsControllerUnlikePost(postID)\r\n            .then(_ => console.log(\"Optimistic update (UNLIKE POST) finished in back end for Post ID\"))\r\n            .catch(err => console.log(\"Optimistic update (UNLIKE POST) rejected! \", err));\r\n        }\r\n        return { payload: { postID, increment } };\r\n      }\r\n    },\r\n    follow: {\r\n      reducer: (state, action: PayloadAction<UserIDPayload>) => {\r\n        // Optimistic update\r\n        const other = action.payload.userID;\r\n        if (!state.followingSet[other]) {\r\n          state.followingSet[other] = true;\r\n          state.following.push(other);\r\n        }\r\n      },\r\n      prepare: (payload: UserIDPayload ) => {\r\n        api.userControllerAddFollowing(payload.userID)\r\n            .then(_ => console.log(\"Optimistic update (FOLLOW) finished in back end\"))\r\n            .catch(err => console.log(\"Optimistic update (FOLLOW) rejected! \", err));\r\n        return { payload };\r\n      }\r\n    },\r\n    unfollow: {\r\n      reducer: (state, action: PayloadAction<UserIDPayload>) => {\r\n        // Optimistic update\r\n        const other = action.payload.userID;\r\n        if (state.followingSet[other]) {\r\n          state.followingSet[other] = false;\r\n          _.pull(state.following, other);\r\n        }\r\n      },\r\n      prepare: (payload: UserIDPayload ) => {\r\n        api.userControllerRemoveFollowing(payload.userID)\r\n            .then(_ => console.log(\"Optimistic update (UNFOLLOW) finished in back end\"))\r\n            .catch(err => console.log(\"Optimistic update (UNFOLLOW) rejected! \", err));\r\n        return { payload };\r\n      }\r\n    },\r\n\r\n\r\n  },\r\n  extraReducers: {\r\n    // fetchTrendingPosts will give the current logged in user as well\r\n    [fetchTrendingPosts.fulfilled.type]: (state, action: PayloadAction<GetInitialDataDto | GetInitialDataLoggedInDto>) => {\r\n      if (isGetInitialDataLoggedInDto(action.payload)) {\r\n        const userDto = action.payload.user;\r\n\r\n        // If the user already exists, merge the dto with the state (currentUser)\r\n        if (state) {\r\n          // Update likedPostsSet and savedPostsSet\r\n          userDto.likedPosts?.forEach(postID => state.likedPostsSet[postID] = true);\r\n          userDto.savedPosts?.forEach(postID => state.savedPostsSet[postID] = true);\r\n          userDto.followers?.forEach(userID => state.followersSet[userID] = true);\r\n          userDto.following?.forEach(userID => state.followingSet[userID] = true);\r\n          return { ...state, ...userDto };\r\n        }\r\n\r\n        if (userDto) {\r\n          const freshlyLoggedInUser = { ...userDto, likedPostsSet: {}, savedPostsSet: {}, followersSet: {}, followingSet: {} } as CurrentLoggedInUser;\r\n          userDto.likedPosts?.forEach(postID => freshlyLoggedInUser.likedPostsSet[postID] = true);\r\n          userDto.savedPosts?.forEach(postID => freshlyLoggedInUser.savedPostsSet[postID] = true);\r\n          userDto.followers?.forEach(userID => freshlyLoggedInUser.followersSet[userID] = true);\r\n          userDto.following?.forEach(userID => freshlyLoggedInUser.followingSet[userID] = true);\r\n          return freshlyLoggedInUser;\r\n        }\r\n      }\r\n\r\n      // state may be null, so must explicitly return it\r\n      return state;\r\n    },\r\n    //add group to user's list of groups\r\n    [createGroup.fulfilled.type]: (state, action: PayloadAction<CreateGroupSuccessDto>) => {\r\n      state.groups.push(action.payload._id);\r\n    },\r\n\r\n    [leaveGroup.fulfilled.type]: (state, action: PayloadAction<{ groupID: string, userID: string }>) => {\r\n      _.pull(state.groups, action.payload.groupID);\r\n    },\r\n    [joinGroup.fulfilled.type]: (state, action: PayloadAction<{ groupID: string, userID: string }>) => {\r\n      state.groups.push(action.payload.groupID);\r\n    },\r\n\r\n    // Logging out should clear the state\r\n    [isLoggedInSlice.actions.logOut.type]: () => {\r\n      return null;\r\n    },\r\n\r\n    [updateProfile.fulfilled.type]: (state, action: PayloadAction<UpdateProfileReqDto>) => {\r\n      if (!state) {\r\n        return null;\r\n      }\r\n      if (action.payload.name) {\r\n        state.name = action.payload.name;\r\n      }\r\n      if (action.payload.status) {\r\n        state.status = action.payload.status;\r\n      }\r\n      if (Array.isArray(action.payload.tags)) {\r\n        state.tags = action.payload.tags;\r\n      }\r\n    },\r\n\r\n    [deletePost.type]: (state, action) => {\r\n      _.pull(state.posts, action.payload.postID);\r\n    },\r\n\r\n  }\r\n})\r\n\r\nexport default userSlice.reducer;\r\n\r\nexport const { savePost, toggleLikePost, follow, unfollow, loginSuccess, logOut } = userSlice.actions;","import { initializeGitHubOAuth } from \"../pages/login/login\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { RootState } from \"../reducers/rootReducer\";\r\nimport { CurrentLoggedInUser } from \"../store/types\";\r\nimport { toggleLikePost } from \"../reducers/userSlice\";\r\n\r\ntype HandleToggleLike = () => void;\r\n\r\n/**\r\n * returns whether the user likes the post, and a callback function that sends anonymous user to login\r\n * \r\n * @param postID The ID of the post\r\n */\r\nexport function useLikePost(postID: string): { postIsLikedByUser: boolean, handleToggleLike: HandleToggleLike} {\r\n\r\n\r\n  const user = useSelector<RootState, CurrentLoggedInUser>(state => state.user);\r\n  const dispatch = useDispatch();\r\n\r\n  if (!postID) {\r\n    return {\r\n      postIsLikedByUser: null,\r\n      handleToggleLike: () => {}\r\n    }\r\n  }\r\n\r\n  if (!user) {\r\n    return {\r\n      postIsLikedByUser: false,\r\n      handleToggleLike: initializeGitHubOAuth,\r\n    }\r\n  } else {\r\n    const postIsLikedByUser = !!user.likedPostsSet[postID];\r\n    return {\r\n      postIsLikedByUser,\r\n      handleToggleLike: () => dispatch(toggleLikePost({postID, increment: !postIsLikedByUser})),\r\n    }\r\n  }\r\n}","import { makeStyles } from \"@material-ui/core/styles\";\r\nimport React, {useEffect} from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// import { likePost, savePost, viewPost } from '../../actions/home.ts';\r\nimport DefaultPic from \"../../assets/user.svg\";\r\nimport CommentIcon from \"../../icons/commentIcon.svg\";\r\nimport HeartIcon from \"../../icons/heartIcon.svg\";\r\nimport HeartIconRed from \"../../icons/heartIconRed.svg\";\r\nimport { RootState } from \"../../reducers/rootReducer\";\r\nimport { Post } from \"../../store/types\";\r\nimport { User } from \"../../store/types\";\r\nimport { Tag } from \"../../store/types\";\r\nimport { Dictionary } from \"@reduxjs/toolkit\";\r\nimport { savePost } from \"../../reducers/userSlice\";\r\nimport { useLikePost } from \"../../hooks/useLikePost\";\r\nimport { Loading } from \"../common/Loading\";\r\nimport {fetchPostByID} from \"../../reducers/postsSlice\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    minHeight: \"fit-content\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    width: \"40vw\",\r\n    backgroundColor: \"white\",\r\n    boxShadow: \"3px 3px #F2F2F2\",\r\n    marginBottom: \"1em\",\r\n    borderRadius: \"5px\",\r\n    paddingLeft: \"1.5em\",\r\n    paddingRight: \"1.5em\",\r\n  },\r\n  account: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    paddingTop: \"1em\",\r\n  },\r\n  accountImg: {\r\n    width: \"3em\",\r\n    height: \"3em\",\r\n    borderRadius: \"50%\",\r\n    marginTop: \"0.5em\",\r\n  },\r\n  imgTitle: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  },\r\n  nameTime: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    marginLeft: \"0.5em\",\r\n  },\r\n  interactions: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  },\r\n  commentIcon: {\r\n    marginLeft: \"2em\",\r\n    width: \"2em\",\r\n    marginBottom: \"-1.5em\",\r\n  },\r\n  heartIcon: {\r\n    width: \"2em\",\r\n  },\r\n  interactionsIcons: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n    flexDirection: \"row\",\r\n  },\r\n  readSave: {\r\n    marginLeft: \"2em\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  },\r\n  link: {\r\n    textDecoration: \"none\",\r\n  },\r\n  tagText: {\r\n    fontFamily: \"Overpass Mono, monospace\",\r\n  },\r\n});\r\n\r\nexport const handleViewPost = (post, dispatch) => {\r\n  // use history.push instead -John\r\n  // dispatch(viewPost(post));\r\n};\r\n\r\ntype Props = {\r\n  postID: string;\r\n};\r\n\r\n//parent: Main\r\nconst Card = ({ postID }: Props) => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  const post = useSelector<RootState, Post>(\r\n    (state) => state.posts.entities[postID]\r\n  );\r\n\r\n  const { postIsLikedByUser, handleToggleLike } = useLikePost(post?._id);\r\n\r\n  const authorID = post?.author;\r\n  const author = useSelector<RootState, User>(\r\n    (state) => state.users.entities[authorID]\r\n  );\r\n  const tags = useSelector<RootState, Dictionary<Tag>>(\r\n    (state) => state.tags.entities\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!post) {\r\n      dispatch(fetchPostByID({id: postID, getAuthor: !author}));\r\n    }\r\n  }, [])\r\n\r\n  if (!post) {\r\n    return <Loading />\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.account}>\r\n        <img\r\n          className={classes.accountImg}\r\n          src={author.profilePic || DefaultPic}\r\n          alt=\"\"\r\n        />\r\n        <div className={classes.nameTime}>\r\n          <p>\r\n            <Link to={`/user/${author.userID}`} className={classes.link}>\r\n              <span\r\n                style={{\r\n                  fontWeight: \"bold\",\r\n                  color: \"#5DCBAF\",\r\n                }}\r\n              >\r\n                {author.name}&nbsp;\r\n              </span>\r\n            </Link>\r\n            posted&nbsp;\r\n            <span style={{ fontWeight: \"bolder\" }}>\r\n              <Link\r\n                to={`/post/${post.slug}`}\r\n                className={classes.link}\r\n                onClick={() => {\r\n                  handleViewPost(post, dispatch);\r\n                }}\r\n              >\r\n                {post.title}\r\n              </Link>\r\n            </span>\r\n          </p>\r\n          <p style={{ marginTop: \"-0.8em\" }}>{post.createdAt}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={classes.imgTitle}>\r\n        <img\r\n          src={post.featuredImg}\r\n          style={{ marginTop: \"10px\", width: \"200px\", height: \"200px\", objectFit: \"cover\" }}\r\n          alt=\"\"\r\n        />\r\n        <div>\r\n          <p style={{ marginLeft: \"2em\" }}>{post.previewContent}</p>\r\n          <div className={classes.readSave}>\r\n            <Link\r\n              to={`/post/${post._id}`}\r\n              className={classes.link}\r\n              onClick={() => {\r\n                handleViewPost(post, dispatch);\r\n              }}\r\n            >\r\n              <h4\r\n                style={{\r\n                  marginRight: \"2em\",\r\n                  color: \"#5D67E9\",\r\n                  textDecoration: \"none\",\r\n                }}\r\n              >\r\n                Read more\r\n              </h4>\r\n            </Link>\r\n\r\n            <h4\r\n              style={{ color: \"#5D67E9\", cursor: \"pointer\" }}\r\n              onClick={() => {\r\n                dispatch(savePost({ postID: post._id }));\r\n              }}\r\n            >\r\n              Save for later\r\n            </h4>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={classes.interactions}>\r\n        {post.tags.length > 0 && post.tags.map((_id) => (\r\n          <p key={_id} className={classes.tagText}>\r\n            {/*}#{tags[_id].name}&nbsp;*/}\r\n          </p>\r\n        ))}\r\n        <div style={{ display: \"flex\", flex: 1 }}></div>\r\n        <div className={classes.interactionsIcons}>\r\n          <img\r\n            className={classes.heartIcon}\r\n            src={postIsLikedByUser ? HeartIconRed : HeartIcon}\r\n            alt=\"\"\r\n            onClick={handleToggleLike}\r\n          />\r\n          <p>&nbsp;{post.likes}</p>\r\n          <Link to={`/post/${post.slug}`} className={classes.link}>\r\n            <img className={classes.commentIcon} src={CommentIcon} alt=\"\" />\r\n          </Link>\r\n          <p>&nbsp;{post.commentsCount}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport { makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport \"./TagsCarousel.css\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../reducers/rootReducer\";\r\nimport { Tag } from \"../../store/types\";\r\nimport { Dictionary } from \"@reduxjs/toolkit\";\r\n\r\ninterface TabPanelProps {\r\n  children?: React.ReactNode;\r\n  index: any;\r\n  value: any;\r\n}\r\n\r\nfunction a11yProps(index: any) {\r\n  return {\r\n    id: `scrollable-auto-tab-${index}`,\r\n    \"aria-controls\": `scrollable-auto-tabpanel-${index}`\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: \"50%\",\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\nexport const TagsCarousel = ({ value, setValue }) => {\r\n  const classes = useStyles();\r\n  const tags = useSelector<RootState, Dictionary<Tag>>(state => state.tags.entities);\r\n  const tagsArr = [null].concat(Object.values(tags));\r\n\r\n  const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"relative\" color=\"default\">\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          variant=\"scrollable\"\r\n          scrollButtons=\"auto\"\r\n          aria-label=\"scrollable auto tabs example\"\r\n        >\r\n          {tagsArr.map((tag, idx) => {\r\n            if (idx === 0) {\r\n              return <Tab label=\"all\" {...a11yProps({ idx })} key={idx} />;\r\n            }\r\n            return <Tab label={tag.name} {...a11yProps({ idx })} key={idx} />;\r\n          })}\r\n        </Tabs>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Card from './Card';\r\nimport { RootState } from '../../reducers/rootReducer';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport { Loading } from '../common/Loading';\r\nimport { fetchPostsByTag, fetchTrendingPosts } from '../../reducers/postsSlice';\r\nimport { AppDispatch } from '../../store';\r\nimport { Dictionary, unwrapResult } from '@reduxjs/toolkit';\r\nimport { TagsCarousel } from './TagsCarousel';\r\nimport { Tag } from '../../store/types';\r\n\r\n//parent: Home\r\nconst Main = () => {\r\n  const trendingPosts = useSelector<RootState, string[]>(\r\n      (state) => state.posts.trendingPosts\r\n  );\r\n  const dispatch: AppDispatch = useDispatch();\r\n  const [items, setItems] = useState(trendingPosts);//has 5 things initially\r\n  const currFetchCount: number = useSelector<RootState, number>(state => state.posts.trendingPostFetchCount);\r\n  const hasMoreTrendingPosts: boolean = useSelector<RootState, boolean>(state => state.posts.hasMorePosts);\r\n\r\n  const [tabIndex, setTabIndex] = React.useState(0);\r\n  const tags = useSelector<RootState, Dictionary<Tag>>(state => state.tags.entities);\r\n  const hasMorePostsInTags = useSelector<RootState, Record<string, boolean>>(state => state.tags.hasMorePostsInTags);\r\n  const tagsArr = Object.values(tags);\r\n  const currentTag = tagsArr[tabIndex - 1];\r\n  const currentTagID = currentTag?._id;\r\n\r\n  let hasMore: boolean;\r\n  if (tabIndex === 0) {\r\n    hasMore = hasMoreTrendingPosts;\r\n  } else {\r\n    hasMore = hasMorePostsInTags[currentTagID];\r\n  }\r\n\r\n  const handleTabChange = (newIdx: number) => {\r\n    setTabIndex(newIdx);\r\n    // if new index is 0 (All - trending posts)\r\n    if (newIdx === 0) {\r\n      setItems(trendingPosts);\r\n      return;\r\n    }\r\n    const currentTag = tagsArr[newIdx - 1];\r\n    console.log(currentTag);\r\n    // switch to a tag\r\n    setItems(Object.keys(currentTag.postsSet));\r\n    const startIdx = items.length; // communicate to back end which ones to skip\r\n    const tagID = currentTagID;\r\n    dispatch(fetchPostsByTag({ tagID, startIdx })).then(unwrapResult).then(res => {\r\n      setItems(prev => prev.concat(res.posts.map(post => post._id)))\r\n    }).catch(err => console.log(err));\r\n  }\r\n\r\n  const fetchMoreData = () => {\r\n    if (tabIndex === 0) {\r\n      if (hasMoreTrendingPosts) {\r\n        dispatch(fetchTrendingPosts({ fetchCount: currFetchCount })).then(unwrapResult).then(res => {\r\n          setItems(prev => prev.concat(res.posts.map(post => post._id)))\r\n        }).catch(err => console.log(err));\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n\r\n    const startIdx = items.length; // communicate to back end which ones to skip\r\n    const tagID = currentTagID;\r\n    if (hasMorePostsInTags[tagID]) {\r\n      dispatch(fetchPostsByTag({ tagID, startIdx })).then(unwrapResult).then(res => {\r\n        setItems(prev => prev.concat(res.posts.map(post => post._id)))\r\n      }).catch(err => console.log(err));\r\n    }\r\n  }\r\n\r\n  return (\r\n      <>\r\n        <div style={{ display: \"flex\", position: \"fixed\", justifyContent: \"center\", width: \"50%\", zIndex: 10, marginTop: \"-40px\" }}>\r\n          <TagsCarousel value={tabIndex} setValue={handleTabChange} />\r\n        </div>\r\n        <div style={{ marginTop: \"50px\" }}>\r\n          <InfiniteScroll\r\n              dataLength={items.length} //This is important field to render the next data\r\n              next={fetchMoreData}\r\n              hasMore={hasMore}\r\n              key={tabIndex.toString()}\r\n              loader={<Loading />}\r\n              endMessage={\r\n                <p style={{ textAlign: 'center' }}>\r\n                  <b>You've seen it all!</b>\r\n                </p>\r\n              }>\r\n            {items.map((_id, idx) => (\r\n                <Card postID={_id} key={idx} />\r\n            ))}\r\n          </InfiniteScroll>\r\n        </div>\r\n      </>\r\n  );\r\n};\r\nexport default Main;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../../reducers/rootReducer';\r\nimport { TinyButton as ScrollUpButton } from \"react-scroll-up-button\"; //https://www.npmjs.com/package/react-scroll-up-button\r\nimport \"./TagsCarousel.css\";\r\nimport { Dictionary } from '@reduxjs/toolkit';\r\nimport { Post, User } from '../../store/types';\r\nimport Avatar from '../common/Avatar';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: \"20vw\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    cursor: \"pointer\",\r\n    paddingLeft: \"2em\",\r\n    paddingTop: \"10vh\",\r\n    marginRight: \"5vw\",\r\n    position: \"fixed\",\r\n    right: 0,\r\n\r\n  },\r\n  savePostSection: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"50vh\",\r\n    overflowY: \"scroll\",\r\n  },\r\n  savePostText: {\r\n    marginBottom: \"-1px\",\r\n    borderBottom: \"solid 1px lightgray\",\r\n    fontSize: \"large\",\r\n    fontFamily: \"Passion One, cursive\",\r\n    color: \"#707070\",\r\n  },\r\n  link: {\r\n    textDecoration: \"none\",\r\n  },\r\n});\r\n\r\n//parent:\r\nexport default function RightSideBar() {\r\n  const classes = useStyles();\r\n\r\n  /*\r\n  const currViewedPost = null;\r\n  const savedPosts = [\r\n    {\r\n      postID: \"5f00faca1a9b9b1781929025\", author: \"fred\", title: \"sad\", previewContent: \"It is sad\", content: \"It is so sad\", tags: [ \"cpp\", \"html\" ], featuredImg: \"\", likesCount: 100, comments: \"this is a comment\", commentsCount: 100, views: 10, createdAt: \"created here\", likedByUser: true, slug: \"slug\", group: \"group\"\r\n    }\r\n  ];\r\n  let isLoggedIn = useSelector<RootState, boolean>((state) => state.isLoggedIn);\r\n  console.log(isLoggedIn);\r\n  isLoggedIn = true;\r\n  */\r\n  const isLoggedIn = useSelector<RootState, boolean>((state) => state.isLoggedIn);\r\n  const trendingPosts = useSelector<RootState, string[]>(\r\n    (state) => state.posts.trendingPosts\r\n  );\r\n\r\n  const posts = useSelector<RootState, Dictionary<Post>>(\r\n    (state) => state.posts.entities\r\n  );\r\n  const users = useSelector<RootState, Dictionary<User>>(\r\n    (state) => state.users.entities\r\n  );\r\n  return (\r\n    <div className={classes.root}>\r\n      {isLoggedIn && <div>\r\n        <p className={classes.savePostText}># POPULAR</p>\r\n        <div className={classes.savePostSection}>\r\n          {trendingPosts.map((_id, idx) => (\r\n            <div key={idx}>\r\n              <Avatar pic={users[posts[_id].author].profilePic} title={posts[_id].title} subtitle={posts[_id].content.substr(0, 60).concat(\"...\")} isButton={false} isPost={true} extraText={posts[_id].createdAt}></Avatar>\r\n              {/* <Link\r\n                to={`/post/${post.postID}`}\r\n                className={classes.link}\r\n                onClick={() => {\r\n                  handleViewPost(currViewedPost, post);\r\n                }}\r\n              > */}\r\n              {/* <p style={{ marginTop: \"-0.5em\", fontWeight: \"bold\" }}>\r\n                {post.title}\r\n              </p> */}\r\n              {/* </Link> */}\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <p className={classes.savePostText}># WHO TO FOLLOW</p>\r\n        <ScrollUpButton />\r\n      </div>}\r\n\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nconst ErrorPage = ({ error }) => {\r\n  return (<h3 style={{ position: \"absolute\", height: \"500px\", top: \"200px\" }}>Error: {JSON.stringify(error)}</h3>)\r\n}\r\n\r\nexport default ErrorPage;","import { createEntityAdapter, createSlice, PayloadAction, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { fetchTrendingPosts, fetchPostBySlug } from \"./postsSlice\";\r\nimport { User } from \"../store/types\";\r\nimport {\r\n  GetInitialDataDto,\r\n  GetInitialDataLoggedInDto,\r\n  GetPostDetailsSuccessDto,\r\n  UserApi,\r\n  GetUsersSuccessDto,\r\n  UserDto\r\n} from \"../api\";\r\nimport { leaveGroup, joinGroup } from \"./groupsSlice\";\r\nimport _ from \"lodash\";\r\nimport {getCommentsByPostIDSuccess} from \"./commentsSlice\";\r\nimport {GetCommentsServerToClientDto} from \"../ws-dto/comments/dto/getCommentsByPostID.ws.dto\";\r\n\r\nconst api = new UserApi();\r\n\r\nconst usersAdapter = createEntityAdapter<User>({\r\n  selectId: item => item._id,\r\n});\r\n\r\nexport const fetchUsersByIDs = createAsyncThunk('fetchUsersByIDs', async (IDs: string[]) => {\r\n  return await api.userControllerGetUsersByIDs(IDs.join());\r\n});\r\n\r\nexport const fetchUserByUsername = createAsyncThunk('fetchUserByUsername', async (username: string) => {\r\n  return await api.userControllerGetUserByUsername(username);\r\n})\r\n\r\n//https://redux-toolkit.js.org/api/createSlice\r\nexport const usersSlice = createSlice({\r\n  name: \"users\",\r\n  initialState: usersAdapter.getInitialState<{ usernameToID: Record<string, string> }>(\r\n    { usernameToID: {} }\r\n  ),\r\n  reducers: {\r\n\r\n  },\r\n  extraReducers: {\r\n    [fetchTrendingPosts.fulfilled.type]: (state, action: PayloadAction<GetInitialDataDto | GetInitialDataLoggedInDto>) => {\r\n      usersAdapter.addMany(state, action.payload.users) //add users (trending posts' authors) to ids and entities\r\n      // Update username to ObjectID map\r\n      action.payload.users.forEach(user => state.usernameToID[user.userID] = user._id);\r\n    },\r\n    [fetchPostBySlug.fulfilled.type]: (state, action: PayloadAction<GetPostDetailsSuccessDto>) => {\r\n      if (action.payload.author) {\r\n        usersAdapter.upsertOne(state, action.payload.author);\r\n\r\n        // Update username to ObjectID map\r\n        state.usernameToID[action.payload.author.userID] = action.payload.author._id;\r\n      }\r\n    },\r\n    [fetchUsersByIDs.fulfilled.type]: (state, action: PayloadAction<GetUsersSuccessDto>) => {\r\n      usersAdapter.upsertMany(state, action.payload.users);\r\n      // Update username to ObjectID map\r\n      action.payload.users.forEach(user => state.usernameToID[user.userID] = user._id);\r\n    },\r\n    [fetchUserByUsername.fulfilled.type]: (state, action: PayloadAction<UserDto>) => {\r\n      usersAdapter.upsertOne(state, action.payload);\r\n      // Update username to ObjectID map\r\n      state.usernameToID[action.payload.userID] = action.payload._id;\r\n    },\r\n    [leaveGroup.fulfilled.type]: (state, action: PayloadAction<{ groupID: string, userID: string }>) => {\r\n      if (state.entities[action.payload.userID]) {\r\n        _.pull(state.entities[action.payload.userID].groups, action.payload.groupID);\r\n      }\r\n    },\r\n    [joinGroup.fulfilled.type]: (state, action: PayloadAction<{ groupID: string, userID: string }>) => {\r\n      if (state.entities[action.payload.userID].groups) {\r\n        state.entities[action.payload.userID].groups.push(action.payload.groupID)\r\n      }\r\n    },\r\n    'getConversationsAndUsers': (state, action: PayloadAction<any>) => {\r\n      usersAdapter.upsertMany(state, action.payload.users);\r\n    },\r\n    [getCommentsByPostIDSuccess.type]: (state, action: PayloadAction<GetCommentsServerToClientDto>) => {\r\n      usersAdapter.upsertMany(state, action.payload.authors);\r\n    }\r\n  }\r\n})\r\n\r\nexport default usersSlice.reducer;","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Radio, { RadioProps } from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    '&:hover': {\r\n      backgroundColor: 'transparent',\r\n    },\r\n  },\r\n  icon: {\r\n    borderRadius: '50%',\r\n    width: 16,\r\n    height: 16,\r\n    boxShadow: 'inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)',\r\n    backgroundColor: '#f5f8fa',\r\n    backgroundImage: 'linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))',\r\n    '$root.Mui-focusVisible &': {\r\n      outline: '2px auto rgba(19,124,189,.6)',\r\n      outlineOffset: 2,\r\n    },\r\n    'input:hover ~ &': {\r\n      backgroundColor: '#ebf1f5',\r\n    },\r\n    'input:disabled ~ &': {\r\n      boxShadow: 'none',\r\n      background: 'rgba(206,217,224,.5)',\r\n    },\r\n  },\r\n  checkedIcon: {\r\n    backgroundColor: '#137cbd',\r\n    backgroundImage: 'linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))',\r\n    '&:before': {\r\n      display: 'block',\r\n      width: 16,\r\n      height: 16,\r\n      backgroundImage: 'radial-gradient(#fff,#fff 28%,transparent 32%)',\r\n      content: '\"\"',\r\n    },\r\n    'input:hover ~ &': {\r\n      backgroundColor: '#106ba3',\r\n    },\r\n  },\r\n});\r\n\r\n// Inspired by blueprintjs\r\nfunction StyledRadio(props: RadioProps) {\r\n  const classes = useStyles();\r\n  return (\r\n    <Radio\r\n      className={classes.root}\r\n      disableRipple\r\n      color=\"default\"\r\n      checkedIcon={<span className={clsx(classes.icon, classes.checkedIcon)} />}\r\n      icon={<span className={classes.icon} />}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport default function RadioButtons({ setItem }) {\r\n  const handleChange = (value) => { setItem(value) }\r\n  return (\r\n    <FormControl component=\"fieldset\" required={true}>\r\n      <FormLabel component=\"legend\" focused={false}>Privacy</FormLabel>\r\n\r\n      <RadioGroup row defaultValue=\"public\" name=\"customized-radios\" onChange={handleChange}>\r\n        <FormControlLabel value=\"public\" control={<StyledRadio />} label=\"Public\" />\r\n        <FormControlLabel value=\"private\" control={<StyledRadio />} label=\"Private\" />\r\n\r\n      </RadioGroup>\r\n    </FormControl>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport ImageUploader from \"react-images-upload\";\r\nimport AddMultiple from './AddMuliple';\r\nimport { RootState } from '../../reducers/rootReducer';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { User } from '../../store/types';\r\nimport { Dictionary, unwrapResult } from '@reduxjs/toolkit';\r\nimport { AppDispatch } from '../../store';\r\nimport { Loading } from '../common/Loading';\r\nimport ErrorPage from '../common/ErrorPage';\r\nimport { fetchUsersByIDs } from '../../reducers/usersSlice';\r\nimport { convertArrToMap, getFollowingFollowersOfUser } from '../../util/helperFunctions';\r\nimport { TextFields } from './TextFields';\r\nimport RadioButtons from './RadioButtons';\r\nimport styled from '@emotion/styled';\r\nimport { withStyles, Theme } from '@material-ui/core';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport PurpleButton from '../common/PurpleButton';\r\nimport { createGroup } from '../../reducers/groupsSlice';\r\nimport { UploadApi } from '../../api';\r\nimport { JwtLocalStorageKey } from '../../constants';\r\nimport { uploadPublicAsset } from \"../../api-upload\";\r\n\r\nconst TextWrapper = styled.div`\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst DialogActions = withStyles((theme: Theme) => ({\r\n  root: {\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nexport const CreateGroupForm = ({ handleClose }) => {\r\n  const [people, setPeople] = useState<string[]>([]);\r\n  const [profileBannerFile, setProfileBanner] = useState<File>(null);\r\n  const [profilePicFile, setProfilePic] = useState<File>(null);\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [_private, setPrivate] = useState(false);\r\n\r\n  const usersMap = useSelector<RootState, Dictionary<User>>(state => state.users.entities);\r\n  const user = useSelector<RootState, User>(state => state.user);\r\n  let followingFollowers: User[] = getFollowingFollowersOfUser(usersMap, user);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [creatingGroupLoading, setCreatingGroupLoading] = useState(false);\r\n\r\n  const dispatch = useDispatch<AppDispatch>();\r\n  useEffect(() => {\r\n    if (user.followers.length > 0 || user.following.length > 0) {\r\n      setLoading(true);\r\n      dispatch(fetchUsersByIDs(user.following.concat(user.followers)))\r\n        .then(unwrapResult).then( //must set dispatch to any to use .then\r\n          () => {\r\n            setLoading(false)\r\n          }\r\n        ).catch(error => {\r\n          console.log(error);\r\n          setError(error);\r\n          setLoading(false);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  if (!followingFollowers || loading) {\r\n    return <Loading />\r\n  }\r\n\r\n  if (error) {\r\n    return <ErrorPage error={error} />\r\n  }\r\n\r\n  const handleBannerImageChange = picture => {\r\n    // picture is an array containing 1 file\r\n    setProfileBanner(picture[0]);\r\n  }\r\n    ;\r\n\r\n  const handleProfilePicChange = picture => {\r\n    // picture is an array containing 1 file\r\n    setProfilePic(picture[0])\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // Upload images if they exist\r\n    let profilePic: string;\r\n    let profileBanner: string;\r\n    // upload profile pic\r\n    if (profilePicFile) {\r\n      // TODO: show loading while uploading\r\n      profilePic = await uploadPublicAsset(profilePicFile);\r\n    }\r\n\r\n    if (profileBannerFile) {\r\n      profileBanner = await uploadPublicAsset(profileBannerFile);\r\n    }\r\n\r\n    const group = {\r\n      name,\r\n      description,\r\n      private: _private,\r\n      users: people,\r\n      profilePic,\r\n      profileBanner,\r\n    };\r\n\r\n    dispatch(createGroup(group)).then(unwrapResult).then(() => {\r\n      setCreatingGroupLoading(true);\r\n    }).catch(err => {\r\n      setLoading(false);\r\n      setError(err);\r\n    })\r\n    handleClose();\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      {creatingGroupLoading ? <Loading /> :\r\n        <form onSubmit={handleSubmit}>\r\n          {/* https://github.com/jakehartnell/react-images-upload#readme */}\r\n          <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n            <ImageUploader\r\n              // {...props}\r\n              buttonText='Upload cover photo'\r\n              withPreview={true}\r\n              withIcon={true}\r\n              onChange={handleBannerImageChange}\r\n              imgExtension={[\".jpg\", \".jpeg\", \".gif\", \".png\", \".gif\"]}\r\n              maxFileSize={5242880}\r\n              singleImage={true}\r\n              buttonStyles={{ backgroundColor: \"#6a6a6a\" }}\r\n            />\r\n            {/* <div style={{ width: \"20px\" }}></div> */}\r\n            <ImageUploader\r\n              // {...props}\r\n              buttonText='Upload profile pic'\r\n              withPreview={true}\r\n              withIcon={false}\r\n              onChange={handleProfilePicChange}\r\n              imgExtension={[\".jpg\", \".jpeg\", \".gif\", \".png\", \".gif\"]}\r\n              maxFileSize={5242880}\r\n              style={{ width: \"50%\" }}\r\n              singleImage={true}\r\n              buttonStyles={{ backgroundColor: \"#6a6a6a\" }}\r\n            />\r\n          </div>\r\n\r\n          <TextFields name=\"Add Group Name\" description=\"Add Group Description\" setName={setName} setDescription={setDescription} />\r\n\r\n          {/* https://material-ui.com/components/autocomplete/#Tags.tsx */}\r\n          <TextWrapper>\r\n            <AddMultiple label=\"Add People\" options={followingFollowers} imgKey=\"profilePic\" setItems={setPeople} panelWidth={500} />\r\n          </TextWrapper>\r\n\r\n          <div style={{ height: \"25px\" }}></div>\r\n\r\n          <TextWrapper>\r\n            <RadioButtons setItem={setPrivate} />\r\n          </TextWrapper>\r\n\r\n          <DialogActions>\r\n            <div>\r\n              <PurpleButton content=\"Create group\" />\r\n            </div>\r\n          </DialogActions>\r\n        </form>}\r\n    </>\r\n  )\r\n}","import React, { useState } from 'react';\r\nimport { createStyles, Theme, withStyles, WithStyles } from '@material-ui/core/styles';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport styled from '@emotion/styled';\r\nimport PurpleButton from '../common/PurpleButton';\r\nimport { CreateGroupForm } from './CreateGroupForm';\r\n\r\nconst CreateGroupButton = styled.p`\r\n  margin-top: 10px;\r\n  color: #5D67E9; \r\n  font-weight: bold;\r\n  padding-top: 20px;\r\n  cursor: pointer;\r\n`;\r\nexport interface DialogTitleProps extends WithStyles<typeof styles> {\r\n  id: string;\r\n  children: React.ReactNode;\r\n  onClose: () => void;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      margin: 0,\r\n      padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n      position: 'absolute',\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n      color: theme.palette.grey[500],\r\n    },\r\n  });\r\n\r\nconst DialogTitle = withStyles(styles)((props: DialogTitleProps) => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles((theme: Theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\n\r\n\r\nconst intialState = {\r\n  name: \"\",\r\n  description: \"\",\r\n  private: false,\r\n  profilePic: \"\",\r\n  profileBanner: \"\",\r\n  admins: [],\r\n  users: [],\r\n  posts: [],\r\n  videos: [],\r\n}\r\n\r\nexport const CreateGroupModal = () => {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <CreateGroupButton onClick={handleClickOpen}>\r\n        Create Group\r\n      </CreateGroupButton>\r\n\r\n      <Dialog onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open}>\r\n\r\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\r\n          Create a Group\r\n        </DialogTitle>\r\n\r\n        <DialogContent dividers>\r\n          <CreateGroupForm handleClose={handleClose} />\r\n        </DialogContent>\r\n\r\n\r\n\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport styled from '@emotion/styled';\r\nimport Avatar from \"../common/Avatar\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { RootState } from \"../../reducers/rootReducer\";\r\nimport { User, Group } from \"../../store/types\";\r\nimport { Dictionary, unwrapResult } from \"@reduxjs/toolkit\";\r\nimport { AppDispatch } from \"../../store\";\r\nimport { Loading } from \"../common/Loading\";\r\nimport ErrorPage from \"../common/ErrorPage\";\r\nimport { fetchGroups, leaveGroup, joinGroup, selectGroup } from \"../../reducers/groupsSlice\";\r\nimport PurpleButton from \"../common/PurpleButton\";\r\nimport { CreateGroupModal } from \"./CreateGroupModal\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst GroupContainer = styled.div`\r\n  width: 40%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  background-color: white;\r\n\r\n`;\r\nconst Header = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding-left: 30px;\r\n  padding-right: 30px;\r\n  padding-top: 10px;\r\n  border-bottom: solid 1px lightgray;\r\n`;\r\n\r\nconst GroupContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding-left: 30px;\r\n  padding-right: 30px;\r\n  overflow-y: scroll;\r\n  margin-bottom: 5vh;\r\n`;\r\n\r\nconst GroupCard = ({ currentGroup, isUserAMember }: { currentGroup: Group, isUserAMember: boolean }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const handleJoinGroup = () => {\r\n    dispatch(joinGroup(currentGroup._id));\r\n  }\r\n  const handleLeaveGroup = () => {\r\n    dispatch(leaveGroup(currentGroup._id));\r\n  }\r\n\r\n  if (!currentGroup)\r\n    return <div><h1>NULL GROUP</h1></div>\r\n\r\n  return <div>\r\n    <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n\r\n      <Link to={`/group/${currentGroup._id}`} style={{ textDecoration: \"none\" }}>\r\n        <Avatar pic={currentGroup.profilePic} title={currentGroup.name} subtitle={currentGroup.description} extraText=\"\" />\r\n      </Link>\r\n\r\n      <div style={{ flex: 1 }}></div>\r\n      <div style={{ marginTop: \"30px\" }}>\r\n        {!isUserAMember && <div onClick={handleJoinGroup}>\r\n          <PurpleButton content=\"Join Group\" /> </div>}\r\n        {isUserAMember && <div onClick={handleLeaveGroup}> <PurpleButton content=\"Leave Group\" /> </div>}\r\n      </div>\r\n    </div>\r\n  </div>\r\n}\r\n\r\nexport default function GroupTab() {\r\n  const user = useSelector<RootState, User>(state => state.user);\r\n  const groups = useSelector<RootState, Dictionary<Group>>(state => state.groups.entities);\r\n\r\n  const dispatch: AppDispatch = useDispatch();\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    dispatch(fetchGroups()).then(unwrapResult).then(() => {\r\n      setLoading(false);\r\n    }).catch(err => {\r\n      setLoading(false);\r\n      setError(err);\r\n    })\r\n  }, []);\r\n\r\n  if (loading || !groups) {\r\n    return <Loading />\r\n  }\r\n  if (error) {\r\n    return <ErrorPage error={error} />\r\n  }\r\n\r\n  const joinedGroupIDs = user.groups;\r\n  const otherGroupsIDs = Object.keys(groups).filter((_id) => {\r\n    return !joinedGroupIDs.includes(_id);\r\n  })\r\n\r\n  return (\r\n    <GroupContainer>\r\n      <Header>\r\n        <span><h2>Groups</h2></span>\r\n        <div style={{ flex: 1 }}></div>\r\n        <span>\r\n          <CreateGroupModal />\r\n        </span>\r\n      </Header>\r\n\r\n      <hr style={{ color: \"black\" }}></hr>\r\n      <GroupContent>\r\n        {joinedGroupIDs.length > 0 && <>\r\n          <h3>Your groups</h3>\r\n          {joinedGroupIDs.map((_id) => {\r\n            return <GroupCard currentGroup={groups[_id]} key={_id} isUserAMember={true} />\r\n          })}\r\n        </>}\r\n\r\n        {joinedGroupIDs.length === 0 && <h3>Groups you may be interested in</h3>}\r\n        {joinedGroupIDs.length > 0 && <h3>Other groups</h3>}\r\n        {otherGroupsIDs.map((_id) => {\r\n          return <GroupCard currentGroup={groups[_id]} key={_id} isUserAMember={false} />\r\n        })}\r\n      </GroupContent>\r\n    </GroupContainer >\r\n  );\r\n}","import { makeStyles } from '@material-ui/core/styles';\r\nimport React from 'react';\r\nimport LeftSideBar from './LeftSideBar';\r\nimport Main from './Main';\r\nimport RightSideBar from './RightSideBar';\r\nimport GroupTab from '../group';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles({\r\n  home: {\r\n    paddingTop: \"7vh\",\r\n    display: \"flex\",\r\n  },\r\n  main: {\r\n    marginTop: \"5vh\",\r\n    display: \"flex\",\r\n    flex: 1,\r\n    marginBottom: \"1vh\",\r\n    height: \"86vh\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    width: \"100%\",\r\n  },\r\n});\r\n\r\nexport default function Home() {\r\n  const classes = useStyles();\r\n  // https://reactrouter.com/web/example/nesting\r\n  // path and url are both for building relative destinations\r\n  // path is for route, url is for link\r\n  const { path } = useRouteMatch();\r\n\r\n  return (\r\n    <div className={classes.home}>\r\n      <LeftSideBar />\r\n      <div className={classes.main}>\r\n        <Switch>\r\n          <Route path={`${path}/groups`}>\r\n            <GroupTab />\r\n          </Route>\r\n          <Route exact path={path}>\r\n            <Main />\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n      <RightSideBar />\r\n    </div>\r\n  );\r\n}","import React from 'react'\r\nimport { useEffect } from \"react\"\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { loginSuccess } from '../../reducers/isLoggedInSlice';\r\n\r\nexport function DevLogin() {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    fetch(\"http://ec2-13-229-215-75.ap-southeast-1.compute.amazonaws.com/api/dev/login\").then(res => res.json()).then(\r\n      (res) => {\r\n        const jwt: string = res.jwt;\r\n        dispatch(loginSuccess({jwt}));\r\n        history.push(\"/\");\r\n      }\r\n    )\r\n  }, [])\r\n  return (<h1>Logging in...</h1>);\r\n}","import { createAsyncThunk, createEntityAdapter, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { Socket } from \"socket.io-client\";\r\nimport { CreateMessageBodyDto, CreateMessageSuccessDto, MessageDto, MessagesApi } from \"../api\";\r\nimport { Message } from \"../store/types\";\r\nimport _ from \"lodash\";\r\n\r\nconst messagesAdapter = createEntityAdapter<Message>({\r\n  selectId: item => item._id,\r\n});\r\n\r\nexport const fetchMessagesInConversation = createAsyncThunk(\r\n  'fetchMessagesInConversation',\r\n  async ({ conversationID }: { conversationID: string }) => {\r\n    return await new MessagesApi().messagesControllerGetMessagesInConversation(conversationID);\r\n  }\r\n)\r\n\r\nexport type PendingMessage = {\r\n  createdAt: number,\r\n  conversationID: string,\r\n  text: string\r\n}\r\n\r\nexport const messagesSlice = createSlice({\r\n  name: \"messages\",\r\n  initialState: messagesAdapter.getInitialState<{ isSending: boolean, isTyping: boolean, isError: any, pendingMessages: PendingMessage[] }>({\r\n    isSending: false,\r\n    isTyping: false,\r\n    isError: null,\r\n    pendingMessages: []\r\n  }),//also has ids[] and entities{}\r\n  reducers: {\r\n    createMessagePending: (state, action: PayloadAction<CreateMessageBodyDto>) => {\r\n      state.isSending = true;\r\n      state.isError = null;\r\n      const newMessage: PendingMessage = {\r\n        conversationID: action.payload.conversationID,\r\n        text: action.payload.text,\r\n        createdAt: action.payload.createdAt,\r\n      }\r\n      state.pendingMessages.push(newMessage);\r\n    },\r\n    createMessageSuccess: (state, action: PayloadAction<CreateMessageSuccessDto>) => {\r\n      state.isSending = false;\r\n      messagesAdapter.addOne(state, action.payload);\r\n      _.remove(state.pendingMessages, (message) => {\r\n        return message.createdAt === action.payload.createdAt;\r\n      });\r\n      state.isError = null;\r\n    },\r\n    createMessageError: (state, action: PayloadAction<Error>) => {\r\n      state.isSending = false;\r\n      state.isError = action.payload;\r\n    },\r\n    receiveNewMessage: (state, action: PayloadAction<CreateMessageSuccessDto>) => {\r\n      messagesAdapter.addOne(state, action.payload);\r\n    }\r\n  },\r\n  extraReducers: {\r\n    [fetchMessagesInConversation.fulfilled.type]: (state, action: PayloadAction<CreateMessageSuccessDto[]>) => {\r\n      messagesAdapter.upsertMany(state, action.payload);\r\n    }\r\n  }\r\n})\r\n\r\nexport default messagesSlice.reducer;\r\nexport const { createMessagePending, createMessageSuccess, createMessageError, receiveNewMessage } = messagesSlice.actions;","import {createEntityAdapter, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {CreateConversationBodyDto, CreateMessageSuccessDto} from \"../api\";\r\nimport {Conversation} from \"../store/types\";\r\nimport {ConversationDto} from \"../ws-dto/messages/messenger.ws.dto\";\r\nimport {fetchMessagesInConversation, createMessageSuccess, receiveNewMessage} from \"./messagesSlice\";\r\n\r\nconst conversationsAdapter = createEntityAdapter<Conversation>({\r\n  selectId: item => item._id\r\n});\r\n\r\nexport const conversationSlice = createSlice({\r\n  name: \"conversations\",\r\n  initialState: conversationsAdapter.getInitialState<{\r\n    currentConversationID: string,\r\n    isGroupConversation: boolean,\r\n    isDirectConversation: boolean\r\n    isLoading: boolean,\r\n  }>({\r\n    currentConversationID: '', //the conversation shown in CHat Window\r\n    isGroupConversation: false,\r\n    isDirectConversation: true,\r\n    isLoading: false,\r\n  }),//also has ids[] and entities{}\r\n  reducers: {\r\n    addConversation: (state, action: PayloadAction<ConversationDto>) => {\r\n      conversationsAdapter.addOne(state, action.payload);\r\n    },\r\n    setNewConversation: (state) => {\r\n      state.currentConversationID = \"\";\r\n    },\r\n    selectConversation: (state, action: PayloadAction<{ conversationID: string }>) => {\r\n      const id = action.payload.conversationID;\r\n      const conversation = state.entities[id];\r\n      if (conversation.users.length > 2) {\r\n        state.isDirectConversation = false;\r\n        state.isGroupConversation = true;\r\n      } else {\r\n        state.isDirectConversation = true;\r\n        state.isGroupConversation = false;\r\n      }\r\n      state.isLoading = true;\r\n      state.currentConversationID = id;\r\n    },\r\n    createDirectConversationPending: (state) => {\r\n      state.isLoading = true;\r\n      state.isDirectConversation = true;\r\n      state.isGroupConversation = false;\r\n    },\r\n    createGroupConversationPending: (state) => {\r\n      state.isLoading = true;\r\n      state.isGroupConversation = true;\r\n      state.isDirectConversation = false;\r\n    },\r\n    createConversationSuccess: (state, action: PayloadAction<ConversationDto>) => {\r\n      conversationsAdapter.addOne(state, action.payload);\r\n      state.isLoading = true;\r\n      state.currentConversationID = action.payload._id;\r\n    }\r\n  },\r\n  extraReducers: {\r\n    'getConversationsAndUsers': (state, action: PayloadAction<any>) => {\r\n      conversationsAdapter.upsertMany(state, action.payload.conversations);\r\n    },\r\n    [fetchMessagesInConversation.fulfilled.type]: (state) => {\r\n      state.isLoading = false;\r\n    },\r\n    [createMessageSuccess.type]: (state, action: PayloadAction<CreateMessageSuccessDto>) => {\r\n      state.entities[state.currentConversationID].messages.push(action.payload._id);\r\n    },\r\n    [receiveNewMessage.type]: (state, action: PayloadAction<CreateMessageSuccessDto>) => {\r\n      state.entities[action.payload.conversationID].messages.push(action.payload._id);\r\n    }\r\n  }\r\n\r\n})\r\nexport default conversationSlice.reducer;\r\nexport const {\r\n  addConversation,\r\n  selectConversation,\r\n  createDirectConversationPending,\r\n  createGroupConversationPending,\r\n  createConversationSuccess,\r\n  setNewConversation\r\n} = conversationSlice.actions;","import React, { useState, useEffect, useContext } from 'react';\r\nimport { RootState } from '../../reducers/rootReducer';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { User } from '../../store/types';\r\nimport { Dictionary, unwrapResult } from '@reduxjs/toolkit';\r\nimport { AppDispatch } from '../../store';\r\nimport { Loading } from '../common/Loading';\r\nimport ErrorPage from '../common/ErrorPage';\r\nimport { fetchUsersByIDs } from '../../reducers/usersSlice';\r\nimport { convertArrToMap } from '../../util/helperFunctions';\r\nimport styled from '@emotion/styled';\r\nimport { withStyles, Theme } from '@material-ui/core';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport PurpleButton from '../common/PurpleButton';\r\nimport { TextFields } from '../group/TextFields';\r\nimport AddMultiple from '../group/AddMuliple';\r\nimport { NewConversationClientToServerDto } from \"../../ws-dto/messages/messenger.ws.dto\";\r\nimport { createDirectConversationPending, createGroupConversationPending } from \"../../reducers/conversationsSlice\";\r\nimport { SocketContext } from '../../App';\r\n\r\nconst TextWrapper = styled.div`\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst DialogActions = withStyles((theme: Theme) => ({\r\n  root: {\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nexport const CreateGroupChatForm = ({ handleClose }) => {\r\n  const [people, setPeople] = useState<string[]>([]);\r\n  const [name, setName] = useState(\"\");\r\n\r\n  const usersMap = useSelector<RootState, Dictionary<User>>(state => state.users.entities);\r\n\r\n  const user = useSelector<RootState, User>(state => state.user);\r\n  let followingFollowers: User[] = [];\r\n  user.followers.concat(user.following).forEach((_id) => {\r\n    if (usersMap[_id]) {\r\n      followingFollowers.push(usersMap[_id])\r\n    }\r\n  });\r\n  followingFollowers = Object.values(convertArrToMap(followingFollowers));\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [creatingGroupLoading, setCreatingGroupLoading] = useState(false);\r\n\r\n  const socket = useContext(SocketContext);\r\n\r\n  const dispatch = useDispatch<AppDispatch>();\r\n  useEffect(() => {\r\n    if (user.followers.length > 0 || user.following.length > 0) {\r\n      setLoading(true);\r\n      dispatch(fetchUsersByIDs(user.following.concat(user.followers)))\r\n        .then(unwrapResult).then( //must set dispatch to any to use .then\r\n          () => {\r\n            setLoading(false)\r\n          }\r\n        ).catch(error => {\r\n          console.log(error);\r\n          setError(error);\r\n          setLoading(false);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  if (!followingFollowers || loading) {\r\n    return <Loading />\r\n  }\r\n\r\n  if (error) {\r\n    return <ErrorPage error={error} />\r\n  }\r\n\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // if the conversationID is \"\", then the user is starting a new group chat with anonymous name\r\n    const dto: NewConversationClientToServerDto = { otherUsers: people, name }\r\n    socket.current.emit('newConversation', dto);\r\n    dispatch(createGroupConversationPending());\r\n    // when the back end responds, dispatch is called (in socket.on in messenger/index)\r\n    handleClose();\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      {creatingGroupLoading ? <Loading /> :\r\n        <form onSubmit={handleSubmit}>\r\n          <TextFields name=\"Add Name\" setName={setName} />\r\n\r\n          <TextWrapper>\r\n            <AddMultiple label=\"Add People\" options={followingFollowers} imgKey=\"profilePic\" setItems={setPeople} />\r\n          </TextWrapper>\r\n\r\n          <div style={{ height: \"25px\" }}></div>\r\n\r\n          <DialogActions>\r\n            <PurpleButton content=\"Done\" />\r\n          </DialogActions>\r\n\r\n        </form>}\r\n    </>\r\n  )\r\n}","import React, { useState } from 'react';\r\nimport { createStyles, Theme, withStyles, WithStyles } from '@material-ui/core/styles';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport styled from '@emotion/styled';\r\nimport PurpleButton from '../common/PurpleButton';\r\nimport { CreateGroupChatForm } from './CreateGroupChatForm';\r\nimport { HeadingText } from './SideBar';\r\nimport PlusIcon from \"../../icons/plusIcon.svg\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { selectConversation } from \"../../reducers/conversationsSlice\";\r\nimport { RootState } from '../../reducers/rootReducer';\r\nimport { Dictionary } from '@reduxjs/toolkit';\r\nimport { Conversation, Group, User } from '../../store/types';\r\nimport Avatar from \"../common/Avatar\";\r\nimport { fetchMessagesInConversation } from \"../../reducers/messagesSlice\";\r\n\r\nexport interface DialogTitleProps extends WithStyles<typeof styles> {\r\n  id: string;\r\n  children: React.ReactNode;\r\n  onClose: () => void;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      margin: 0,\r\n      padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n      position: 'absolute',\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n      color: theme.palette.grey[500],\r\n    },\r\n  });\r\n\r\nconst DialogTitle = withStyles(styles)((props: DialogTitleProps) => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles((theme: Theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\n\r\nexport const GroupConversations = ({ setOpen }: { setOpen: any }) => {\r\n  const conversations = useSelector<RootState, Dictionary<Conversation>>(state => state.conversations.entities);\r\n  const groupConv = Object.values(conversations).filter(c => { return c.users.length > 2 });\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSelectConversation = (conversationID) => {\r\n    // console.log(conversationID);\r\n    dispatch(selectConversation({ conversationID }));\r\n\r\n    // console.log(conversationID);\r\n    //fetch messages in current conversation\r\n    dispatch(fetchMessagesInConversation({ conversationID }));\r\n  }\r\n  return (<>\r\n    <div style={{ paddingTop: \"20px\" }}>\r\n      <span><img src={PlusIcon} alt=\"\" style={{ float: \"right\" }} onClick={setOpen} /></span>\r\n\r\n      <span><HeadingText>GROUP CONVERSATIONS</HeadingText></span>\r\n\r\n      {groupConv.length > 0 && groupConv.map((group) => {\r\n        return (\r\n          <p style={{ fontWeight: \"bold\", color: \"#333333\" }}\r\n            onClick={() => handleSelectConversation(group._id)}>#{group.name}</p>)\r\n\r\n      })}\r\n    </div>\r\n  </>)\r\n}\r\n\r\nexport const CreateGroupChatModal = () => {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/* list of all group chats */}\r\n      <GroupConversations setOpen={handleClickOpen}></GroupConversations>\r\n\r\n      <Dialog onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open} disableBackdropClick={true}>\r\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\r\n          Create a Group Chat\r\n        </DialogTitle>\r\n\r\n        <DialogContent dividers >\r\n          <CreateGroupChatForm handleClose={handleClose} />\r\n        </DialogContent>\r\n\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import { Dictionary } from \"@reduxjs/toolkit\";\r\nimport React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../reducers/rootReducer\";\r\nimport { Conversation, User } from \"../../store/types\";\r\nimport Avatar from \"../common/Avatar\";\r\nimport styled from '@emotion/styled';\r\nimport ComposeIcon from \"../../icons/composeIcon.svg\";\r\nimport { CreateGroupChatModal } from \"./CreateGroupChatModal\";\r\nimport { selectConversation, setNewConversation } from \"../../reducers/conversationsSlice\";\r\nimport { fetchMessagesInConversation } from \"../../reducers/messagesSlice\";\r\nimport { AppDispatch } from \"../../store\";\r\n\r\nconst SideBarContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 17%;\r\n  height: 92vh;\r\n  cursor: pointer;\r\n  box-shadow: 2px 2px 3px #F5F5F5;\r\n  z-index: 1;\r\n`;\r\n\r\nexport const HeadingText = styled.div`\r\n  font-size: larger;\r\n  font-family: Passion One, cursive;\r\n  color: #707070;\r\n`;\r\n\r\nconst DirectMessages = () => {\r\n  const dispatch: AppDispatch = useDispatch();\r\n  const conversations = useSelector<RootState, Dictionary<Conversation>>(state => state.conversations.entities);\r\n  const directConv = Object.values(conversations).filter(c => {return c.users.length === 2});\r\n\r\n  const userID = useSelector<RootState, string>(state => state.user._id);\r\n  //these are only the users who have posts\r\n  const usersMap = useSelector<RootState, Dictionary<User>>(state => state.users.entities);\r\n\r\n  const handleSelectConversation = (conversationID) => {\r\n    // console.log(conversationID);\r\n    dispatch(selectConversation({ conversationID }));\r\n\r\n    // console.log(conversationID);\r\n    //fetch messages in current conversation\r\n    dispatch(fetchMessagesInConversation({ conversationID }));\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <span><img src={ComposeIcon} alt=\"\" style={{ float: \"right\" }} onClick={() => {\r\n        dispatch(setNewConversation());\r\n      }}/></span>\r\n\r\n      <span><HeadingText>DIRECT MESSAGES</HeadingText></span>\r\n\r\n      <div style={{ overflowY: \"scroll\" }}>\r\n        {directConv.length > 0 && directConv.map((c) => {\r\n          const otherUserID = c.users.filter((id) => id !== userID)[0];\r\n          const otherUser: User = usersMap[otherUserID];\r\n          return (\r\n            <div onClick={() => handleSelectConversation(c._id)} >\r\n              <Avatar isText={true} pic={otherUser.profilePic} title={otherUser.name} />\r\n            </div>)\r\n        })}\r\n      </div>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport const SideBar = () => {\r\n  // const users = useSelector<RootState, Dictionary<User>>(state => state.users.entities);\r\n  //replace these groups with group chat later\r\n\r\n  return (\r\n    <SideBarContainer>\r\n      {/* <SearchBar></SearchBar> */}\r\n      <div style={{ paddingLeft: \"30px\", paddingRight: \"30px\", marginTop: \"20%\" }}>\r\n\r\n        <DirectMessages></DirectMessages>\r\n\r\n        <CreateGroupChatModal></CreateGroupChatModal>\r\n      </div>\r\n\r\n    </SideBarContainer >\r\n  )\r\n}","import { Dictionary } from \"@reduxjs/toolkit\";\r\nimport React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../reducers/rootReducer\";\r\nimport { Conversation, User } from \"../../store/types\";\r\nimport Avatar from \"../common/Avatar\";\r\nimport styled from '@emotion/styled';\r\nimport { HeadingText } from \"./SideBar\";\r\nimport { ChatHeader } from \"./ChatArea\";\r\n\r\nconst ChatInfoContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 20%;\r\n  height: 92vh;\r\n  box-shadow: 1px 1px 2px 4px #F5F5F5;\r\n`;\r\n\r\nexport const H2 = styled.h2`\r\n  margin-bottom: -1px;\r\n`;\r\n\r\nexport const ChatInfoHeader = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  height: 15vh;\r\n`;\r\nexport const ChatInfo = () => {\r\n  const isGroupConversation = useSelector<RootState, boolean>(state => state.conversations.isGroupConversation);\r\n  const conversations = useSelector<RootState, Dictionary<Conversation>>(state => state.conversations.entities);\r\n  const currentConversationID = useSelector<RootState, string>(state => state.conversations.currentConversationID);\r\n  const currentConversation = conversations[currentConversationID];\r\n  //replace with people in the conversation\r\n  const users = useSelector<RootState, Dictionary<User>>(state => state.users.entities);\r\n\r\n  return (!currentConversation? <></> :\r\n    <ChatInfoContainer>\r\n      <ChatInfoHeader>\r\n        <div style={{ paddingLeft: \"30px\" }}>\r\n          {isGroupConversation ? <H2>Group info</H2> : <H2>Chat info</H2>}\r\n           {/*<p>{currentConversation.createdAt}</p>*/}\r\n          <span>Created Jul 17, 2020</span>\r\n        </div>\r\n      </ChatInfoHeader>\r\n\r\n      {/* <hr></hr> */}\r\n      <div style={{ paddingLeft: \"30px\", paddingTop: \"10px\" }}>\r\n        <HeadingText>PEOPLE</HeadingText>\r\n        {currentConversation.users.map((uID) => (\r\n          <Avatar isText={true} pic={users[uID].profilePic} title={users[uID].name} />\r\n        ))}\r\n      </div>\r\n    </ChatInfoContainer >\r\n  )\r\n}","import Quill from \"quill\";\r\nimport React, { useContext, useEffect, useRef } from \"react\";\r\nimport styled from '@emotion/styled';\r\nimport SendIcon from \"../../icons/sendIcon.svg\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../reducers/rootReducer\";\r\nimport { createMessagePending, fetchMessagesInConversation } from \"../../reducers/messagesSlice\";\r\nimport { CreateMessageBodyDto } from \"../../api\";\r\nimport \"../../App.css\";\r\nimport { createDirectConversationPending, createGroupConversationPending, selectConversation } from \"../../reducers/conversationsSlice\";\r\nimport { NewConversationClientToServerDto } from \"../../ws-dto/messages/messenger.ws.dto\";\r\nimport { Dictionary } from \"@reduxjs/toolkit\";\r\nimport { Conversation } from \"../../store/types\";\r\nimport { SocketContext } from \"../../App\";\r\n\r\nconst Editor = styled.div`\r\n  max-height: 50%;\r\n  height: fit-content;\r\n  width: 63%;\r\n  position: absolute;\r\n  bottom: 50px;\r\n  background-color: white;\r\n  overflow: scroll;\r\n  font-size: medium;\r\n`;\r\n\r\nconst Toolbar = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  position: absolute;\r\n  bottom: 0;\r\n  width: 63%;\r\n  background-color: #D3D3D3;\r\n  padding-left: 30px;\r\n`;\r\n\r\nexport const ChatInput = ({ newMessageSelectedUserIDs }: { newMessageSelectedUserIDs: string[] }) => {\r\n  const editor = useRef<Quill>(null);//handy for keeping any mutable value around similar to how youd use instance fields in classes.\r\n  const socket = useContext(SocketContext);\r\n  const userID = useSelector<RootState, string>(state => state.user._id);\r\n\r\n  const conversations = useSelector<RootState, Dictionary<Conversation>>(state => state.conversations.entities);\r\n  const conversationID = useSelector<RootState, string>(state => state.conversations.currentConversationID);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSend = useRef(null);\r\n  // console.log(\"ChatInput render... newMessageSelectedUserIDs\", newMessageSelectedUserIDs);\r\n\r\n  useEffect(() => {\r\n    handleSend.current = () => {\r\n      // get text from editor\r\n      const text = editor.current.root.innerHTML;\r\n\r\n      // if the conversationID is \"\", then the user is starting a new group chat with anonymous name\r\n      if (conversationID === \"\") {\r\n        const dto: NewConversationClientToServerDto = { otherUsers: newMessageSelectedUserIDs, initialMessage: text }\r\n\r\n        if (newMessageSelectedUserIDs.length > 1) {\r\n          socket.current.emit('newConversation', dto);\r\n          dispatch(createGroupConversationPending())\r\n        } else {\r\n          let foundExistingConversation = false;\r\n          for (const conv of Object.values(conversations)) {\r\n            if (conv.users.length !== 2) {\r\n              continue;\r\n            }\r\n            if (conv.users.includes(newMessageSelectedUserIDs[0])) {\r\n              // Select this conversation instead of making a new one\r\n              console.log(\"Found existing conversation!\");\r\n              dispatch(selectConversation({ conversationID: conv._id }));\r\n              dispatch(fetchMessagesInConversation({ conversationID: conv._id }));\r\n\r\n              const messageDto: CreateMessageBodyDto = { conversationID: conv._id, text, userID, createdAt: Date.now()};\r\n              socket.current.emit('newMessage', messageDto);\r\n              dispatch(createMessagePending(messageDto));\r\n              foundExistingConversation = true;\r\n              break;\r\n            }\r\n          }\r\n          if (!foundExistingConversation) {\r\n            socket.current.emit('newConversation', dto);\r\n            dispatch(createDirectConversationPending());\r\n          }\r\n        }\r\n        return;\r\n        // when the back end responds, dispatch is called (in socket.on in messenger/index)\r\n      }\r\n\r\n      //general case, when sending a message\r\n      const createMessageBodyDto: CreateMessageBodyDto = {\r\n        userID,\r\n        conversationID,\r\n        // text: editor.current.getText(),\r\n        text,\r\n        createdAt: Date.now(),\r\n      }\r\n      console.log(createMessageBodyDto);\r\n      socket.current.emit('newMessage', createMessageBodyDto);\r\n      dispatch(createMessagePending(createMessageBodyDto));\r\n      editor.current.setText('');\r\n    }\r\n  }, [conversationID, newMessageSelectedUserIDs]);\r\n\r\n  useEffect(() => {\r\n    editor.current = new Quill('#editor', {\r\n      modules: {\r\n        toolbar: '#toolbar',\r\n        keyboard: {\r\n          bindings: {\r\n            enter: {\r\n              key: 13,\r\n              handler: () => handleSend.current()\r\n            }\r\n          }\r\n        }\r\n      },\r\n      placeholder: 'Send message',\r\n      theme: 'snow'  // or 'bubble'\r\n    });\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <Editor id=\"editor\">\r\n      </Editor>\r\n\r\n      <Toolbar id=\"toolbar\">\r\n        {/* < Add a bold button  */}\r\n        <button className=\"ql-bold\"></button>\r\n        {/* add subscript and superscript buttons */}\r\n        <button className=\"ql-italic\"></button>\r\n        <button className=\"ql-underline\"></button>\r\n        <button className=\"ql-strike\"></button>\r\n        <button className=\"ql-image\"></button>\r\n        <button className=\"ql-code-block\"></button>\r\n        <button className=\"ql-link\"></button>\r\n        <button className=\"ql-blockquote\"></button>\r\n        <button className=\"ql-list\" value=\"ordered\"></button>\r\n        <button className=\"ql-list\" value=\"bullet\"></button>\r\n\r\n        <div style={{ flex: 1 }}></div>\r\n        <p style={{ fontSize: \"small\", fontStyle: \"italic\" }}>\r\n          <strong>Enter</strong> to send&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n          <strong>Shift</strong> + <strong>Enter</strong> to add a new line&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n        <div style={{ marginRight: \"15px\", marginTop: \"10px\" }}>\r\n          <img src={SendIcon} alt=\"send\" onClick={handleSend.current} />\r\n        </div>\r\n      </Toolbar>\r\n    </>\r\n  )\r\n}","import React, { useEffect, useRef } from \"react\";\r\nimport styled from '@emotion/styled';\r\n\r\nexport const ChatBubble = styled.div<{ isUser: boolean }>`\r\n  margin-left: 2.6em;\r\n  margin-top: ${({ isUser }) => isUser ? \"-1em\" : \"-0.5em\"};\r\n  `\r\n\r\nexport const ChatMessage = ({ content, isUser }) => {\r\n  const chatMessage = useRef(null);\r\n  useEffect(() => {\r\n    chatMessage.current.innerHTML += content;\r\n  }, [content])\r\n\r\n  return (\r\n    <div className=\"ql-snow\" >\r\n      <div className=\"ql-editor\">\r\n        <ChatBubble ref={chatMessage} isUser={isUser} />\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { Dictionary } from \"@reduxjs/toolkit\";\r\nimport React, { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../reducers/rootReducer\";\r\nimport { User } from \"../../store/types\";\r\nimport { getFollowingFollowersOfUser } from \"../../util/helperFunctions\";\r\nimport AddMultiple from \"../group/AddMuliple\";\r\nimport { ChatHeader } from \"./ChatArea\";\r\nimport { H2 } from \"./ChatInfo\";\r\n\r\n\r\nexport const NewConversation = ({ setPeople }) => {\r\n  const usersMap = useSelector<RootState, Dictionary<User>>(state => state.users.entities);\r\n  const user = useSelector<RootState, User>(state => state.user);\r\n  let followingFollowers: User[] = getFollowingFollowersOfUser(usersMap, user);\r\n\r\n  return (\r\n    <ChatHeader>\r\n      <div style={{ paddingLeft: \"30px\", display: \"flex\", flexDirection: \"row\", alignItems: \"center\" }}>\r\n        <div style={{ display: \"flex\", flexDirection: \"column\", marginLeft: \"20px\" }}>\r\n          <H2>New message</H2>\r\n          {/* <p>ViewProfile</p> */}\r\n          <AddMultiple label=\"To: Select names to send message\" options={followingFollowers} imgKey=\"profilePic\" setItems={setPeople}></AddMultiple>\r\n        </div>\r\n      </div>\r\n    </ChatHeader>\r\n  )\r\n}","import React, {useState} from \"react\";\r\nimport styled from '@emotion/styled';\r\nimport {useSelector} from \"react-redux\";\r\nimport {RootState} from \"../../reducers/rootReducer\";\r\nimport Avatar from \"../common/Avatar\";\r\nimport {Dictionary} from \"@reduxjs/toolkit\";\r\nimport {Conversation, CurrentLoggedInUser, Message, User} from \"../../store/types\";\r\nimport {ChatInfoHeader, H2} from \"./ChatInfo\";\r\nimport {ChatInput} from \"./ChatInput\";\r\n\r\nimport {PendingMessage} from \"../../reducers/messagesSlice\";\r\nimport {ChatMessage} from \"./ChatMessage\";\r\nimport \"../../App.css\";\r\nimport moment from \"moment\";\r\nimport {NewConversation} from \"./NewConversation\";\r\nimport { Loading } from \"../common/Loading\";\r\n\r\nconst ChatAreaContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 63%;\r\n  height: 80vh;\r\n  background-color: white;\r\n`;\r\n\r\nexport const ChatHeader = styled(ChatInfoHeader)`\r\n  border-bottom: 1px solid #F2F2F2;\r\n`;\r\n\r\nconst GroupChatHeader = ({ conversation }: {conversation: Conversation}) => {\r\n  return (\r\n    <ChatHeader>\r\n      <div style={{ paddingLeft: \"30px\" }}>\r\n        <H2>{conversation.name}</H2>\r\n        <span>{conversation.users.length} members&nbsp;&nbsp;&nbsp;&nbsp;</span>\r\n        <span>+ Add member</span>\r\n      </div>\r\n    </ChatHeader >)\r\n}\r\n\r\nconst DirectChatHeader = ({ currentConversation }) => {\r\n  // const user = useSelector<RootState, CurrentLoggedInUser>(state => state.user);\r\n  const userID = useSelector<RootState, string>(state => state.user._id);\r\n\r\n  const users = useSelector<RootState, Dictionary<User>>(state => state.users.entities);\r\n  const otherUserID = currentConversation.users.filter((id) => id !== userID)[0];\r\n  const otherUser: User = users[otherUserID];\r\n  return (\r\n    <ChatHeader>\r\n      <div style={{ paddingLeft: \"30px\", display: \"flex\", flexDirection: \"row\", alignItems: \"center\" }}>\r\n        <div style={{ display: \"flex\", flexDirection: \"column\", marginLeft: \"20px\" }}>\r\n          <H2>{otherUser.name}</H2>\r\n          <p>ViewProfile</p>\r\n        </div>\r\n      </div>\r\n    </ChatHeader>)\r\n}\r\n\r\nexport const ChatArea = () => {\r\n  const user = useSelector<RootState, CurrentLoggedInUser>(state => state.user);\r\n  const users = useSelector<RootState, Dictionary<User>>(state => state.users.entities);\r\n\r\n  const isGroupConversation = useSelector<RootState, boolean>(state => state.conversations.isGroupConversation);\r\n  const isDirectConversation = useSelector<RootState, boolean>(state => state.conversations.isDirectConversation);\r\n\r\n  const conversations = useSelector<RootState, Dictionary<Conversation>>(state => state.conversations.entities);\r\n  const currentConversationID = useSelector<RootState, string>(state => state.conversations.currentConversationID);\r\n  const currentConversation = conversations[currentConversationID];\r\n\r\n  const messages = useSelector<RootState, Dictionary<Message>>(state => state.messages.entities);\r\n  const messagesArr = Object.values(messages).filter((message) => {\r\n    if (currentConversation) {\r\n      return currentConversation.messages.includes(message._id);\r\n    }\r\n  });\r\n\r\n  const pendingMessages = useSelector<RootState, PendingMessage[]>(state => state.messages.pendingMessages);\r\n  const pendingMessagesFromCurrConversation = pendingMessages.filter((msg) => msg.conversationID === currentConversationID);\r\n\r\n  const [people, setPeople] = useState<string[]>([]);\r\n\r\n  const isLoading = useSelector<RootState, boolean>(state => state.conversations.isLoading);\r\n  if (isLoading) {\r\n    return (\r\n      <Loading></Loading>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <ChatAreaContainer>\r\n      {!currentConversation && <NewConversation setPeople={setPeople}></NewConversation>}\r\n      {currentConversation && isGroupConversation && <GroupChatHeader conversation={currentConversation} />}\r\n      {currentConversation && isDirectConversation && <DirectChatHeader currentConversation={currentConversation} />}\r\n\r\n      {/* all messages sent by the server */}\r\n      { currentConversation &&\r\n      <div style={{ paddingTop: \"20px\", overflowY: \"scroll\" }}>\r\n        {messagesArr.map((msg) => {\r\n          return (\r\n            <div style={{ margin: \"10px 40px 10px 40px\" }}>\r\n              {msg.author === user._id ? (\r\n                <>\r\n                  <div className=\"textBlock\" style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n                    <Avatar pic={user.profilePic} title={user.name} isText={true} extraText={moment(msg.createdAt).calendar()}></Avatar>\r\n                    <ChatMessage content={msg.text} isUser={true} />\r\n                  </div>\r\n                </>\r\n              ) :\r\n                <>\r\n                  <div className=\"textBlock\" style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n                    <Avatar pic={users[msg.author].name} title={users[msg.author].name} isText={true} extraText={moment(msg.createdAt).calendar()}></Avatar>\r\n                    <ChatMessage content={msg.text} isUser={false}></ChatMessage>\r\n                  </div>\r\n                </>}\r\n            </div>)\r\n        })}</div>\r\n      }\r\n\r\n      {/* pending message from current user */}\r\n      <div style={{ paddingTop: \"20px\", overflowY: \"scroll\" }}>\r\n        {pendingMessagesFromCurrConversation.map((pendingMsg) => (\r\n          <div style={{ margin: \"10px 40px 10px 40px\" }}>\r\n            <Avatar pic={user.profilePic} title={user.name} subtitle={pendingMsg.text} isText={true} />\r\n            <em style={{ fontSize: \"smaller\", paddingLeft: \"50px\" }}>Sending...</em>\r\n          </div>\r\n        ))}</div>\r\n\r\n      <ChatInput newMessageSelectedUserIDs={people}></ChatInput>\r\n\r\n    </ChatAreaContainer >\r\n  )\r\n}","import React, { useEffect, useRef } from \"react\";\r\nimport { SideBar } from \"./SideBar\";\r\nimport styled from '@emotion/styled';\r\nimport { ChatArea } from \"./ChatArea\";\r\nimport { ChatInfo } from \"./ChatInfo\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../reducers/rootReducer\";\r\nimport io from 'socket.io-client';\r\nimport { createMessageSuccess, fetchMessagesInConversation, receiveNewMessage } from \"../../reducers/messagesSlice\";\r\nimport { BackEndBaseUriForWs, JwtLocalStorageKey } from \"../../constants\";\r\nimport { addConversation, createConversationSuccess } from \"../../reducers/conversationsSlice\";\r\nimport { NewConversationServerToClientDto } from \"../../ws-dto/messages/messenger.ws.dto\";\r\n\r\nexport const ChatContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding-top: 8vh;\r\n`;\r\n\r\nexport const Messenger = () => {\r\n  // const userID = useSelector<RootState, string>(state => state.user._id);\r\n  // const dispatch = useDispatch();\r\n\r\n  return (\r\n      <ChatContainer>\r\n        <SideBar />\r\n        <ChatArea />\r\n        <ChatInfo />\r\n      </ChatContainer>\r\n  )\r\n}","import React, {useContext, useRef} from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport PurpleButton from \"../common/PurpleButton\";\r\nimport {createCommentPending} from \"../../reducers/commentsSlice\";\r\n\r\nimport { CreateCommentClientToServerDto } from \"../../ws-dto/comments/dto/createComment.ws.dto\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport { SocketContext } from \"../../App\";\r\nimport {RootState} from \"../../reducers/rootReducer\";\r\nimport {Loading} from \"../common/Loading\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    marginTop: \"1em\",\r\n  },\r\n  name: {\r\n    fontSize: \"medium\",\r\n    border: \"none\",\r\n    borderRadius: \"5px\",\r\n    width: \"60%\",\r\n    paddingLeft: \"2em\",\r\n    height: \"3em\",\r\n    marginBottom: \"1em\",\r\n  },\r\n  comment: {\r\n    alignContent: \"\",\r\n    height: \"5em\",\r\n  },\r\n});\r\n\r\nconst NewComment = ({postID}) => {\r\n  const socket = useContext(SocketContext);\r\n  const classes = useStyles();\r\n  const inputRef = useRef(null);\r\n  const dispatch = useDispatch();\r\n  const createPending = useSelector<RootState, boolean>(state => state.comments.isLoading);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (inputRef.current.value.trim() === '') {\r\n      return;\r\n    }\r\n    const content = inputRef.current.value.trim();\r\n    const newCommentDto: CreateCommentClientToServerDto = {\r\n      content,\r\n      // parentComment?: string;\r\n      parentPost: postID,\r\n      // parentVideo?: string;\r\n      commentRoot: \"post\",\r\n    };\r\n    socket.current.emit('createComment', newCommentDto);\r\n    dispatch(createCommentPending());\r\n  }\r\n\r\n  if (createPending) {\r\n    return <Loading />\r\n  }\r\n\r\n  return (\r\n    <form className={classes.root} onSubmit={(e) => handleSubmit(e)}>\r\n      <input\r\n        className={`${classes.name} ${classes.comment}`}\r\n        placeholder=\"Type comment\"\r\n        ref={inputRef}\r\n      />\r\n      {/*<input className={classes.name} placeholder=\"Type comment\" />*/}\r\n      <PurpleButton content=\"Post comment\"></PurpleButton>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default NewComment;\r\n","import {Link, useHistory} from \"react-router-dom\";\r\nimport PurpleButton from \"../common/PurpleButton\";\r\nimport React from \"react\";\r\n\r\nfunction UpdateButton(params) {\r\n    const history = useHistory();\r\n\r\n    const handleClick = () => {\r\n        console.log(\"POSTDETAIL::UPDATE\");\r\n        console.log(params);\r\n        console.log(params.slug);\r\n        history.push(`/update-post/${params.slug}`);\r\n    }\r\n    return (<PurpleButton handleClick={handleClick} content={\"Update Post\"}></PurpleButton>);\r\n}\r\n\r\nexport default UpdateButton;","import React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {RootState} from \"../../reducers/rootReducer\";\r\nimport {Comment, User} from \"../../store/types\";\r\nimport Avatar from \"../common/Avatar\";\r\nimport moment from \"moment\";\r\nimport styled from \"@emotion/styled\";\r\n\r\nconst Container = styled.div`\r\n\r\n`\r\n\r\nconst CommentContent = styled.p`\r\n  margin-left: 3.5em;\r\n  margin-top: -0.35em;\r\n`\r\n\r\nexport function ChildComment({commentID}: {commentID: string}) {\r\n  const comment = useSelector<RootState, Comment>(state => state.comments.entities[commentID]);\r\n  const author = useSelector<RootState, User>(state => state.users.entities[comment?.author]);\r\n\r\n  return (<Container>\r\n    <Avatar pic={author.profilePic}\r\n            small\r\n            title={author.userID} titleSrc={`/user/${author.userID}`}\r\n            subtitle={moment(comment.createdAt).calendar()}\r\n            subtitleIsDate\r\n    ></Avatar>\r\n    <CommentContent>{comment.content}</CommentContent>\r\n  </Container>);\r\n}","import React, {useContext, useRef, useState} from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport {RootState} from \"../../reducers/rootReducer\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {Comment, CurrentLoggedInUser, User} from \"../../store/types\";\r\nimport Avatar from \"../common/Avatar\";\r\nimport moment from \"moment\";\r\nimport {ChildComment} from \"./ChildComment\";\r\nimport {Modal} from \"@material-ui/core\";\r\nimport {initializeGitHubOAuth} from \"../login/login\";\r\nimport {SocketContext} from \"../../App\";\r\nimport {CreateCommentClientToServerDto, CreateCommentEvent} from \"../../ws-dto/comments/dto/createComment.ws.dto\";\r\nimport ReplySvg from \"../../assets/reply.svg\";\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\n\r\n\r\nconst CommentContent = styled.p`\r\n  margin-left: 3.5em;\r\n  margin-top: -0.35em;\r\n`\r\n\r\nconst TopLevelCommentContainer = styled.div`\r\n\r\n`\r\n\r\nconst ChildCommentsContainer = styled.div`\r\n  margin-left: 5em;\r\n`\r\n\r\nconst CreateCommentReplyContainer = styled.div`\r\n  background-color: white;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  padding: 1em;\r\n  text-align: center;\r\n`\r\n\r\nconst CreateCommentInfo = styled.p`\r\n  font-style: italic;\r\n  color: gray;\r\n`\r\n\r\nconst CreateCommentReplyInput = styled.input`\r\n  width: 300px;\r\n  font-size: medium;\r\n  padding: 1em;\r\n`\r\n\r\ntype Props = {\r\n  commentID: string;\r\n}\r\n\r\nexport function TopLevelComment({commentID}: Props) {\r\n  const comment = useSelector<RootState, Comment>(state => state.comments.entities[commentID]);\r\n  const author = useSelector<RootState, User>(state => state.users.entities[comment?.author]);\r\n  const [expanded, setExpanded] = useState(false);\r\n  const [openReplyModal, setOpenReplyModal] = useState(false);\r\n  const replyInputRef = useRef(null); // Form input for creating a reply in the modal\r\n  const currentUser = useSelector<RootState, CurrentLoggedInUser>(state => state.user);\r\n  const socket = useContext(SocketContext);\r\n\r\n  if (!comment) {\r\n    console.log('TopLevelComment.tsx.. Comment does not exist in Redux store for ID: ', commentID);\r\n    return <></>;\r\n  }\r\n\r\n  function createCommentReply(event) {\r\n    event.preventDefault();\r\n\r\n    if (replyInputRef.current.value.trim() === '') {\r\n      return;\r\n    }\r\n\r\n    const content = replyInputRef.current.value.trim();\r\n    const dto: CreateCommentClientToServerDto = {\r\n      commentRoot: 'post',\r\n      parentPost: comment.parentPost,\r\n      parentComment: commentID,\r\n      content\r\n    };\r\n    socket.current.emit(CreateCommentEvent, dto);\r\n    setOpenReplyModal(false);\r\n  }\r\n\r\n  function handleClickReply(event) {\r\n    if (!currentUser) {\r\n      // Send user to login\r\n      initializeGitHubOAuth();\r\n      return; // unreacheable\r\n    }\r\n    setOpenReplyModal(true);\r\n  }\r\n\r\n  return (\r\n    <div style={{backgroundColor: expanded ? \"white\" : \"inherit\", borderRadius: \"20px\", paddingLeft: \"1em\", paddingBottom: \"1.5em\", cursor: \"pointer\"}}>\r\n      <TopLevelCommentContainer onClick={() => setExpanded(expanded => !expanded)}>\r\n        <Avatar pic={author.profilePic}\r\n                title={author.userID} titleSrc={`/user/${author.userID}`}\r\n                subtitle={moment(comment.createdAt).calendar()}\r\n                subtitleIsDate\r\n                extraText=\"Reply\"\r\n                extraTextOnClick={handleClickReply}\r\n        ></Avatar>\r\n\r\n      </TopLevelCommentContainer>\r\n      <CommentContent>{comment.content}</CommentContent>\r\n      {expanded && (<ChildCommentsContainer>\r\n        {comment.replies.map(reply => <ChildComment commentID={reply}></ChildComment>)}\r\n      </ChildCommentsContainer>)}\r\n\r\n      <Modal open={openReplyModal} onClose={() => setOpenReplyModal(false)} closeAfterTransition\r\n             BackdropComponent={Backdrop} BackdropProps={{timeout: 500}}>\r\n        <Fade in={openReplyModal}>\r\n          <CreateCommentReplyContainer>\r\n            <img height={80} src={ReplySvg} alt=\"Reply\"/>\r\n            <CreateCommentInfo>Reply to {author.userID}</CreateCommentInfo>\r\n            <form onSubmit={createCommentReply}>\r\n              <CreateCommentReplyInput ref={replyInputRef} placeholder=\"Type comment\"/>\r\n            </form>\r\n          </CreateCommentReplyContainer>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}","import { CommentDto } from './getCommentsByPostID.ws.dto';\r\n\r\nexport const CreateCommentEvent = \"createComment\";\r\nexport const CreateCommentInvalidPostErrorString = \"Cannot create comment -- invalid Post ID\";\r\nexport const CreateCommentInvalidParentCommentErrorString = \"Cannot create comment -- invalid parent comment ID\";\r\n\r\nexport class CreateCommentClientToServerDto {\r\n  content: string;\r\n  parentComment?: string;\r\n  parentPost?: string;\r\n  parentVideo?: string;\r\n  commentRoot: string;\r\n}\r\n\r\nexport class CreateCommentServerToClientDto {\r\n  comment: CommentDto;\r\n}","import React, {useContext, useEffect, useState} from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {RootState} from \"../../reducers/rootReducer\";\r\nimport {Dictionary} from \"@reduxjs/toolkit\";\r\nimport {Comment, Post} from \"../../store/types\";\r\nimport {Loading} from \"../common/Loading\";\r\nimport WriteThefirstComment from \"../../assets/write_the_first_comment.svg\";\r\nimport Avatar from \"../common/Avatar\";\r\nimport {SocketContext} from \"../../App\";\r\nimport {\r\n  GetCommentsByPostIDEvent,\r\n  GetCommentsClientToServerDto\r\n} from \"../../ws-dto/comments/dto/getCommentsByPostID.ws.dto\";\r\nimport {TopLevelComment} from \"./TopLevelComment\";\r\n\r\nconst Container = styled.div`\r\n\r\n`\r\n\r\nconst NoCommentsContainer = styled.div`\r\n  text-align: center;\r\n`\r\n\r\nconst SubtleEncouragement = styled.p`\r\n  color: gray;\r\n  font-style: italic;\r\n`\r\n\r\nfunction postHasNoComments() {\r\n  return (<NoCommentsContainer>\r\n    <SubtleEncouragement>No comments yet...</SubtleEncouragement>\r\n    <img height={150} src={WriteThefirstComment} alt='Write the first comment'/>\r\n    <SubtleEncouragement>Write the first comment below!</SubtleEncouragement>\r\n  </NoCommentsContainer>)\r\n}\r\n\r\nexport function Comments({postID}:{postID?:string}) {\r\n  const post = useSelector<RootState, Post>(state => state.posts.entities[postID]);\r\n  const fetchedComments = useSelector<RootState, boolean>(state => state.posts.fetchedComments[postID]);\r\n  const socket = useContext(SocketContext);\r\n\r\n  // Emit fetch comments WS event if needed\r\n  useEffect(() => {\r\n    console.log('post_detail/Comments.tsx useEffect, postID:', postID)\r\n    if (postID && !fetchedComments) {\r\n      const dto: GetCommentsClientToServerDto = {postID};\r\n      socket.current.emit(GetCommentsByPostIDEvent, dto);\r\n      console.log('post_detail/Comments.tsx useEffect -- emitting ', GetCommentsByPostIDEvent);\r\n    }\r\n  }, [postID]);\r\n\r\n  const topLevelComments = useSelector<RootState, string[]>(state => {\r\n    const ret = [];\r\n    post?.comments?.forEach(commentID => {\r\n      const comment = state.comments.entities[commentID];\r\n      if (comment && !comment.parentComment) {\r\n        // top level comment if it has no parentComment\r\n        ret.push(commentID);\r\n      }\r\n    });\r\n    return ret;\r\n  });\r\n\r\n  if (!post?.content) {\r\n    console.log('post_detail/Comments.tsx render .. post is not loaded');\r\n    return <Loading />\r\n  }\r\n\r\n  if (post.comments.length === 0) {\r\n    return postHasNoComments();\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {topLevelComments.map(commentID => <TopLevelComment commentID={commentID}/>)}\r\n    </Container>\r\n  )\r\n}","export const GetCommentsByPostIDEvent = \"getCommentsByPostID\";\r\n\r\nexport class GetCommentsServerToClientDto {\r\n  postID: string;\r\n  comments: CommentDto[];\r\n  authors: CommentAuthorDto[];\r\n}\r\n\r\nexport class GetCommentsClientToServerDto {\r\n  postID: string;\r\n}\r\n\r\nexport class CommentDto {\r\n  _id: string;\r\n  author: string;\r\n  content: string;\r\n  commentRoot: string;\r\n  replies?: string[];\r\n  likes: number;\r\n  parentPost?: string;\r\n  parentComment?: string;\r\n  parentVideo?: string;\r\n  createdAt: number;\r\n}\r\n\r\nexport class CommentAuthorDto {\r\n  _id: string;\r\n  userID: string;\r\n  name: string;\r\n  profilePic?: string;\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    backgroundColor: \"red\",\r\n    color: \"white\",\r\n    width: \"fit-content\",\r\n    height: \"2em\",\r\n    border: \"none\",\r\n    borderRadius: \"10px\",\r\n    fontSize: \"15px\",\r\n    padding: \"10px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n});\r\n\r\nconst RedButton = ({ handleClick, params, content }: { handleClick?: (params) => any, params?: any, content: string }) => {\r\n  const classes = useStyles();\r\n  return <button onClick={handleClick} className={classes.root}>{content}</button>;\r\n};\r\nexport default RedButton;\r\n","import {useHistory} from \"react-router-dom\";\r\nimport RedButton from \"../common/RedButton\";\r\nimport React, {useState} from \"react\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport {Button} from \"@material-ui/core\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Loading} from \"../common/Loading\";\r\nimport { deletePost } from \"../../reducers/postsSlice\";\r\nimport {PostsApi} from \"../../api\";\r\n\r\nfunction DeletePostButton({postID}: { postID: string }) {\r\n  const history = useHistory();\r\n  const [open, setOpen] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleClick = () => {\r\n    handleClose();\r\n    new PostsApi().postsControllerDeletePostByPostID(postID).then(() => {console.log('Confirmed optimistic post deletion from backend!')})\r\n      .catch(console.log);\r\n    dispatch(deletePost({postID}));\r\n    history.push('/');\r\n  }\r\n\r\n  if (!postID) {\r\n    return <Loading/>\r\n  }\r\n\r\n  return (<>\r\n    <RedButton handleClick={handleClickOpen} content={\"Delete Post\"}></RedButton>\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">{\"Delete this post?\"}</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText id=\"alert-dialog-description\">\r\n          Note: this action is irreversible\r\n        </DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClick} color=\"secondary\" autoFocus>\r\n          Confirm Delete\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  </>);\r\n}\r\n\r\nexport default DeletePostButton;\r\n","import {makeStyles} from '@material-ui/core/styles';\r\nimport React, {useEffect, useState} from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {Redirect, useParams} from 'react-router-dom';\r\nimport {PostDetailParams} from '../../App';\r\nimport Avatar from '../common/Avatar';\r\nimport {Loading} from '../common/Loading';\r\nimport {NotFoundError} from '../common/NotFoundError';\r\nimport NewComment from './NewComment';\r\nimport UpdateButton from './UpdateButton';\r\nimport {RootState} from '../../reducers/rootReducer';\r\nimport {fetchPostBySlug} from '../../reducers/postsSlice';\r\nimport {CurrentLoggedInUser, Post, User} from '../../store/types';\r\nimport {AppDispatch} from '../../store';\r\nimport defaultPostFeaturedImage from \"../../assets/defaultPostFeaturedImage.jpg\";\r\nimport {PostsApi} from \"../../api\";\r\nimport {useLikePost} from \"../../hooks/useLikePost\";\r\nimport CommentIcon from \"../../icons/commentIcon.svg\";\r\nimport HeartIcon from \"../../icons/heartIcon.svg\";\r\nimport HeartIconRed from \"../../icons/heartIconRed.svg\";\r\nimport BookmarkEmpty from \"../../icons/bookmarkEmpty.svg\";\r\nimport {Comments} from \"./Comments\";\r\nimport DeletePostButton from \"./DeletePostButton\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  postDetail: {\r\n    paddingTop: \"10vh\",\r\n    // paddingBottom: \"20vh\",\r\n    width: \"60vw\",\r\n    margin: \"0 auto\",\r\n  },\r\n  interactions: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  },\r\n  shareIcon: {\r\n    marginLeft: \"2em\",\r\n    width: \"1.5em\",\r\n  },\r\n  heartIcon: {\r\n    width: \"1.3em\",\r\n  },\r\n  interactionsIcons: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-start\",\r\n    flexDirection: \"row\",\r\n    alignContent: \"center\",\r\n    marginTop: \"6vh\",\r\n  },\r\n});\r\n\r\nconst Interactions = () => {\r\n  return <> </>\r\n}\r\n\r\nconst PostDetail = () => {\r\n  const {slug} = useParams<PostDetailParams>(); //get the url param to render the appropriate post\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch<AppDispatch>();\r\n  const currentUser = useSelector<RootState, CurrentLoggedInUser>(state => state.user);\r\n\r\n  // const slugtoid = useSelector<RootState, Record<string, string>>(state => state.posts.slugToID);\r\n  const {post, author} = useSelector<RootState, { post: Post, author: User }>(state => {\r\n    const postID = state.posts.slugToID[slug];\r\n    if (!postID) {\r\n      return {post: null, author: null};\r\n    }\r\n    const post = state.posts.entities[postID];\r\n    const author = state.users.entities[post.author];\r\n    return {post, author};\r\n  });\r\n\r\n  const {postIsLikedByUser, handleToggleLike} = useLikePost(post?._id);\r\n\r\n  let canUpdate = false; // if the current user is the author, show an 'update post' button\r\n  if (author !== null) {\r\n    canUpdate = currentUser !== null && currentUser._id === author._id;\r\n  }\r\n\r\n  const [error, setError] = useState(null);\r\n\r\n  let featuredImg: string;\r\n  if (!post?.featuredImg) {\r\n    featuredImg = defaultPostFeaturedImage;\r\n  } else {\r\n    featuredImg = post.featuredImg;\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (slug == null || slug === \"\") {\r\n      return;\r\n    }\r\n    if (!post?.content) {\r\n      // automatically increments view count in PostService\r\n      dispatch(fetchPostBySlug({slug, getAuthor: !author})).catch(setError);\r\n    } else {\r\n      // increment view count if don't need to fetch the post\r\n      new PostsApi().postsControllerIncrementView(post._id).then(() => console.log(\"Already had post. Incremented view count.\")).catch(console.log);\r\n    }\r\n  }, []);\r\n\r\n  if (slug == null || slug === \"\") {\r\n    return <Redirect to=\"/\"/>\r\n  }\r\n\r\n  if (!post?.content || !author) {\r\n    return <Loading/>\r\n  }\r\n\r\n  if (error) {\r\n    return <NotFoundError/> // TODO: add something for server error\r\n  }\r\n\r\n  // post has item with content\r\n  // const likedByUser = isLoggedIn && post.likedByUser;\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.postDetail}>\r\n        <img\r\n          src={featuredImg}\r\n          style={{height: \"20em\", objectFit: \"cover\", width: \"100%\"}} alt=\"featured\"\r\n        />\r\n        <h1>{post.title}</h1>\r\n\r\n        <Avatar pic={author.profilePic} title={author.userID} subtitle={post.createdAt} isPost={true}\r\n                extraText=\"follow\" isButton={true}></Avatar>\r\n\r\n        <p>{post.content}</p>\r\n\r\n        <Interactions/>\r\n        <div className={classes.interactionsIcons}>\r\n          <span>\r\n            <img className={classes.heartIcon} src={postIsLikedByUser ? HeartIconRed : HeartIcon} alt=\"\"\r\n                 onClick={() => {\r\n                   handleToggleLike()\r\n                   ;\r\n                 }}/>&nbsp;&nbsp;{post.likes}\r\n          </span>\r\n          <span>\r\n            <img className={classes.shareIcon} src={CommentIcon} alt=\"\"/>\r\n            &nbsp;&nbsp;{post.commentsCount}\r\n          </span>\r\n          <span>\r\n            <img className={classes.shareIcon} src={BookmarkEmpty} alt=\"\"/>\r\n            &nbsp;&nbsp;Save\r\n          </span>\r\n        </div>\r\n\r\n        <hr></hr>\r\n        <Comments postID={post._id}></Comments>\r\n        <NewComment postID={post._id}></NewComment>\r\n        <div style={{height: \"20px\"}}/>\r\n        {canUpdate && <UpdateButton params={slug}/>}\r\n        <div style={{height: \"20px\"}}/>\r\n        {canUpdate && <DeletePostButton postID={post?._id}/>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostDetail;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nexport default function TagCard() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"contained\" color=\"secondary\" className={classes.button} endIcon={<CloseIcon/>}>Cpp\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n// import { useDispatch, useSelector } from \"react-redux\";\r\n// import { RootState, SavedPost, CurrentViewedPost, Tag } from \"../../initialData\";\r\nimport TagCard from \"./TagCard\";\r\n\r\nconst useStyles = makeStyles({\r\n  rightbar: {\r\n    width: \"20vw\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    // height: \"100%\",\r\n    cursor: \"pointer\",\r\n    paddingLeft: \"2em\",\r\n    paddingTop: \"5vh\",\r\n    marginRight: \"5vw\",\r\n  },\r\n  title: {\r\n    fontSize: \"1em\"\r\n  },\r\n  search: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"40vh\",\r\n    overflowY: \"auto\",\r\n  },\r\n  searchoption: {\r\n    fontSize: \"1em\"\r\n  },\r\n  filter: {\r\n    height: \"56vh\",\r\n    display: \"flex\",\r\n  },\r\n  display: {\r\n    fontWeight: \"bold\",\r\n    marginBottom: \"1em\",\r\n  },\r\n  filtertags: {\r\n  }\r\n});\r\n\r\nexport default function RightSideBar() {\r\n  const classes = useStyles();\r\n  // const dispatch = useDispatch();\r\n  // const currViewedPost = useSelector<RootState, CurrentViewedPost>(\r\n  //   (state) => state.currentViewedPost\r\n  // );\r\n  // const savedPosts = useSelector<RootState, SavedPost[]>(\r\n  //   (state) => state.savedPosts\r\n  // );\r\n\r\n  // const tags = useSelector<RootState, Tag[]>((state) => state.tags);\r\n\r\n  return (\r\n    <div className={classes.rightbar}>\r\n      <div className={classes.search}>\r\n        <p className={classes.title}># Search</p>\r\n        <hr className={classes.display}></hr>\r\n        <div className={classes.searchoption}>\r\n          <input type=\"checkbox\" checked />\r\n          <label>posts</label>\r\n          <br></br>\r\n          <input type=\"checkbox\" />\r\n          <label>users</label>\r\n          <br></br>\r\n          <input type=\"checkbox\" />\r\n          <label>videos</label>\r\n        </div>\r\n      </div>\r\n      <div className={classes.filter}>\r\n        <p className={classes.title}># Filter by</p>\r\n        <hr className={classes.display}></hr>\r\n        <div className={classes.filtertags}>\r\n          <TagCard />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport React from 'react';\r\n\r\nimport Main from '../home/Main';\r\nimport RightSideBar from './RightSideBar';\r\n\r\nconst useStyles = makeStyles({\r\n  home: {\r\n    paddingTop: \"7vh\",\r\n    display: \"flex\",\r\n  },\r\n});\r\n\r\nexport default function Home() {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.home}>\r\n      <Main />\r\n      <RightSideBar />\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\nimport {useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {RootState} from \"../../reducers/rootReducer\";\r\nimport {Dictionary, unwrapResult} from \"@reduxjs/toolkit\";\r\nimport {User} from \"../../store/types\";\r\nimport {convertArrToMap} from \"../../util/helperFunctions\";\r\nimport {AppDispatch} from \"../../store\";\r\nimport {useEffect} from \"react\";\r\nimport {fetchUsersByIDs} from \"../../reducers/usersSlice\";\r\nimport {Loading} from \"../common/Loading\";\r\nimport ErrorPage from \"../common/ErrorPage\";\r\nimport {uploadPublicAsset} from \"../../api-upload\";\r\nimport {createGroup} from \"../../reducers/groupsSlice\";\r\nimport ImageUploader from \"react-images-upload\";\r\nimport {TextFields} from \"../group/TextFields\";\r\nimport AddMultiple from \"../group/AddMuliple\";\r\nimport RadioButtons from \"../group/RadioButtons\";\r\nimport PurpleButton from \"../common/PurpleButton\";\r\n\r\n// export const VideoUpload = ({ handleClose }) => {\r\n//     const [people, setPeople] = useState<string[]>([]);\r\n//     const [video, setVideo] = useState<File>(null);\r\n//     const [name, setName] = useState(\"\");\r\n//     const [description, setDescription] = useState(\"\");\r\n//\r\n//     const [loading, setLoading] = useState(false);\r\n//     const [error, setError] = useState(null);\r\n//     // const [creatingGroupLoading, setCreatingGroupLoading] = useState(false);\r\n//\r\n//     const dispatch = useDispatch<AppDispatch>();\r\n//\r\n//     if (error) {\r\n//         return <ErrorPage error={error} />\r\n//     }\r\n//\r\n//     const handleVideoChange = video => {\r\n//             // picture is an array containing 1 file\r\n//             setVideo(video[0]);\r\n//         }\r\n//     ;\r\n//\r\n//     const handleSubmit = async (e) => {\r\n//         e.preventDefault();\r\n//\r\n//         // Upload images if they exist\r\n//         let video: string;\r\n//         // upload profile pic\r\n//         if (video) {\r\n//             // TODO: show loading while uploading\r\n//             video = await uploadPublicAsset(video);\r\n//         }\r\n//\r\n//         const group = {\r\n//             name,\r\n//             description,\r\n//             users: people,\r\n//             video,\r\n//             path: \"\",\r\n//             preview: null,\r\n//             data: null\r\n//         };\r\n//         this.changePath = this.changePath.bind(this);\r\n//\r\n//     }\r\n//\r\n//     return (\r\n//         <>\r\n//             {\r\n//                 <form onSubmit={handleSubmit}>\r\n//                     {/* https://github.com/jakehartnell/react-images-upload#readme */}\r\n//                     <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n//                         <ImageUploader\r\n//                             // {...props}\r\n//                             buttonText='Upload video'\r\n//                             withPreview={true}\r\n//                             withIcon={true}\r\n//                             onChange={handleBannerImageChange}\r\n//                             imgExtension={[\".jpg\", \".jpeg\", \".gif\", \".png\", \".gif\"]}\r\n//                             maxFileSize={5242880}\r\n//                             singleImage={true}\r\n//                             buttonStyles={{ backgroundColor: \"#6a6a6a\" }}\r\n//                         />\r\n//                         {/* <div style={{ width: \"20px\" }}></div> */}\r\n//                         <ImageUploader\r\n//                             // {...props}\r\n//                             buttonText='Upload profile pic'\r\n//                             withPreview={true}\r\n//                             withIcon={false}\r\n//                             onChange={handleProfilePicChange}\r\n//                             imgExtension={[\".jpg\", \".jpeg\", \".gif\", \".png\", \".gif\"]}\r\n//                             maxFileSize={5242880}\r\n//                             style={{ width: \"50%\" }}\r\n//                             singleImage={true}\r\n//                             buttonStyles={{ backgroundColor: \"#6a6a6a\" }}\r\n//                         />\r\n//                     </div>\r\n//\r\n//                     <TextFields name=\"Add Group Name\" description=\"Add Group Description\" setName={setName} setDescription={setDescription} />\r\n//\r\n//                     {/* https://material-ui.com/components/autocomplete/#Tags.tsx */}\r\n//                     <TextWrapper>\r\n//                         <AddMultiple label=\"Add People\" options={followingFollowers} imgKey=\"profilePic\" setItems={setPeople} />\r\n//                     </TextWrapper>\r\n//\r\n//                     <div style={{ height: \"25px\" }}></div>\r\n//\r\n//                     <TextWrapper>\r\n//                         <RadioButtons setItem={setPrivate} />\r\n//                     </TextWrapper>\r\n//\r\n//                     <DialogActions>\r\n//                         <div>\r\n//                             <PurpleButton content=\"Create group\" />\r\n//                         </div>\r\n//                     </DialogActions>\r\n//                 </form>}\r\n//         </>\r\n//     )\r\n// }\r\n\r\n\r\n\r\nexport interface IProps {\r\n  closeOverlay: any;\r\n  // setUrl:any;\r\n}\r\n\r\nexport interface IState {\r\n  name: string;\r\n  path: string;\r\n  preview: any;\r\n  data: any;\r\n}\r\n\r\nclass VideoUpload extends React.Component<IProps, IState> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      path: \"\",\r\n      preview: null,\r\n        data: null,\r\n    };\r\n    this.changePath = this.changePath.bind(this);\r\n    this.upload = this.upload.bind(this);\r\n    this.cancel = this.cancel.bind(this);\r\n  }\r\n\r\n\r\n  //change the path and autoPlay\r\n  changePath(e: any) {\r\n    console.log(e.target.files.length);\r\n    //for loop to implement multiple files uploading\r\n    for (var i = 0; i < e.target.files.length; i++) {\r\n      const file = e.target.files[i];\r\n      console.log(file);\r\n      if (!file) {\r\n        return;\r\n      }\r\n      let { src, preview } = file;\r\n      src = URL.createObjectURL(file);\r\n      preview = <video src={src} height={450} width={800} autoPlay controls />;\r\n      this.setState({\r\n        path: file.name,\r\n        data: file,\r\n        preview: preview\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  //file upload\r\n  upload(event) {\r\n      event.preventDefault();  // let the website wont refresh after click upload\r\n    const data = this.state.data;\r\n    const url = \"\";\r\n      // uploadPublicAsset(data).then(res => {this.props.setUrl(res)});  //uploadPublicAsset return promise\r\n      uploadPublicAsset(data).then(res => {console.log(res)}); // res(url), after upload a file, click the link on console and will show the uploaded file\r\n\r\n      // const form = new FormData();\r\n    // form.append(\"file\", data);\r\n    // fetch(url, {\r\n    //   method: \"POST\",\r\n    //   body: form\r\n    // }).then(res => {\r\n    //   console.log(res);\r\n    // });\r\n    // console.log(this.state.name);\r\n\r\n    //show file uploaded\r\n    alert(this.state.path.toString() + \" is successfully uploaded!\");\r\n  }\r\n\r\n  //cancel file playing\r\n  cancel() {\r\n    this.props.closeOverlay();\r\n  }\r\n\r\n  render() {\r\n    const { path, preview } = this.state;\r\n    return (\r\n      <div>\r\n        <div className=\"row\">\r\n          <div className=\"row-input\">\r\n            <span\r\n            style={{\r\n                    fontFamily: \"Arial\",\r\n            //         fontSize: \"1.5em\"\r\n            }}\r\n            >\r\n            {path ? path : \"Choose files\"}</span>\r\n            <br />\r\n            <input\r\n              type=\"file\"\r\n              accept=\"video\"\r\n              multiple\r\n              onChange={this.changePath}\r\n              style={{\r\n              fontFamily: \"Arial\",\r\n      //         fontSize: \"1.5em\"\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n        className=\"primary upload\"\r\n        onClick={this.upload}\r\n        style={{\r\n        fontFamily: \"Arial\",\r\n//         fontSize: \"0.5em\"\r\n        }}\r\n        >\r\n          upload\r\n        </button>\r\n        &nbsp;\r\n        <button\r\n        className=\"primary cancel\"\r\n        onClick={this.cancel}\r\n        style={{\r\n        fontFamily: \"Arial\",\r\n//         fontSize: \"1.5em\"\r\n        }}\r\n        >\r\n          cancel\r\n        </button>\r\n        <div\r\n        className=\"media\"\r\n        style={{\r\n          alignItems: \"center\",\r\n           display: \"flex\",\r\n           flex: 1,\r\n           flexDirection: \"column\",\r\n          }}\r\n          >\r\n          {preview}</div> {/* video content */}\r\n        <br />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VideoUpload;","import * as React from \"react\";\r\nimport GroupList from \"../create_post/GroupList\";\r\nimport VideoUpload from \"./VideoUpload\";\r\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\r\nimport {useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {RootState} from \"../../reducers/rootReducer\";\r\nimport {Dictionary, unwrapResult} from \"@reduxjs/toolkit\";\r\nimport {User} from \"../../store/types\";\r\nimport {convertArrToMap} from \"../../util/helperFunctions\";\r\nimport {AppDispatch} from \"../../store\";\r\nimport {useEffect} from \"react\";\r\nimport {fetchUsersByIDs} from \"../../reducers/usersSlice\";\r\nimport {Loading} from \"../common/Loading\";\r\nimport ErrorPage from \"../common/ErrorPage\";\r\nimport {uploadPublicAsset} from \"../../api-upload\";\r\nimport {createGroup} from \"../../reducers/groupsSlice\";\r\n\r\nconst _onVideoUpload = (event) => {\r\n\t// event.preventDefault();\r\n\t// alert(this.url);\r\n\t// this.props.setVideo(this.url);\r\n}\r\n\r\nconst _onChange = (event) => {\r\n\t// this.url = event.target.value;\r\n}\r\n\r\nconst _omVideoRm = (event) => {\r\n\t// event.preventDefault();\r\n\t// this.url = '';\r\n\t// this.props.setVideo('');\r\n}\r\n\r\n\r\nexport interface IProps {\r\n    // setUrl: any;\r\n}\r\n\r\nexport interface IState {\r\n  overlayActive: any;\r\n}\r\n\r\nclass VideoPanel extends React.Component<IProps, IState> {\r\n\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      overlayActive: true\r\n    };\r\n    this.closeOverlay = this.closeOverlay.bind(this);\r\n    this.showOverlay = this.showOverlay.bind(this);\r\n  }\r\n\r\n  closeOverlay() {\r\n    this.setState({\r\n      overlayActive: false\r\n    });\r\n  }\r\n\r\n  showOverlay() {\r\n    this.setState({\r\n      overlayActive: true\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n      className={\"root\"}\r\n      style={{\r\n      marginTop: \"3em\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      height: \"30vh\",\r\n      width: \"40vw\",\r\n      backgroundColor: \"white\",\r\n      boxShadow: \"3px 3px #F2F2F2\",\r\n      marginBottom: \"1em\",\r\n      borderRadius: \"5px\",\r\n      paddingLeft: \"1.5em\",\r\n      paddingRight: \"1.5em\",\r\n      }}\r\n       >\r\n        <form onSubmit={_onVideoUpload}>\r\n            <button\r\n            className={\"button\"}\r\n            onClick={this.showOverlay}\r\n            style={{\r\n            border: \"none\",\r\n            outline: \"none\",\r\n            borderRadius: \"5px\",\r\n            margin: \"1em auto\",\r\n            width: \"100%\",\r\n            height: \"7vh\",\r\n            backgroundColor: \"#F2F2F2\",\r\n            fontFamily: \"Arial\",\r\n            fontSize: \"1.5em\"\r\n            }}\r\n            >\r\n            Upload Video\r\n            </button>\r\n          {this.state.overlayActive && (\r\n            // <VideoUpload closeOverlay={this.closeOverlay} setUrl={this.props.setUrl}/>\r\n              <VideoUpload closeOverlay={this.closeOverlay} />\r\n          )}\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VideoPanel;\r\n\r\n","import React, {useEffect, useState} from \"react\";\r\nimport {Redirect, useParams} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppDispatch} from \"../../store\";\r\nimport {RootState} from \"../../reducers/rootReducer\";\r\nimport {Post, Tag} from \"../../store/types\";\r\nimport defaultPostFeaturedImage from \"../../assets/defaultPostFeaturedImage.jpg\";\r\nimport {fetchPostBySlug} from \"../../reducers/postsSlice\";\r\nimport {Loading} from \"../common/Loading\";\r\nimport {NotFoundError} from \"../common/NotFoundError\";\r\nimport VideoP from \"../create_video_post/VideoPanel\";\r\nimport TextP from \"../create_post/TextPanel\";\r\nimport AddMultiple from \"../group/AddMuliple\";\r\nimport Submit from \"../create_post/Submit\";\r\nimport {TagsContainer} from \"../create_post/CreatePost\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Dictionary, unwrapResult} from \"@reduxjs/toolkit\";\r\n\r\nimport styled from \"@emotion/styled\";\r\nimport ImgP from \"../create_post/ImgPanel\";\r\n\r\nconst useStyles = makeStyles({\r\n    createPost: {\r\n        paddingTop: \"7vh\",\r\n        paddingBottom: \"7vh\",\r\n        // paddingTop: \"3em\",\r\n        display: \"flex\",\r\n        flex: 1,\r\n        flexDirection: \"column\",\r\n        height: \"110vh\",\r\n        alignItems: \"center\",\r\n        // overflowY: \"scroll\",\r\n    }\r\n});\r\n\r\nexport default function CreateVideoPost() {\r\n    const classes = useStyles();\r\n    const [title, setTitle] = useState('');\r\n    const [content, setContent] = useState('');\r\n    const [postTags, setPostTags] = useState([]);\r\n    // const [url, setUrl] = useState('');\r\n    const allTags = useSelector<RootState, Dictionary<Tag>>(state => state.tags.entities);\r\n    const allTagsArr = Object.values(allTags);\r\n\r\n    // function submitVideo() {\r\n        // const\r\n    // }\r\n\r\n    return (\r\n        <div className={classes.createPost}>\r\n            {/*<VideoP setUrl={setUrl}/>*/}\r\n            <VideoP />\r\n            <TextP setTitle={setTitle} setContent={setContent} />\r\n            {/* <TagP setTags={setTags} /> */}\r\n            <TagsContainer>\r\n                <AddMultiple label=\"Add Tags\" options={allTagsArr} setItems={setPostTags} />\r\n            </TagsContainer>\r\n            {/*<button onClick={submitVideo}/>*/}\r\n            {/*<Submit title={title} content={content} tags={postTags} img={featuredImg} />*/}\r\n            <Submit title={title} content={content} tags={postTags} />\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport {ImageType} from \"../../constants\";\r\nimport {UpdateImageModal} from \"../common/UpdateImageModal\";\r\n\r\nconst useStyles = makeStyles(() =>\r\n  createStyles({\r\n    bannerImg: {\r\n      maxHeight: \"284px\",\r\n      marginLeft: \"10%\",\r\n      width: \"80%\",\r\n      objectFit: \"none\",\r\n    },\r\n  })\r\n);\r\n\r\nexport function ProfileBanner({ imgSrc }) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div style={{ height: \"284px\" }}>\r\n      <img className={classes.bannerImg} src={imgSrc} alt=\"banner\"></img>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport styled from '@emotion/styled';\r\nimport { User } from \"../../store/types\";\r\nimport { useFollow, UseFollowHook } from \"../../hooks/useFollow\";\r\nimport { Loading } from \"../common/Loading\";\r\n\r\nexport const TradingCardContainer = styled.div`\r\n  height: 450px;\r\n  width: 288px;\r\n  background-color: white;\r\n  border-radius: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nexport const AvatarPic = styled.img`\r\n  margin-top: 19px;\r\n  margin-left: 98px;\r\n  margin-right: 98px;\r\n  width: 92px;\r\n  height: 92px;\r\n  border-radius: 100px;\r\n`\r\n\r\nexport const AllCapsName = styled.h3`\r\n  padding: 0;\r\n  margin-top: 16px;\r\n  margin-bottom: 0;\r\n  font-family: Roboto, sans-serif;;\r\n  font-style: normal;\r\n  font-weight: bold;\r\n  font-size: 24px;\r\n  color: #000000;\r\n  text-align: center;\r\n`\r\n\r\nexport const Subtitle = styled.h4`\r\n  margin-top: 4px;\r\n  padding: 0;\r\n  font-family: Roboto, sans-serif;;\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  font-size: 20px;\r\n  line-height: 23px;\r\n  color: #000000;\r\n  text-align: center;\r\n`;\r\n\r\nexport const FollowersAndPostsCountContainer = styled.div`\r\n  display: flex;\r\n\r\n`\r\n\r\nexport const FollowersCountContainer = styled.div`\r\n  font-family: Roboto, sans-serif;;\r\n  font-style: normal;\r\n  font-weight: 300;\r\n  font-size: 18px;\r\n  line-height: 21px;\r\n  padding: 0;\r\n  margin: 0;\r\n\r\n  color: #000000;\r\n`\r\n\r\nexport const PostsCountContainer = FollowersCountContainer;\r\n\r\nexport const BigBoldNumber = styled.p`\r\n  padding: 0;\r\n  margin: 0;\r\n  font-family: Roboto, sans-serif;;\r\n  font-style: normal;\r\n  font-weight: bold;\r\n  font-size: 24px;\r\n  line-height: 28px;\r\n  color: #000000;\r\n`\r\n\r\nexport const SpaceBetweenFollowersAndPosts = styled.div`\r\n  width: 87px;\r\n`\r\n\r\nexport const SpaceAround = styled.div`\r\n  flex: 1;\r\n`\r\n\r\nexport const TradingCardButton = styled.button`\r\n  margin-bottom: 23px;\r\n  margin-left: 73px;\r\n  margin-right: 73px;\r\n  background: #FFFFFF;\r\n  border: 1px solid #000000;\r\n  box-sizing: border-box;\r\n  width: 141px;\r\n  height: 38px;\r\n  border-radius: 10px;\r\n  font-family: Roboto, sans-serif;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  font-size: 18px;\r\n  line-height: 21px;\r\n`\r\n\r\n// https://www.figma.com/file/ehowTfq9OAMUdMf3Qbngi0/Programmers-Social-Network?node-id=50%3A0\r\n// Can be adapted to work for groups as well, need to change props\r\nexport function TradingCard({ user, isCurrentUser, followHook }: { user: User, isCurrentUser?: boolean, followHook?: UseFollowHook }) {\r\n\r\n  // TODO: Change follow button depending on follow relationship\r\n  function button() {\r\n    if (isCurrentUser) {\r\n      return (<TradingCardButton onClick={() => console.log(\"edit profile button clicked!\")}>Edit\r\n                profile</TradingCardButton>)\r\n    }\r\n\r\n    if (followHook.followsOtherUser && followHook.isFollowedByOtherUser) {\r\n      return (<TradingCardButton onClick={(e) => followHook.handleToggleFollow(e)}>Unfollow</TradingCardButton>)\r\n    }\r\n\r\n    if (followHook.followsOtherUser) {\r\n      return (<TradingCardButton onClick={(e) => followHook.handleToggleFollow(e)}>Unfollow</TradingCardButton>)\r\n    }\r\n\r\n    if (!followHook.followsOtherUser && followHook.isFollowedByOtherUser) {\r\n      return (<TradingCardButton onClick={(e) => followHook.handleToggleFollow(e)}>Follow</TradingCardButton>)\r\n    }\r\n\r\n    // Neither is following each other\r\n    return (<TradingCardButton onClick={(e) => followHook.handleToggleFollow(e)}>Follow</TradingCardButton>);\r\n  }\r\n\r\n\r\n  return (<TradingCardContainer>\r\n    <AvatarPic src={user.profilePic} />\r\n    <AllCapsName>{user.name.toUpperCase()}</AllCapsName>\r\n    <Subtitle>{user.status}</Subtitle>\r\n    <FollowersAndPostsCountContainer>\r\n      <SpaceAround />\r\n      <FollowersCountContainer>\r\n        <BigBoldNumber>\r\n          {user.followers.length}\r\n        </BigBoldNumber>\r\n        {user.followers.length !== 1 ? \"followers\" : \"follower\"}\r\n            </FollowersCountContainer>\r\n      <SpaceBetweenFollowersAndPosts />\r\n      <PostsCountContainer>\r\n        <BigBoldNumber>\r\n          {user.posts.length}\r\n        </BigBoldNumber>\r\n                posts\r\n            </PostsCountContainer>\r\n      <SpaceAround />\r\n    </FollowersAndPostsCountContainer>\r\n    <SpaceAround />\r\n    {button()}\r\n  </TradingCardContainer>)\r\n}","import React, {useState} from \"react\";\r\nimport {CurrentLoggedInUser} from \"../../store/types\";\r\nimport styled from '@emotion/styled';\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Card from \"../home/Card\";\r\n\r\nconst Container = styled.div`\r\n  width: 816px; // to match the Card.tsx width\r\n  align-content: center;\r\n`\r\n\r\nconst PostsContainer = styled.div`\r\n  margin-top: 34px;\r\n  \r\n`\r\n\r\nconst SavedPostsContainer = PostsContainer;\r\n\r\n\r\nexport function OwnPostsBoard({user}: {user: CurrentLoggedInUser}) {\r\n    const [tabIdx, setTabIdx] = useState(0);\r\n\r\n    function child() {\r\n        if (tabIdx === 0) {\r\n            return (\r\n                <PostsContainer>\r\n                    {user.posts.map(postID => <Card postID={postID} />)}\r\n                </PostsContainer>\r\n            );\r\n        } else {\r\n            return (\r\n                <SavedPostsContainer>\r\n                    {user.savedPosts.map(postID => <Card postID={postID} />)}\r\n                </SavedPostsContainer>\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Tabs\r\n              value={tabIdx}\r\n              onChange={(_, newValue) => {setTabIdx(newValue)}}\r\n              indicatorColor=\"primary\"\r\n              textColor=\"inherit\"\r\n              variant=\"fullWidth\"\r\n            >\r\n              <Tab\r\n                label=\"Posts\"\r\n                style={{\r\n                  fontFamily: \"Roboto\",\r\n                  textTransform: \"none\",\r\n                  fontWeight: tabIdx === 0 ? \"bold\" : \"lighter\",\r\n                  fontSize: \"1.2rem\",\r\n                }}\r\n              />\r\n              <Tab\r\n                 label=\"Saved\"\r\n                 style={{\r\n                   fontFamily: \"Roboto\",\r\n                   textTransform: \"none\",\r\n                   fontWeight: tabIdx === 1 ? \"bold\" : \"lighter\",\r\n                   fontSize: \"1.2rem\",\r\n                 }}\r\n              />\r\n            </Tabs>\r\n            {child()}\r\n        </Container>\r\n    );\r\n}","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../reducers/rootReducer\";\r\nimport { CurrentLoggedInUser } from \"../../store/types\";\r\nimport styled from '@emotion/styled';\r\nimport { ProfileBanner } from \"./ProfileBanner\";\r\nimport DefaultImg from \"../../assets/defaultUserProfileBannerImg.jpg\";\r\nimport { TradingCard } from \"./TradingCard\";\r\nimport { OwnPostsBoard } from \"./OwnPostsBoard\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n`\r\n\r\nexport const FlexSpace = styled.div<{ flex?: number }>`\r\n  flex: ${props => props.flex || 1};\r\n`\r\n\r\nexport const WidthSpace = styled.div<{ width: string }>`\r\n  width: ${props => props.width};\r\n`\r\n\r\nexport const HeightSpace = styled.div<{ height: string }>`\r\n  height: ${props => props.height};\r\n`\r\n\r\nexport function OwnProfile() {\r\n  const user = useSelector<RootState, CurrentLoggedInUser>(state => state.user);\r\n  const src = user.profileBanner || DefaultImg;\r\n\r\n  return (\r\n    <>\r\n      <ProfileBanner imgSrc={src} />\r\n      <HeightSpace height=\"26px\" />\r\n      <Container>\r\n        <FlexSpace flex={1} />\r\n        <TradingCard user={user} isCurrentUser />\r\n        <WidthSpace width=\"47px\" />\r\n        <OwnPostsBoard user={user} />\r\n        <FlexSpace flex={3} />\r\n      </Container>\r\n    </>\r\n  );\r\n}","import React, { useEffect } from \"react\";\r\nimport {User} from \"../../store/types\";\r\nimport styled from \"@emotion/styled\";\r\nimport Card from \"../home/Card\";\r\nimport { Loading } from \"../common/Loading\";\r\nimport {fetchUserByUsername} from \"../../reducers/usersSlice\";\r\nimport {AppDispatch} from \"../../store\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nconst Container = styled.div`\r\n  width: 816px; // to match the Card.tsx width\r\n  align-content: center;\r\n`\r\n\r\nconst PostsContainer = styled.div`\r\n  margin-top: 34px;\r\n  \r\n`\r\n\r\nexport function OtherPostsBoard ({user}: {user: User}) {\r\n    const dispatch = useDispatch<AppDispatch>();\r\n\r\n    useEffect(() => {\r\n        if (!user?.posts) {\r\n            dispatch(fetchUserByUsername(user.userID));\r\n        }\r\n    }, []);\r\n\r\n    if (!user?.posts) {\r\n        return <Loading />\r\n    }\r\n\r\n    return <Container>\r\n        <PostsContainer>\r\n            {user.posts.map(postID => <Card postID={postID} />)}\r\n        </PostsContainer>\r\n    </Container>\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport {User} from \"../../store/types\";\r\nimport {RootState} from \"../../reducers/rootReducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppDispatch} from \"../../store\";\r\nimport {fetchUserByUsername} from \"../../reducers/usersSlice\";\r\nimport {NotFoundError} from \"../common/NotFoundError\";\r\nimport {unwrapResult} from \"@reduxjs/toolkit\";\r\nimport {ProfileBanner} from \"./ProfileBanner\";\r\nimport {TradingCard} from \"./TradingCard\";\r\nimport styled from \"@emotion/styled\";\r\nimport {OtherPostsBoard} from \"./OtherPostsBoard\";\r\nimport { Loading } from \"../common/Loading\";\r\nimport DefaultImg from \"../../assets/defaultUserProfileBannerImg.jpg\";\r\nimport {useFollow} from \"../../hooks/useFollow\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n`\r\n\r\nconst FlexSpace = styled.div<{flex: number}>`\r\n  flex: ${props => props.flex};\r\n`\r\n\r\nconst WidthSpace = styled.div<{width: string}>`\r\n  width: ${props => props.width};\r\n`\r\n\r\nconst HeightSpace = styled.div<{height: string}>`\r\n  height: ${props => props.height};\r\n`\r\n\r\nexport function OtherProfile({username}: {username: string}) {\r\n    const userObjectID = useSelector<RootState, string>(state => state.users.usernameToID[username]);\r\n    const user = useSelector<RootState, User>(state => state.users.entities[userObjectID]);\r\n    const [notFound, setNotFound] = useState(false);\r\n    const followHook = useFollow(user?._id);\r\n    const dispatch = useDispatch<AppDispatch>();\r\n\r\n\r\n    useEffect(() => {\r\n        if (!user?.followers) {\r\n            dispatch(fetchUserByUsername(username))\r\n                .then(unwrapResult)\r\n                .catch(err => setNotFound(true));\r\n        }\r\n    }, []);\r\n\r\n    if (notFound) {\r\n        return <NotFoundError />\r\n    }\r\n\r\n    if (!user?.followers) {\r\n        return <Loading />\r\n    }\r\n    const src = user.profileBanner || DefaultImg;\r\n    return <>\r\n        <ProfileBanner imgSrc={src}/>\r\n        <HeightSpace height=\"26px\" />\r\n        <Container>\r\n            <FlexSpace flex={1} />\r\n            <TradingCard user={user} isCurrentUser={false} followHook={followHook} />\r\n            <WidthSpace width=\"47px\"/>\r\n            <OtherPostsBoard user={user}/>\r\n            <FlexSpace flex={3} />\r\n        </Container>\r\n    </>\r\n}","import { initializeGitHubOAuth } from \"../pages/login/login\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { RootState } from \"../reducers/rootReducer\";\r\nimport {CurrentLoggedInUser} from \"../store/types\";\r\nimport { unfollow, follow } from \"../reducers/userSlice\";\r\n\r\n\r\ntype HandleToggleFollow = (event?) => void;\r\n\r\nexport type UseFollowHook = {\r\n    followsOtherUser: boolean,\r\n    isFollowedByOtherUser: boolean,\r\n    handleToggleFollow: HandleToggleFollow\r\n}\r\n\r\n/**\r\n * Helper hook for displaying and interacting with follows\r\n *\r\n * @param otherUserID The ID of the user to follow or unfollow\r\n */\r\nexport function useFollow(otherUserID?: string): UseFollowHook {\r\n    const currentUser = useSelector<RootState, CurrentLoggedInUser>(state => state.user);\r\n    const dispatch = useDispatch();\r\n\r\n    // Not logged in\r\n    if (!currentUser) {\r\n        return {\r\n            followsOtherUser: false,\r\n            isFollowedByOtherUser: false,\r\n            // Redirect user to log in\r\n            handleToggleFollow: initializeGitHubOAuth\r\n        }\r\n    }\r\n\r\n    // Edge case, not done loading yet\r\n    if (!currentUser.followersSet) {\r\n        return null;\r\n    }\r\n\r\n    // Same person!\r\n    if (currentUser._id === otherUserID) {\r\n        return null;\r\n    }\r\n\r\n    const followsOtherUser = !!currentUser.followingSet[otherUserID];\r\n    let handleToggleFollow: HandleToggleFollow;\r\n    if (followsOtherUser) {\r\n        handleToggleFollow = (event?) => {\r\n            if (event) {\r\n                event.preventDefault();\r\n            }\r\n            dispatch(unfollow({userID: otherUserID}));\r\n        }\r\n    } else {\r\n        handleToggleFollow = (event?) => {\r\n            if (event) {\r\n                event.preventDefault();\r\n            }\r\n            dispatch(follow({userID: otherUserID}));\r\n        }\r\n    }\r\n\r\n    const isFollowedByOtherUser = !!currentUser.followersSet[otherUserID];\r\n    return {\r\n        followsOtherUser,\r\n        isFollowedByOtherUser,\r\n        handleToggleFollow,\r\n    }\r\n}","import { createStyles, makeStyles } from '@material-ui/core/styles';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams, Redirect } from 'react-router-dom';\r\n\r\nimport { ViewProfileParams } from '../../App';\r\nimport { Loading } from '../common/Loading';\r\nimport { NotFoundError } from '../common/NotFoundError';\r\nimport { getLoggedInUser, getUserForViewProfile } from '../../reducers/userSlice';\r\nimport { RootState } from '../../reducers/rootReducer';\r\nimport { CurrentLoggedInUser, User } from '../../store/types';\r\nimport { OwnProfile } from \"./OwnProfile\";\r\nimport { OtherProfile } from './OtherProfile';\r\nimport styled from '@emotion/styled';\r\n\r\nconst Container = styled.div`\r\n  margin-top: 9.5vh;\r\n`\r\n\r\nconst useStyles = makeStyles(() =>\r\n  createStyles({\r\n    container: {\r\n      display: \"g rid\",\r\n      gridTemplateAreas: `\r\n        \"banner banner banner\"\r\n        \"card board space\"\r\n      `,\r\n      gridTemplateColumns: \"1fr 1.5fr 1fr\",\r\n      gridTemplateRows: \"min-content auto\",\r\n      backgroundColor: \"#E5E5E5\",\r\n      height: \"100%\",\r\n    },\r\n    banner: {\r\n      gridArea: \"banner\",\r\n      marginBottom: \"1rem\",\r\n    },\r\n    card: {\r\n      gridArea: \"card\",\r\n    },\r\n    board: {\r\n      gridArea: \"board\",\r\n    },\r\n  })\r\n);\r\n\r\nexport function ViewProfile() {\r\n  const { username } = useParams<ViewProfileParams>();\r\n  const loggedInUsername = useSelector<RootState, string>(state => state.user?.userID);\r\n\r\n  function child() {\r\n    if (!username) {\r\n      return <Redirect to=\"/\" />\r\n    }\r\n\r\n    if (username === loggedInUsername) {\r\n      return <OwnProfile />\r\n    }\r\n\r\n    if (!loggedInUsername || loggedInUsername !== username) {\r\n      return <OtherProfile username={username} />\r\n    }\r\n  }\r\n\r\n  return (<Container>{child()}</Container>);\r\n}\r\n//\r\n//   let viewedUser = useSelector<RootState, User>(\r\n//     (state) => {\r\n//       const userObjectID = state.user._id;\r\n//       return state.users[userObjectID];\r\n//     }\r\n//   );\r\n//\r\n//   // Load the viewed user if user hasn't loaded yet\r\n//   useEffect(() => {\r\n//     // check redux cache for user(s)\r\n//     if (isLoggedIn) {\r\n//       // check current user\r\n//       if (!currentUser && !loading && !error) {\r\n//         dispatch(getLoggedInUser());\r\n//       }\r\n//     }\r\n//     if (currentUser && currentUser.userID === username) {\r\n//       // Current user is looking at own profile, so there is no other user info to get\r\n//       return;\r\n//     }\r\n//     if (!viewedUser) {\r\n//       dispatch(getUserForViewProfile(username));\r\n//       return;\r\n//     }\r\n//     if (viewedUser && !loading && !error && !viewedUser.posts) {\r\n//       dispatch(getUserForViewProfile(username));\r\n//     }\r\n//   }, []);\r\n//\r\n//   if (!currentUser || loading || !viewedUser) {\r\n//     return <Loading />\r\n//   }\r\n//\r\n//   if (error) {\r\n//     return <NotFoundError />\r\n//   }\r\n//\r\n//   const userIsLookingAtOwnProfile = isLoggedIn && currentUser?.userID === username;\r\n//   if (userIsLookingAtOwnProfile) {\r\n//     viewedUser = currentUser;\r\n//   }\r\n//\r\n//   return (\r\n//     <div className={classes.container}>\r\n//       {/* <div className={classes.banner}>\r\n//         <ProfileBanner imgSrc={viewedUser.item.profileBanner} isUser={userIsLookingAtOwnProfile}></ProfileBanner>\r\n//       </div>\r\n//       <div className={classes.card}>\r\n//         <ProfileCard profile={profile} isUser={userIsLookingAtOwnProfile}></ProfileCard>\r\n//       </div>\r\n//       <div className={classes.board}>\r\n//         {userIsLookingAtOwnProfile ? (\r\n//           <ProfileBoard\r\n//             isUser={userIsLookingAtOwnProfile}\r\n//             user={viewedUser}\r\n//             savedPosts={savedPosts}\r\n//           ></ProfileBoard>\r\n//         ) : (\r\n//             <ProfileBoard isUser={false} posts={posts}></ProfileBoard>\r\n//           )}\r\n//       </div> */}\r\n//     </div>\r\n//   );\r\n// }\r\n","import React, { useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { logOut } from '../../reducers/isLoggedInSlice';\r\n\r\nexport function LogOut() {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    dispatch(logOut());\r\n    history.push('/');\r\n  }, [])\r\n\r\n  return <></>\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { DevApi } from '../../api';\r\n\r\n/**\r\n * Used for testing only\r\n */\r\nexport function Experimental() {\r\n  const [text, setText] = useState(\"...\");\r\n  useEffect(() => {\r\n    const api = new DevApi();\r\n    //@ts-ignore\r\n    api.devControllerMarcoPersonal().then(res => res.json()).then(res => setText(JSON.stringify(res)));\r\n  }, [])\r\n\r\n  return <h1 style={{height: \"500px\", marginTop: \"200px\", \"zIndex\": 500 }}>{text}</h1>\r\n}","import React, {useEffect} from \"react\";\r\nimport {useHistory, useLocation} from \"react-router-dom\";\r\nimport qs from \"qs\";\r\nimport {stateContainer} from \"./login\";\r\nimport {AuthApi} from \"../../api\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {loginSuccess} from \"../../reducers/isLoggedInSlice\";\r\nimport {AppDispatch} from \"../../store\";\r\n\r\nexport function LoginGitHub() {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch<AppDispatch>();\r\n\r\n  const parsed = qs.parse(location.search);\r\n  const code = parsed[\"?code\"];\r\n  const state = parsed[\"state\"];\r\n\r\n  const expectedState = stateContainer.state;\r\n\r\n  if ((state as string) !== expectedState) {\r\n    console.log(\"Got back different state from GitHub OAuth!\");\r\n  }\r\n\r\n  useEffect(() => {\r\n    new AuthApi()\r\n      .authControllerLoginGitHub({\r\n        code: code as string,\r\n        state: state as string,\r\n      })\r\n      .then((loginSuccessDto) => {\r\n        dispatch(loginSuccess(loginSuccessDto));\r\n        history.push(\"/\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  if (!code || !state) {\r\n    history.push(\"/\");\r\n  }\r\n\r\n  return <h1>Hello... we are waiting for the back end to respond!</h1>;\r\n}\r\n","import React from \"react\";\r\nimport styled from \"@emotion/styled\";\r\n\r\nconst Container = styled.div`\r\n  margin-top: 8vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 85vh;\r\n`\r\n\r\nexport function SearchHomePage() {\r\n    return <Container></Container>\r\n}","import {createAsyncThunk} from \"@reduxjs/toolkit\";\r\nimport {SearchApi} from \"../api\";\r\n\r\n/**\r\n * At this moment, not yet connected to Redux store proper to cache the results.\r\n */\r\nexport const search = createAsyncThunk(\r\n    'search',\r\n    async ({query}: {query: string}) => {\r\n        const api = new SearchApi();\r\n        const posts = await api.searchControllerSearch(query);\r\n        return posts;\r\n    });\r\n\r\n","import React, {useEffect, useState} from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport {Loading} from \"../common/Loading\";\r\nimport {NotFoundError} from \"../common/NotFoundError\";\r\nimport {AppDispatch} from \"../../store\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {search} from \"../../reducers/search\";\r\nimport {unwrapResult} from \"@reduxjs/toolkit\";\r\nimport ErrorPage from \"../common/ErrorPage\";\r\nimport Card from \"../home/Card\";\r\nimport {FlexSpace} from \"../view_profile/OwnProfile\";\r\n\r\nconst Header = styled.h2`\r\n  text-align: center;\r\n`\r\n\r\nconst Container = styled.div`\r\n  margin-top: 10vh;\r\n  height: 90vh;\r\n`\r\n\r\nconst Content = styled.div`\r\n  display: flex;\r\n`\r\n\r\nexport function Search({query}: {query:string}) {\r\n    const [results, setResults] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const dispatch = useDispatch<AppDispatch>();\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        dispatch(search({query}))\r\n            .then(unwrapResult)\r\n            .then(\r\n            dto =>\r\n            {\r\n                setLoading(false);\r\n                setResults(dto.posts);\r\n            }\r\n        ).catch(err => {\r\n            setLoading(false);\r\n            setError(err);\r\n        })\r\n    }, [query]);\r\n\r\n    if (!results || loading) {\r\n        return <Loading />\r\n    }\r\n\r\n    if (results.length === 0) {\r\n        return <NotFoundError />\r\n    }\r\n\r\n    if (error) {\r\n        return <ErrorPage error={error} />\r\n    }\r\n\r\n    // Show search results\r\n    return (\r\n        <Container>\r\n            <Header>{results.length} results for: {query}</Header>\r\n            <Content>\r\n            <FlexSpace />\r\n            <div>\r\n            {results.map((post, idx) => <Card postID={post._id} key={idx} />)}\r\n            </div>\r\n            <FlexSpace />\r\n            </Content>\r\n        </Container>\r\n    )\r\n}","import React from \"react\";\r\nimport qs from \"qs\";\r\nimport {useLocation} from \"react-router-dom\";\r\nimport { SearchHomePage } from \"./SearchHomePage\";\r\nimport {Search} from \"./Search\";\r\n\r\nexport function SearchPage() {\r\n    const location = useLocation();\r\n\r\n    const parsed = qs.parse(location.search);\r\n    const query = parsed[\"?q\"];\r\n\r\n    if (!query) {\r\n        return <SearchHomePage />\r\n    }\r\n\r\n    return <Search query={query.toString()}/>\r\n}","import React from \"react\";\r\nimport styled from '@emotion/styled';\r\nimport {CurrentLoggedInUser, Group} from \"../../store/types\";\r\nimport { AllCapsName, AvatarPic, BigBoldNumber, FollowersAndPostsCountContainer, FollowersCountContainer, PostsCountContainer, SpaceAround, SpaceBetweenFollowersAndPosts, TradingCardButton, TradingCardContainer } from \"../view_profile/TradingCard\";\r\nimport {RootState} from \"../../reducers/rootReducer\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {initializeGitHubOAuth} from \"../login/login\";\r\n\r\nconst AdminsContainer = styled.div`\r\n  text-align: center;\r\n`\r\n\r\nconst Subtitle = styled.h4`\r\n  margin-top: 4px;\r\n  padding: 0;\r\n  font-family: 'Fira Mono', monospace;\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  font-size: 1em;\r\n  line-height: 23px;\r\n  color: #606060;\r\n  text-align: center;\r\n`;\r\n\r\n// https://www.figma.com/file/ehowTfq9OAMUdMf3Qbngi0/Programmers-Social-Network?node-id=50%3A0\r\nexport function GroupTradingCard({ group }: { group: Group }) {\r\n  const membersCount = group.admins.length + group.users.length;\r\n  const user = useSelector<RootState, CurrentLoggedInUser>(state => state.user);\r\n\r\n  function bottom() {\r\n    if (!user) {\r\n      return <TradingCardButton onClick={initializeGitHubOAuth}>\r\n        Login to Join\r\n      </TradingCardButton>\r\n    }\r\n\r\n    if (user && group.admins.includes(user._id)) {\r\n      return <div style={{textAlign: \"center\"}}>\r\n        <h3>You are Admin <span role='img' aria-label='crown'></span></h3>\r\n        <TradingCardButton onClick={()=>{console.log('admin button clicked!')}}>\r\n          Settings\r\n        </TradingCardButton>\r\n      </div>\r\n    }\r\n\r\n    if (user && group.users.includes(user._id)) {\r\n      return <div style={{textAlign: \"center\"}}><h3>You're a Member <span role='img' aria-label='sunglasses'></span></h3></div>\r\n    }\r\n  }\r\n\r\n  return (<TradingCardContainer>\r\n    <AvatarPic src={group.profilePic} />\r\n    <AllCapsName>{group.name.toUpperCase()}</AllCapsName>\r\n     <Subtitle>{group.description || `<Coder Community Group/>`}</Subtitle>\r\n    <FollowersAndPostsCountContainer>\r\n      <SpaceAround />\r\n      <FollowersCountContainer>\r\n        <BigBoldNumber>\r\n           {membersCount}\r\n        </BigBoldNumber>\r\n        {membersCount === 1 ? \"member\" : \"members\"}\r\n            </FollowersCountContainer>\r\n      <SpaceBetweenFollowersAndPosts />\r\n      <PostsCountContainer>\r\n        <BigBoldNumber>\r\n          {group.posts.length}\r\n        </BigBoldNumber>\r\n        {group.posts.length === 1 ? \"post\" : \"posts\"}\r\n        </PostsCountContainer>\r\n      <SpaceAround />\r\n    </FollowersAndPostsCountContainer>\r\n    <SpaceAround />\r\n    <hr style={{marginTop: \"20px\",  width: \"60%\"}} />\r\n    {bottom()}\r\n  </TradingCardContainer>)\r\n}","import React from \"react\";\r\nimport {User} from \"../../store/types\";\r\nimport Avatar from \"../common/Avatar\";\r\n\r\nexport function MemberCard({user, isAdmin}: {user: User, isAdmin?: boolean}) {\r\n  return <Avatar pic={user.profilePic} subtitle={isAdmin ? \"Admin\" : \"Member\"} title={user.name} extraText={user.userID}/>\r\n}","import React, {useEffect, useMemo, useState} from \"react\";\r\nimport {CurrentLoggedInUser, Group, Post, User} from \"../../store/types\";\r\nimport styled from '@emotion/styled';\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Card from \"../home/Card\";\r\nimport {AppDispatch} from \"../../store\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {MemberCard} from \"./MemberCard\";\r\nimport {fetchGroupMembersAndPosts} from \"../../reducers/groupsSlice\";\r\nimport {RootState} from \"../../reducers/rootReducer\";\r\nimport {Dictionary, unwrapResult} from \"@reduxjs/toolkit\";\r\nimport {Loading} from \"../common/Loading\";\r\n\r\nconst Container = styled.div`\r\n  width: 816px; // to match the Card.tsx width\r\n  align-content: center;\r\n`\r\n\r\nconst MembersContainer = styled.div`\r\n  margin-top: 34px;\r\n\r\n`\r\nconst PostsContainer = MembersContainer;\r\n\r\n\r\nexport function GroupProfileTabs({ group }: { group: Group }) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [tabIdx, setTabIdx] = useState(0);\r\n  const dispatch = useDispatch<AppDispatch>();\r\n  const users = useSelector<RootState, Dictionary<User>>(state => state.users.entities);\r\n  const posts = useSelector<RootState, Dictionary<Post>>(state => state.posts.entities);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchGroupMembersAndPosts(group._id))\r\n      .then(unwrapResult)\r\n      .then(() => {setLoading(false)})\r\n      .catch(console.log);\r\n  }, [group._id]);\r\n\r\n  const adminsToRender = useMemo<User[]>(() => {\r\n    if (!loading) {\r\n      const ret = [];\r\n      group.admins.forEach(userID => {\r\n        ret.push(users[userID]);\r\n      });\r\n      return ret;\r\n    } else {\r\n      return [];\r\n    }\r\n  }, [loading]);\r\n  const usersToRender = useMemo<User[]>(() => {\r\n    if (!loading) {\r\n      const ret = [];\r\n      group.users.forEach(userID => {\r\n        ret.push(users[userID]);\r\n      });\r\n      return ret;\r\n    } else {\r\n      return [];\r\n    }\r\n  }, [loading]);\r\n\r\n  if (loading) {\r\n    return <Loading />\r\n  }\r\n\r\n  function child() {\r\n    if (tabIdx === 0) {\r\n      return (\r\n        <MembersContainer>\r\n          {adminsToRender.map(user => <MemberCard user={user} isAdmin/>)}\r\n          {usersToRender.map(user => <MemberCard user={user} />)}\r\n        </MembersContainer>\r\n      );\r\n    } else if (tabIdx === 1) {\r\n      return (\r\n        <PostsContainer>\r\n          {group.posts.map(postID => <Card postID={postID}/>)}\r\n        </PostsContainer>\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Tabs\r\n        value={tabIdx}\r\n        onChange={(_, newValue) => { setTabIdx(newValue) }}\r\n        indicatorColor=\"primary\"\r\n        textColor=\"inherit\"\r\n        variant=\"fullWidth\"\r\n      >\r\n        <Tab\r\n          label=\"Members\"\r\n          style={{\r\n            fontFamily: \"Roboto\",\r\n            textTransform: \"none\",\r\n            fontWeight: tabIdx === 0 ? \"bold\" : \"lighter\",\r\n            fontSize: \"1.2rem\",\r\n          }}\r\n        />\r\n        <Tab\r\n          label=\"Posts\"\r\n          style={{\r\n            fontFamily: \"Roboto\",\r\n            textTransform: \"none\",\r\n            fontWeight: tabIdx === 1 ? \"bold\" : \"lighter\",\r\n            fontSize: \"1.2rem\",\r\n          }}\r\n        />\r\n      </Tabs>\r\n      {child()}\r\n    </Container>\r\n  );\r\n}","import React, {useEffect, useState} from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {useParams} from 'react-router-dom';\r\n\r\nimport {ViewGroupParams} from '../../App';\r\nimport {Loading} from '../common/Loading';\r\nimport {NotFoundError} from '../common/NotFoundError';\r\nimport {RootState} from '../../reducers/rootReducer';\r\nimport {CurrentLoggedInUser, Group} from '../../store/types';\r\nimport {ProfileBanner} from '../view_profile/ProfileBanner';\r\nimport {Container, FlexSpace, HeightSpace, WidthSpace} from '../view_profile/OwnProfile';\r\nimport DefaultImg from \"../../assets/defaultUserProfileBannerImg.jpg\";\r\nimport {GroupTradingCard} from './GroupTradingCard';\r\nimport {GroupProfileTabs} from './GroupProfileTabs';\r\nimport {fetchGroupById} from \"../../reducers/groupsSlice\";\r\nimport {AppDispatch} from \"../../store\";\r\nimport {unwrapResult} from \"@reduxjs/toolkit\";\r\n\r\nexport function ViewGroupProfile() {\r\n  const {groupID} = useParams<ViewGroupParams>();\r\n  const user = useSelector<RootState, CurrentLoggedInUser>(state => state.user);\r\n  const group = useSelector<RootState, Group>(state => state.groups.entities[groupID]);\r\n  const dispatch = useDispatch<AppDispatch>();\r\n  const [error, setError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!group) {\r\n      dispatch(fetchGroupById(groupID))\r\n        .then(unwrapResult)\r\n        .catch(() => {\r\n          setError(true);\r\n        })\r\n    }\r\n  }, [groupID]);\r\n\r\n  if (error) {\r\n    return <NotFoundError/>\r\n  }\r\n\r\n  if (!group) {\r\n    return <Loading />\r\n  }\r\n\r\n  const src = group.profileBanner || DefaultImg;\r\n\r\n  return (\r\n    <>\r\n      <ProfileBanner imgSrc={src}/>\r\n      <HeightSpace height=\"26px\"/>\r\n      <Container>\r\n        <FlexSpace flex={1}/>\r\n        <div>\r\n          <GroupTradingCard group={group}/>\r\n        </div>\r\n        <WidthSpace width=\"47px\"/>\r\n        <GroupProfileTabs group={group}/>\r\n        <FlexSpace flex={3}/>\r\n      </Container>\r\n    </>\r\n  );\r\n}","import { createAsyncThunk, createEntityAdapter, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { GetQuestionsSuccessDto, QuestionsApi } from \"../api\";\r\nimport { Question } from \"../store/types\";\r\nimport { getRandomInt } from \"../util/helperFunctions\";\r\n\r\nconst questionsAdapter = createEntityAdapter<Question>({\r\n  selectId: item => item._id\r\n})\r\n\r\nconst api = new QuestionsApi();\r\n\r\nexport const fetchQuestions = createAsyncThunk(\r\n  'fetchQuestions',\r\n  async (_, { getState }) => {\r\n    const questions: GetQuestionsSuccessDto = await api.questionsControllerGetQuestions();\r\n    return questions;\r\n  }\r\n)\r\n\r\nexport const questionSlide = createSlice({\r\n  name: \"questions\",\r\n  initialState: questionsAdapter.getInitialState<{ currentQuestionID: string }>(\r\n    {\r\n      currentQuestionID: ''\r\n    }\r\n  ),\r\n  reducers: {\r\n\r\n  },\r\n  extraReducers: {\r\n    [fetchQuestions.fulfilled.type]: (state, action: PayloadAction<GetQuestionsSuccessDto>) => {\r\n      questionsAdapter.addMany(state, action.payload.questions);\r\n      const len = state.ids.length;\r\n      state.currentQuestionID = state.ids[getRandomInt(len)].toString();\r\n    }\r\n  }\r\n\r\n})\r\n\r\nexport default questionSlide.reducer;\r\n","import styled from \"@emotion/styled\";\r\nimport { Dictionary } from \"@reduxjs/toolkit\";\r\nimport React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../reducers/rootReducer\";\r\nimport { Question } from \"../../store/types\";\r\n\r\nconst QuestionCard = styled.div`\r\n  margin-top: 20px;\r\n  background-color: white;\r\n  height: 100%;\r\n  width: 90%;\r\n  padding-left: 20px;\r\n  padding-right: 20px;\r\n`;\r\n\r\nexport const QuestionTab = () => {\r\n  const questions = useSelector<RootState, Dictionary<Question>>(state => state.questions.entities);\r\n  const currQuestionID = useSelector<RootState, string>(state => state.questions.currentQuestionID);\r\n  const currentQuestion = questions[currQuestionID];\r\n  return (\r\n    <QuestionCard>\r\n      <h2>{currentQuestion.title}</h2>\r\n      <p>{currentQuestion.content}</p>\r\n    </QuestionCard>\r\n  )\r\n}","import { createAsyncThunk, createEntityAdapter, createSlice, current, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { DiscussionsApi, GetDiscussionsDto } from \"../api\";\r\nimport { Discussion } from \"../store/types\";\r\n\r\nconst discussionsAdapter = createEntityAdapter<Discussion>({\r\n  selectId: item => item._id\r\n})\r\n\r\nconst api = new DiscussionsApi();\r\n\r\nexport const fetchDiscussionsByQuestionId = createAsyncThunk(\r\n  'fetchDiscussionsByQuestionId',\r\n  async (qID: string) => {\r\n    const foundDiscussions: GetDiscussionsDto = await api.discussionsControllerGetDiscussionsByQuestionID(qID);\r\n    return foundDiscussions;\r\n  }\r\n)\r\n\r\nexport const discussionsSlice = createSlice({\r\n  name: \"discussions\",\r\n  initialState: discussionsAdapter.getInitialState<{ currentDiscussionID: string }>(\r\n    {\r\n      currentDiscussionID: ''\r\n    }\r\n  ),\r\n  reducers: {\r\n    showDiscussion: (state, action: PayloadAction<string>) => {\r\n      state.currentDiscussionID = action.payload\r\n    }\r\n  },\r\n  extraReducers: {\r\n    [fetchDiscussionsByQuestionId.fulfilled.type]: (state, action: PayloadAction<GetDiscussionsDto>) => {\r\n      discussionsAdapter.addMany(state, action.payload.discussions);\r\n    }\r\n  }\r\n})\r\n\r\nexport default discussionsSlice.reducer;\r\nexport const { showDiscussion } = discussionsSlice.actions;","import styled from \"@emotion/styled\";\r\nimport React from \"react\";\r\nimport Avatar from \"../common/Avatar\";\r\n\r\nexport const DiscussionCardContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: fit-content;\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  box-shadow: 3px 3px #F2F2F2;\r\n  margin-top: 10px;\r\n  padding-top: 10px;\r\n  padding-left: 20px;\r\n  padding-right: 20px;\r\n`;\r\nexport const DiscussionCardDetail = () => {\r\n  return (\r\n    <>\r\n      <DiscussionCardContainer>\r\n        <Avatar pic=\"https://picsum.photos/200\" title=\"John Zou\" />\r\n        <h1>JAVA SOLUTION</h1>\r\n        <p>Here's my solution</p>\r\n      </DiscussionCardContainer>\r\n    </>\r\n  )\r\n}\r\n","import { Dictionary, unwrapResult } from \"@reduxjs/toolkit\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchDiscussionsByQuestionId } from \"../../reducers/discussionsSlice\";\r\nimport { RootState } from \"../../reducers/rootReducer\";\r\nimport { userSlice } from \"../../reducers/userSlice\";\r\nimport { AppDispatch } from \"../../store\";\r\nimport { Discussion, User } from \"../../store/types\";\r\nimport Avatar from \"../common/Avatar\";\r\nimport ErrorPage from \"../common/ErrorPage\";\r\nimport { Loading } from \"../common/Loading\";\r\nimport { SearchBar } from \"../messenger/SearchBar\";\r\nimport { DiscussionCardContainer } from \"./DiscussionCard\";\r\n\r\nexport const DiscussionTab = () => {\r\n\r\n  const dispatch = useDispatch<AppDispatch>();\r\n  const currentQuestionID = useSelector<RootState, string>(state => state.questions.currentQuestionID)\r\n  const discussions = useSelector<RootState, Dictionary<Discussion>>(state => state.discussions.entities)\r\n  const users = useSelector<RootState, Dictionary<User>>(state => state.users.entities)\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    dispatch(fetchDiscussionsByQuestionId(currentQuestionID)).then(unwrapResult).then(\r\n      () => setLoading(false)).catch(error => {\r\n        console.log(error);\r\n        setError(error);\r\n        setLoading(false);\r\n      });\r\n  }, [])\r\n\r\n  if (loading) {\r\n    return <Loading />\r\n  }\r\n\r\n  if (error) {\r\n    return <ErrorPage error={error} />\r\n  }\r\n  return (\r\n    <div style={{ display: \"flex\", flexDirection: \"column\", width: \"80%\" }}>\r\n      {/* <SearchBar /> */}\r\n      {Object.values(discussions).map((discussion) => (\r\n        <>\r\n          < DiscussionCardContainer >\r\n            <Avatar pic={users[discussion.author].profilePic} title={users[discussion.author].name} subtitle={discussion.title} boldSub={true}></Avatar>\r\n          </DiscussionCardContainer>\r\n        </>\r\n      )\r\n      )}\r\n    </div >\r\n  )\r\n}","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport { QuestionTab } from './QuestionTab';\r\nimport { DiscussionTab } from './DiscussionTab';\r\nimport styled from '@emotion/styled';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: \"80%\",\r\n  },\r\n});\r\n\r\nexport default function CenteredTabs() {\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(0);\r\n\r\n  const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Paper className={classes.root}>\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          centered\r\n        >\r\n          <Tab label=\"Question\" />\r\n          <Tab label=\"Discussion\" />\r\n        </Tabs>\r\n      </Paper>\r\n\r\n      {!value && <QuestionTab />}\r\n      {!!value && <DiscussionTab />}\r\n    </>\r\n  );\r\n}\r\n","import styled from \"@emotion/styled\";\r\nimport { unwrapResult } from \"@reduxjs/toolkit\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport MonacoEditor from \"@monaco-editor/react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { fetchQuestions } from \"../../reducers/questionsSlice\";\r\nimport { AppDispatch } from \"../../store\";\r\nimport ErrorPage from \"../common/ErrorPage\";\r\nimport { Loading } from \"../common/Loading\";\r\nimport CenteredTabs from \"./CenteredTabs\";\r\n\r\nexport const LeftSideContainer = styled.div`\r\n  padding-top: 9vh;\r\n  width: 50vw;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const RightSideContainer = styled(LeftSideContainer)`\r\n  align-items: center;\r\n`;\r\n\r\nexport const DailyChallenge = () => {\r\n  const [code, setCode] = useState('//type your code...');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const dispatch = useDispatch<AppDispatch>();\r\n  const options = {\r\n    acceptSuggestionOnCommitCharacter: true,\r\n    acceptSuggestionOnEnter: \"on\",\r\n    accessibilitySupport: \"auto\",\r\n    autoIndent: false,\r\n    automaticLayout: true,\r\n    codeLens: true,\r\n    colorDecorators: true,\r\n    contextmenu: true,\r\n    cursorSmoothCaretAnimation: false,\r\n    disableLayerHinting: false,\r\n    disableMonospaceOptimizations: false,\r\n    dragAndDrop: false,\r\n    fixedOverflowWidgets: false,\r\n    folding: true,\r\n    foldingStrategy: \"auto\",\r\n    fontLigatures: false,\r\n    formatOnPaste: false,\r\n    formatOnType: false,\r\n    hideCursorInOverviewRuler: false,\r\n    highlightActiveIndentGuide: true,\r\n    links: true,\r\n    mouseWheelZoom: false,\r\n    multiCursorMergeOverlapping: true,\r\n    multiCursorModifier: \"alt\",\r\n    overviewRulerBorder: true,\r\n    overviewRulerLanes: 2,\r\n    quickSuggestions: true,\r\n    quickSuggestionsDelay: 100,\r\n    readOnly: false,\r\n    renderControlCharacters: false,\r\n    renderFinalNewline: true,\r\n    renderIndentGuides: true,\r\n    renderLineHighlight: \"all\",\r\n    renderWhitespace: \"none\",\r\n    revealHorizontalRightPadding: 30,\r\n    roundedSelection: true,\r\n    rulers: [],\r\n    scrollBeyondLastColumn: 5,\r\n    scrollBeyondLastLine: true,\r\n    selectOnLineNumbers: true,\r\n    selectionClipboard: true,\r\n    selectionHighlight: true,\r\n    showFoldingControls: \"mouseover\",\r\n    smoothScrolling: false,\r\n    suggestOnTriggerCharacters: true,\r\n    wordBasedSuggestions: true,\r\n    wordSeparators: \"~!@#$%^&*()-=+[{]}|;:'\\\",.<>/?\",\r\n    wordWrapBreakAfterCharacters: \"\\t})]?|&,;\",\r\n    wordWrapBreakBeforeCharacters: \"{([+\",\r\n    wordWrapBreakObtrusiveCharacters: \".\",\r\n    wordWrapColumn: 80,\r\n    wordWrapMinified: true,\r\n    wrappingIndent: \"none\"\r\n  } as const;\r\n\r\n  const handleChange = (newValue, e) => {\r\n    console.log('onChange', newValue, e);\r\n  }\r\n\r\n  const editorDidMount = (editor, monaco) => {\r\n    console.log('editorDidMount', editor);\r\n    // editor.focus();\r\n  }\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    dispatch(fetchQuestions()).then(unwrapResult).then(\r\n      () => setLoading(false)).catch(error => {\r\n        console.log(error);\r\n        setError(error);\r\n        setLoading(false);\r\n      });\r\n  }, [])\r\n\r\n  if (loading) {\r\n    return <Loading />\r\n  }\r\n\r\n  if (error) {\r\n    return <ErrorPage error={error} />\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div style={{ display: \"flex\", flexDirection: \"row\" }} >\r\n        <LeftSideContainer style={{ fontFamily: 'Courier New' }}>\r\n          <MonacoEditor\r\n            width=\"50vw\"\r\n            height=\"90vh\"\r\n            language=\"typescript\"\r\n            theme=\"vs-dark\"\r\n            value={code}\r\n            options={\r\n              {\r\n                fontFamily: \"Courier New\"\r\n              }\r\n            }\r\n            editorDidMount={editorDidMount}\r\n          />\r\n        </LeftSideContainer>\r\n\r\n        <RightSideContainer>\r\n          <h1>Daily Coding Challenge July 28</h1>\r\n          <CenteredTabs />\r\n        </RightSideContainer>\r\n\r\n      </div>\r\n    </>\r\n  )\r\n}","import \"./App.css\";\n\nimport React, {useEffect, useRef, useState} from \"react\";\nimport {BrowserRouter as Router, Redirect, Route, Switch} from \"react-router-dom\";\n// import Footer from \"./containers/footer/Footer\";\nimport Header from \"./containers/header/Header\";\nimport CreatePost from \"./pages/create_post/CreatePost\";\nimport UpdatePost from \"./pages/update_post\";\nimport Home from \"./pages/home\";\nimport {DevLogin} from \"./pages/login/DevLogin\";\nimport {Messenger} from \"./pages/messenger\";\nimport PostDetail from \"./pages/post_detail\";\nimport SearchResult from \"./pages/search_result/SearchResult\";\nimport Upload from \"./pages/create_video_post\";\nimport {ViewProfile} from \"./pages/view_profile/ViewProfile\";\nimport {LogOut} from \"./pages/login/Logout\";\nimport {Experimental} from \"./pages/experimental/Experimental\";\nimport {LoginGitHub} from \"./pages/login/LoginGitHub\";\nimport {AppDispatch} from \"./store\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {fetchTrendingPosts} from \"./reducers/postsSlice\";\nimport {unwrapResult} from \"@reduxjs/toolkit\";\nimport {Loading} from \"./pages/common/Loading\";\nimport ErrorPage from \"./pages/common/ErrorPage\";\nimport {RootState} from \"./reducers/rootReducer\";\nimport {SearchPage} from \"./pages/search/SearchPage\";\nimport {ViewGroupProfile} from \"./pages/group_profile/ViewGroupProfile\";\nimport io from \"socket.io-client\";\nimport {BackEndBaseUriForWs, JwtLocalStorageKey} from \"./constants\";\nimport {createMessageSuccess, fetchMessagesInConversation, receiveNewMessage} from \"./reducers/messagesSlice\";\nimport {NewConversationServerToClientDto} from \"./ws-dto/messages/messenger.ws.dto\";\nimport {addConversation, createConversationSuccess} from \"./reducers/conversationsSlice\";\nimport {CreateCommentEvent} from \"./ws-dto/comments/dto/createComment.ws.dto\";\nimport {createCommentSuccess, getCommentsByPostIDSuccess} from \"./reducers/commentsSlice\";\nimport {GetCommentsByPostIDEvent, GetCommentsServerToClientDto} from \"./ws-dto/comments/dto/getCommentsByPostID.ws.dto\";\nimport {DailyChallenge} from \"./pages/daily_challenge\";\n\nexport type ViewProfileParams = {\n  username: string;\n};\n\nexport type ViewGroupParams = {\n  groupID: string;\n}\n\nexport type PostDetailParams = {\n  slug: string;\n};\nexport const SocketContext = React.createContext<React.MutableRefObject<SocketIOClient.Socket>>(null);\n\nexport default function App() {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const isLoggedIn = useSelector<RootState, boolean>(state => state.isLoggedIn);\n  const dispatch = useDispatch<AppDispatch>();\n\n  const socket = useRef<SocketIOClient.Socket>(null);\n  console.log(\"App.tsx render\");\n  useEffect(() => {\n    console.log(\"App.tsx useEffect (creating new socket)\");\n    socket.current = io(BackEndBaseUriForWs);\n    socket.current.on('connection', () => {\n      console.log(`Connected to ${BackEndBaseUriForWs}: ` + socket.current.connected); // true\n      console.log('Authenticating...'); // true\n      // Send server the JWT so it can authenticate ther user\n      socket.current.emit('authenticate', {jwt: localStorage.getItem(JwtLocalStorageKey)});\n    });\n\n    // The server responds with the same event\n    socket.current.on('authenticate', () => {\n      console.log(\"Auth passed! emitting getcConversationsAndUsers...\");\n      // Upon receiving this event, can now ask for everything else\n      socket.current.emit('getConversationsAndUsers', {}); // an empty object is required for auth\n    });\n\n    socket.current.on('getConversationsAndUsers', (data: any) => {\n      dispatch({\n        type: 'getConversationsAndUsers',\n        payload: data,\n      });\n    });\n\n    socket.current.on('newMessage', (response: any) => {//listen for the incoming response(s) from 'newMessage' event\n      // if message is sent by user\n      if (socket.current.id === response.id) {\n        dispatch(createMessageSuccess(response));\n      } else {\n        dispatch(receiveNewMessage(response));\n      }\n    });\n\n    socket.current.on('newConversation', (data: NewConversationServerToClientDto) => {\n      // Client (user) created the new conversation\n      if (data.isCreator) {\n        dispatch(createConversationSuccess(data.conversation));\n        dispatch(fetchMessagesInConversation({conversationID: data.conversation._id}));\n      } else {\n        // Conversation was created elsewhere\n        dispatch(addConversation(data.conversation))\n      }\n    });\n\n    socket.current.on(GetCommentsByPostIDEvent, (response: GetCommentsServerToClientDto) => {\n      dispatch(getCommentsByPostIDSuccess(response)); // TODO\n    });\n\n    socket.current.on(CreateCommentEvent, (response: any) => {//listen for the incoming response(s) from 'newMessage' event\n      // if message is sent by user\n      dispatch(createCommentSuccess(response));\n    });\n\n  }, [])\n\n  useEffect(() => {\n    setLoading(true);\n    dispatch(fetchTrendingPosts({fetchCount: 0}))\n      .then(unwrapResult).then( //must set dispatch to any to use .then\n      () => {\n        setLoading(false)\n      }\n    ).catch(error => {\n      console.log(error);\n      setError(error);\n      setLoading(false);\n    });\n  }, [isLoggedIn]);\n\n  if (loading) {\n    return <Loading/>\n  }\n\n  if (error) {\n    return <ErrorPage error={error}/>\n  }\n\n  return (\n    <SocketContext.Provider value={socket}>\n\n      <Router>\n        <Header></Header>\n        <Switch>\n          <Route path=\"/daily-challenge\">\n            <DailyChallenge />\n          </Route>\n          <Route path=\"/user/:username\">\n            <ViewProfile/>\n          </Route>\n          <Route path=\"/group/:groupID\">\n            <ViewGroupProfile/>\n          </Route>\n          <Route path=\"/create-post\">\n            <CreatePost/>\n          </Route>\n          <Route path=\"/update-post/:slug\">\n            <UpdatePost/>\n          </Route>\n          <Route exact path=\"/post\">\n            <Home/>\n          </Route>\n          <Route path=\"/post/:slug\">\n            <PostDetail/>\n          </Route>\n          <Route path=\"/messages\">\n            <Messenger/>\n          </Route>\n          <Route path={\"/search\"}>\n            <SearchPage/>\n          </Route>\n          <Route path=\"/result\">\n            {/*Unused*/}\n            <SearchResult/>\n          </Route>\n          <Route path=\"/video_management\">\n            <Upload/>\n          </Route>\n          <Route path=\"/login/github\">\n            <LoginGitHub/>\n          </Route>\n          <Route path=\"/login\">\n            <DevLogin/>\n          </Route>\n          <Route path=\"/logout\">\n            <LogOut></LogOut>\n          </Route>\n          <Route path=\"/test\">\n            <Experimental/>\n          </Route>\n          <Route path=\"/home\">\n            <Home/>\n          </Route>\n          <Route exact path=\"/\">\n            <Redirect to=\"/home\"></Redirect>\n          </Route>\n        </Switch>\n        {/* <Footer></Footer> */}\n      </Router>\n\n    </SocketContext.Provider>\n  );\n}\n","import { red } from '@material-ui/core/colors';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\n\r\n// A custom theme for this app\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#FFFFFF',\r\n     },\r\n//    secondary: {\r\n//      main: '#19857b',\r\n//    },\r\n    textPrimary: {\r\n      main: '#000000',\r\n    },\r\n\r\n    text: {\r\n   main: '#000000',\r\n    },\r\n    error: {\r\n      main: red.A400,\r\n    },\r\n    background: {\r\n      default: '#fff',\r\n    },\r\n  },\r\n});\r\n\r\nexport default theme;","import {createEntityAdapter, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {fetchTrendingPosts, fetchPostBySlug, fetchPostsByTag} from \"./postsSlice\";\r\nimport {Tag} from \"../store/types\";\r\nimport {GetInitialDataDto, GetInitialDataLoggedInDto, GetPostDetailsSuccessDto, GetPostsByTagDto} from \"../api\";\r\n\r\nconst tagsAdapter = createEntityAdapter<Tag>({\r\n    selectId: item => item._id\r\n})\r\n\r\n//https://redux-toolkit.js.org/api/createSlice\r\nexport const tagsSlice = createSlice({\r\n    name: \"users\",\r\n    initialState: tagsAdapter.getInitialState<{ hasMorePostsInTags: Record<string, boolean> }>({\r\n        hasMorePostsInTags: {\r\n            \"CPP\": true,\r\n        }\r\n    }),\r\n    reducers: {},\r\n    extraReducers: {\r\n        // Initialize Tags slice when initial data is fetched\r\n        [fetchTrendingPosts.fulfilled.type]: (state, action: PayloadAction<GetInitialDataDto | GetInitialDataLoggedInDto>) => {\r\n            // Create tags\r\n            // console.log(\"TAGSLICE::START\")\r\n            // console.log(action.payload)\r\n            // console.log(action.payload.tags)\r\n            tagsAdapter.upsertMany(state, action.payload.tags.map(tag => {\r\n                // console.log(\"TAGSLICE::INMAP\");\r\n                const tagEntity = tag as unknown as Tag;\r\n                // console.log(tagEntity);\r\n                tagEntity.postsSet = {};\r\n                return tagEntity;\r\n            }));\r\n\r\n            // Update tags with trending posts\r\n            action.payload.posts.forEach(post => {\r\n                post.tags.forEach(id => {\r\n                    // For each tag in each post, add/update post to the tag in Redux store (idempotent)\r\n                    tagsAdapter.updateOne(state, {id, changes: {postsSet: {[post._id]: true}}});\r\n                });\r\n            });\r\n\r\n            // Initialize hasMorePostsInTags\r\n            action.payload.tags.forEach(tag => {\r\n                state.hasMorePostsInTags[tag._id] = true;\r\n            })\r\n        },\r\n\r\n        // Update Tags when a post is fetched\r\n        [fetchPostBySlug.fulfilled.type]: (state, action: PayloadAction<GetPostDetailsSuccessDto>) => {\r\n            action.payload.post.tags.forEach(id => {\r\n                tagsAdapter.updateOne(state, {id, changes: {postsSet: {[action.payload.post._id]: true}}});\r\n            });\r\n        },\r\n\r\n        // TODO Update Tags when posts are fetched by tag\r\n        [fetchPostsByTag.fulfilled.type]: (state, action: PayloadAction<GetPostsByTagDto>) => {\r\n            const postsSet = {};\r\n            action.payload.posts.forEach(post => {\r\n                postsSet[post._id] = true\r\n            });\r\n            tagsAdapter.updateOne(state, {id: action.payload.tagID, changes: {postsSet}});\r\n        },\r\n\r\n        // payload is tagID\r\n        [fetchPostsByTag.rejected.type]: (state, action: PayloadAction<string>) => {\r\n            state.hasMorePostsInTags[action.payload] = false;\r\n        }\r\n\r\n        // TODO: add post to tags upon post creation\r\n        // TODO: potentially update tags upon post update\r\n    }\r\n});\r\n\r\nexport default tagsSlice.reducer;","// export function videos(state = {}, action) {\r\n//   return state;\r\n// }\r\n\r\nimport { PayloadAction } from '@reduxjs/toolkit';\r\nimport { PostsApi, VideoApi, GetAllVideosDto, VideoDto } from './../api/api';\r\nimport { Video } from './../store/types';\r\nimport { createEntityAdapter, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { createSlice } from '@reduxjs/toolkit';\r\n\r\n\r\nconst videosAdapter = createEntityAdapter<Video>({\r\n  selectId: video => video._id,\r\n})\r\n\r\nexport const getAllVideos = createAsyncThunk(\r\n  'getAllVideosStatus',\r\n  async () => {\r\n    return await new VideoApi().videoControllerGetAllVideos();\r\n  }\r\n);\r\n\r\nexport const createVideo = createAsyncThunk(\r\n  'createVideoStatus',\r\n  async (video: any) => {\r\n    const videoDto = { name: video.name, description: video.description };\r\n    return await new VideoApi().videoControllerCreateVideo(videoDto);\r\n  }\r\n)\r\n\r\n// dispatch(createVideo(video))\r\n\r\nexport const videosSlice = createSlice({\r\n  name: 'video',\r\n  initialState: videosAdapter.getInitialState(),\r\n  reducers: {\r\n\r\n  },\r\n  extraReducers: {\r\n    [getAllVideos.fulfilled.type]: (state, action: PayloadAction<GetAllVideosDto>) => {\r\n      const videosToAdd = action.payload.videos;\r\n      videosAdapter.upsertMany(state, videosToAdd);\r\n    },\r\n    [createVideo.fulfilled.type]: (state, action: PayloadAction<VideoDto>) => {\r\n      const video: Video = action.payload;\r\n      videosAdapter.addOne(state, video);\r\n    }\r\n  }\r\n})\r\n\r\nexport default videosSlice.reducer;","import { combineReducers } from \"redux\";\r\nimport postsReducer from './postsSlice';\r\nimport usersReducer from './usersSlice';\r\nimport tagsReducer from './tagsSlice';\r\nimport userReducer from \"./userSlice\";\r\nimport isLoggedInReducer from \"./isLoggedInSlice\";\r\nimport groupsReducer from \"./groupsSlice\";\r\nimport commentsReducer from \"./commentsSlice\";\r\nimport conversationsReducer from \"./conversationsSlice\";\r\nimport videosReducer from \"./videosSlice\";\r\nimport messagesReducer from \"./messagesSlice\";\r\nimport questionsReducer from \"./questionsSlice\";\r\nimport discussionsReducer from \"./discussionsSlice\";\r\n\r\nconst rootReducer = combineReducers({\r\n  isLoggedIn: isLoggedInReducer,\r\n  user: userReducer,\r\n  users: usersReducer,\r\n  posts: postsReducer,\r\n  tags: tagsReducer,\r\n  groups: groupsReducer,\r\n  comments: commentsReducer,\r\n  conversations: conversationsReducer,\r\n  videos: videosReducer,\r\n  messages: messagesReducer,\r\n  questions: questionsReducer,\r\n  discussions: discussionsReducer,\r\n})\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>\r\n\r\nexport default rootReducer","import { configureStore } from '@reduxjs/toolkit';\r\nimport rootReducer from '../reducers/rootReducer';\r\n\r\n\r\nconst store = configureStore({\r\n  reducer: rootReducer\r\n})\r\n\r\nexport default store;\r\nexport type AppDispatch = typeof store.dispatch;\r\n","import './index.css';\r\nimport { ThemeProvider } from '@material-ui/core/styles';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './App';\r\nimport theme from './theme';\r\nimport store from './store';\r\n\r\n/*\r\nimport { JwtLocalStorageKey } from './constants';\r\nimport { rootReducer } from './reducers';\r\nimport RootState, {Loadable, Tag} from './store';\r\nimport theme from './theme';\r\nimport {postsCreation} from \"./reducers/postsCreation\";\r\n\r\nconst initialState: RootState = {\r\n  isLoggedIn: !!localStorage.getItem(JwtLocalStorageKey),\r\n  postsCreation: {\r\n    title: '',\r\n    content: '',\r\n    tags: []\r\n  },\r\n\r\n  attachments: {},\r\n  comments: {},\r\n  conversations: {},\r\n  groups: {},\r\n  messages: {},\r\n  posts: {},\r\n  tags: {},\r\n  users: {},\r\n  videos: {},\r\n\r\n  slugs: {},\r\n  userIDs: {},\r\n\r\n  user: { loading: false },\r\n  trendingPosts: { loading: false },\r\n  userOwnPosts: { loading: false },\r\n  trendingVideos: { loading: false },\r\n  savedPosts: { loading: false },\r\n}\r\n\r\nconst store = createStore(rootReducer, initialState, composeWithDevTools(applyMiddleware(thunk)));\r\n */\r\n\r\nconst Root = () => {\r\n  return (\r\n    <React.StrictMode>\r\n      <ThemeProvider theme={theme}>\r\n        <Provider store={store}>\r\n          <App />\r\n        </Provider>\r\n      </ThemeProvider>\r\n    </React.StrictMode>)\r\n}\r\n\r\nReactDOM.render(\r\n  <Root />,\r\n  document.querySelector(\"#root\")\r\n);\r\n","module.exports = __webpack_public_path__ + \"static/media/404.6695af99.svg\";","module.exports = __webpack_public_path__ + \"static/media/defaultUserProfileBannerImg.5cb40d28.jpg\";","module.exports = __webpack_public_path__ + \"static/media/commentIcon.1b5b0267.svg\";","module.exports = __webpack_public_path__ + \"static/media/heartIcon.7746f5e4.svg\";","module.exports = __webpack_public_path__ + \"static/media/heartIconRed.095cbef3.svg\";"],"sourceRoot":""}